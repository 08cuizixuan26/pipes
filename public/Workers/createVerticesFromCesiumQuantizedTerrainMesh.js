define(function(){"use strict";function ie(e){return null!=e}function o(e){var t;this.name="DeveloperError",this.message=e;try{throw new Error}catch(e){t=e.stack}this.stack=t}ie(Object.create)&&((o.prototype=Object.create(Error.prototype)).constructor=o),o.prototype.toString=function(){var e=this.name+": "+this.message;return ie(this.stack)&&(e+="\n"+this.stack.toString()),e},o.throwInstantiationError=function(){throw new o("This function defines an interface and should not be called directly.")};var i={};function r(e,t,r){return"Expected "+r+" to be typeof "+t+", actual typeof was "+e}function C(e,t){return null!=e?e:t}function t(e){null==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e)}i.typeOf={},i.defined=function(e,t){if(!ie(t))throw new o(e+" is required, actual value was undefined")},i.typeOf.func=function(e,t){if("function"!=typeof t)throw new o(r(typeof t,"function",e))},i.typeOf.string=function(e,t){if("string"!=typeof t)throw new o(r(typeof t,"string",e))},i.typeOf.number=function(e,t){if("number"!=typeof t)throw new o(r(typeof t,"number",e))},i.typeOf.number.lessThan=function(e,t,r){if(i.typeOf.number(e,t),r<=t)throw new o("Expected "+e+" to be less than "+r+", actual value was "+t)},i.typeOf.number.lessThanOrEquals=function(e,t,r){if(i.typeOf.number(e,t),r<t)throw new o("Expected "+e+" to be less than or equal to "+r+", actual value was "+t)},i.typeOf.number.greaterThan=function(e,t,r){if(i.typeOf.number(e,t),t<=r)throw new o("Expected "+e+" to be greater than "+r+", actual value was "+t)},i.typeOf.number.greaterThanOrEquals=function(e,t,r){if(i.typeOf.number(e,t),t<r)throw new o("Expected "+e+" to be greater than or equal to"+r+", actual value was "+t)},i.typeOf.object=function(e,t){if("object"!=typeof t)throw new o(r(typeof t,"object",e))},i.typeOf.bool=function(e,t){if("boolean"!=typeof t)throw new o(r(typeof t,"boolean",e))},i.typeOf.number.equals=function(e,t,r,n){if(i.typeOf.number(e,r),i.typeOf.number(t,n),r!==n)throw new o(e+" must be equal to "+t+", the actual values are "+r+" and "+n)},C.EMPTY_OBJECT=Object.freeze({}),t.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},t.prototype.genrand_int32=function(){var e,t,r=new Array(0,this.MATRIX_A);if(this.mti>=this.N){for(this.mti==this.N+1&&this.init_genrand(5489),t=0;t<this.N-this.M;t++)e=this.mt[t]&this.UPPER_MASK|this.mt[t+1]&this.LOWER_MASK,this.mt[t]=this.mt[t+this.M]^e>>>1^r[1&e];for(;t<this.N-1;t++)e=this.mt[t]&this.UPPER_MASK|this.mt[t+1]&this.LOWER_MASK,this.mt[t]=this.mt[t+(this.M-this.N)]^e>>>1^r[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^r[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},t.prototype.random=function(){return this.genrand_int32()*(1/4294967296)};var oe={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,EPSILON21:1e-21,GRAVITATIONALPARAMETER:3986004418e5,SOLAR_RADIUS:6955e5,LUNAR_RADIUS:1737400,SIXTY_FOUR_KILOBYTES:65536,FOUR_GIGABYTES:4294967296};oe.sign=C(Math.sign,function(e){return 0===(e=+e)||e!=e?e:0<e?1:-1}),oe.signNotZero=function(e){return e<0?-1:1},oe.toSNorm=function(e,t){return t=C(t,255),Math.round((.5*oe.clamp(e,-1,1)+.5)*t)},oe.fromSNorm=function(e,t){return t=C(t,255),oe.clamp(e,0,t)/t*2-1},oe.normalize=function(e,t,r){return 0===(r=Math.max(r-t,0))?0:oe.clamp((e-t)/r,0,1)},oe.sinh=C(Math.sinh,function(e){return(Math.exp(e)-Math.exp(-e))/2}),oe.cosh=C(Math.cosh,function(e){return(Math.exp(e)+Math.exp(-e))/2}),oe.lerp=function(e,t,r){return(1-r)*e+r*t},oe.PI=Math.PI,oe.ONE_OVER_PI=1/Math.PI,oe.PI_OVER_TWO=Math.PI/2,oe.PI_OVER_THREE=Math.PI/3,oe.PI_OVER_FOUR=Math.PI/4,oe.PI_OVER_SIX=Math.PI/6,oe.THREE_PI_OVER_TWO=3*Math.PI/2,oe.TWO_PI=2*Math.PI,oe.ONE_OVER_TWO_PI=1/(2*Math.PI),oe.RADIANS_PER_DEGREE=Math.PI/180,oe.DEGREES_PER_RADIAN=180/Math.PI,oe.RADIANS_PER_ARCSECOND=oe.RADIANS_PER_DEGREE/3600,oe.toRadians=function(e){return e*oe.RADIANS_PER_DEGREE},oe.toDegrees=function(e){return e*oe.DEGREES_PER_RADIAN},oe.convertLongitudeRange=function(e){var t=oe.TWO_PI,e=e-Math.floor(e/t)*t;return e<-Math.PI?e+t:e>=Math.PI?e-t:e},oe.clampToLatitudeRange=function(e){return oe.clamp(e,-1*oe.PI_OVER_TWO,oe.PI_OVER_TWO)},oe.negativePiToPi=function(e){return oe.zeroToTwoPi(e+oe.PI)-oe.PI},oe.zeroToTwoPi=function(e){var t=oe.mod(e,oe.TWO_PI);return Math.abs(t)<oe.EPSILON14&&Math.abs(e)>oe.EPSILON14?oe.TWO_PI:t},oe.mod=function(e,t){return(e%t+t)%t},oe.equalsEpsilon=function(e,t,r,n){r=C(r,0),n=C(n,r);var i=Math.abs(e-t);return i<=n||i<=r*Math.max(Math.abs(e),Math.abs(t))},oe.lessThan=function(e,t,r){return e-t<-r},oe.lessThanOrEquals=function(e,t,r){return e-t<r},oe.greaterThan=function(e,t,r){return r<e-t},oe.greaterThanOrEquals=function(e,t,r){return-r<e-t};var a=[1];oe.factorial=function(e){var t=a.length;if(t<=e)for(var r=a[t-1],n=t;n<=e;n++){var i=r*n;a.push(i),r=i}return a[e]},oe.incrementWrap=function(e,t,r){return r=C(r,0),e=t<++e?r:e},oe.isPowerOfTwo=function(e){return 0!==e&&0==(e&e-1)},oe.nextPowerOfTwo=function(e){return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},oe.clamp=function(e,t,r){return e<t?t:r<e?r:e};var n=new t;function ae(e,t){this.x=C(e,0),this.y=C(t,0)}oe.setRandomNumberSeed=function(e){n=new t(e)},oe.nextRandomNumber=function(){return n.random()},oe.randomBetween=function(e,t){return oe.nextRandomNumber()*(t-e)+e},oe.acosClamped=function(e){return Math.acos(oe.clamp(e,-1,1))},oe.asinClamped=function(e){return Math.asin(oe.clamp(e,-1,1))},oe.chordLength=function(e,t){return 2*t*Math.sin(.5*e)},oe.logBase=function(e,t){return Math.log(e)/Math.log(t)},oe.cbrt=C(Math.cbrt,function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}),oe.log2=C(Math.log2,function(e){return Math.log(e)*Math.LOG2E}),oe.fog=function(e,t){t*=e;return 1-Math.exp(-t*t)},oe.fastApproximateAtan=function(e){return e*(-.1784*Math.abs(e)-.0663*e*e+1.0301)},oe.fastApproximateAtan2=function(e,t){var r=Math.abs(e),n=Math.abs(t),i=Math.max(r,n);n=Math.min(r,n);r=oe.fastApproximateAtan(n/i);return r=Math.abs(t)>Math.abs(e)?oe.PI_OVER_TWO-r:r,r=e<0?oe.PI-r:r,r=t<0?-r:r},ae.fromElements=function(e,t,r){return ie(r)?(r.x=e,r.y=t,r):new ae(e,t)},ae.fromCartesian3=ae.clone=function(e,t){if(ie(e))return ie(t)?(t.x=e.x,t.y=e.y,t):new ae(e.x,e.y)},ae.fromCartesian4=ae.clone,ae.packedLength=2,ae.pack=function(e,t,r){return r=C(r,0),t[r++]=e.x,t[r]=e.y,t},ae.unpack=function(e,t,r){return t=C(t,0),(r=!ie(r)?new ae:r).x=e[t++],r.y=e[t],r},ae.packArray=function(e,t){var r=e.length,n=2*r;if(ie(t)){if(!Array.isArray(t)&&t.length!==n)throw new o("If result is a typed array, it must have exactly array.length * 2 elements");t.length!==n&&(t.length=n)}else t=new Array(n);for(var i=0;i<r;++i)ae.pack(e[i],t,2*i);return t},ae.unpackArray=function(e,t){var r=e.length;ie(t)?t.length=r/2:t=new Array(r/2);for(var n=0;n<r;n+=2){var i=n/2;t[i]=ae.unpack(e,n,t[i])}return t},ae.fromArray=ae.unpack,ae.maximumComponent=function(e){return Math.max(e.x,e.y)},ae.minimumComponent=function(e){return Math.min(e.x,e.y)},ae.minimumByComponent=function(e,t,r){return r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r},ae.maximumByComponent=function(e,t,r){return r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r},ae.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},ae.magnitude=function(e){return Math.sqrt(ae.magnitudeSquared(e))};var s=new ae;ae.distance=function(e,t){return ae.subtract(e,t,s),ae.magnitude(s)},ae.distanceSquared=function(e,t){return ae.subtract(e,t,s),ae.magnitudeSquared(s)},ae.normalize=function(e,t){var r=ae.magnitude(e);return 0!=r?(t.x=e.x/r,t.y=e.y/r):ae.clone(e,t),Math.abs(t.x)<oe.EPSILON8&&(t.x=0),Math.abs(t.y)<oe.EPSILON8&&(t.y=0),t},ae.dot=function(e,t){return e.x*t.x+e.y*t.y},ae.multiplyComponents=function(e,t,r){return r.x=e.x*t.x,r.y=e.y*t.y,r},ae.divideComponents=function(e,t,r){return r.x=e.x/t.x,r.y=e.y/t.y,r},ae.add=function(e,t,r){return r.x=e.x+t.x,r.y=e.y+t.y,r},ae.subtract=function(e,t,r){return r.x=e.x-t.x,r.y=e.y-t.y,r},ae.multiplyByScalar=function(e,t,r){return r.x=e.x*t,r.y=e.y*t,r},ae.divideByScalar=function(e,t,r){return r.x=e.x/t,r.y=e.y/t,r},ae.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t},ae.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t};var u=new ae;ae.lerp=function(e,t,r,n){return ae.multiplyByScalar(t,r,u),n=ae.multiplyByScalar(e,1-r,n),ae.add(u,n,n)};var c=new ae,l=new ae;ae.angleBetween=function(e,t){return ae.normalize(e,c),ae.normalize(t,l),oe.acosClamped(ae.dot(c,l))};var f=new ae;function se(e,t,r){this.x=C(e,0),this.y=C(t,0),this.z=C(r,0)}ae.mostOrthogonalAxis=function(e,t){e=ae.normalize(e,f);return ae.abs(e,e),t=e.x<=e.y?ae.clone(ae.UNIT_X,t):ae.clone(ae.UNIT_Y,t)},ae.equals=function(e,t){return e===t||ie(e)&&ie(t)&&e.x===t.x&&e.y===t.y},ae.equalsArray=function(e,t,r){return e.x===t[r]&&e.y===t[r+1]},ae.equalsEpsilon=function(e,t,r,n){return e===t||ie(e)&&ie(t)&&oe.equalsEpsilon(e.x,t.x,r,n)&&oe.equalsEpsilon(e.y,t.y,r,n)},ae.ZERO=Object.freeze(new ae(0,0)),ae.UNIT_X=Object.freeze(new ae(1,0)),ae.UNIT_Y=Object.freeze(new ae(0,1)),ae.prototype.clone=function(e){return ae.clone(this,e)},ae.prototype.equals=function(e){return ae.equals(this,e)},ae.prototype.equalsEpsilon=function(e,t,r){return ae.equalsEpsilon(this,e,t,r)},ae.prototype.toString=function(){return"("+this.x+", "+this.y+")"},ae.prototype.set=function(e,t){this.x=e,this.y=t},ae.prototype.fromArray=function(e,t){return this.x=e[t=void 0===t?0:t],this.y=e[t+1],this},ae.prototype.toArray=function(e,t){return(e=void 0===e?[]:e)[t=void 0===t?0:t]=this.x,e[t+1]=this.y,e},se.fromSpherical=function(e,t){ie(t)||(t=new se);var r=e.clock,n=e.cone,i=C(e.magnitude,1),e=i*Math.sin(n);return t.x=e*Math.cos(r),t.y=e*Math.sin(r),t.z=i*Math.cos(n),t},se.fromElements=function(e,t,r,n){return ie(n)?(n.x=e,n.y=t,n.z=r,n):new se(e,t,r)},se.fromCartesian4=se.clone=function(e,t){if(ie(e))return ie(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new se(e.x,e.y,e.z)},se.packedLength=3,se.pack=function(e,t,r){return r=C(r,0),t[r++]=e.x,t[r++]=e.y,t[r]=e.z,t},se.unpack=function(e,t,r){return t=C(t,0),(r=!ie(r)?new se:r).x=e[t++],r.y=e[t++],r.z=e[t],r},se.packArray=function(e,t){var r=e.length,n=3*r;if(ie(t)){if(!Array.isArray(t)&&t.length!==n)throw new o("If result is a typed array, it must have exactly array.length * 3 elements");t.length!==n&&(t.length=n)}else t=new Array(n);for(var i=0;i<r;++i)se.pack(e[i],t,3*i);return t},se.unpackArray=function(e,t){var r=e.length;ie(t)?t.length=r/3:t=new Array(r/3);for(var n=0;n<r;n+=3){var i=n/3;t[i]=se.unpack(e,n,t[i])}return t},se.fromArray=se.unpack,se.maximumComponent=function(e){return Math.max(e.x,e.y,e.z)},se.minimumComponent=function(e){return Math.min(e.x,e.y,e.z)},se.minimumByComponent=function(e,t,r){return r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r.z=Math.min(e.z,t.z),r},se.maximumByComponent=function(e,t,r){return r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r.z=Math.max(e.z,t.z),r},se.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z},se.magnitude=function(e){return Math.sqrt(se.magnitudeSquared(e))};var h=new se;se.distance=function(e,t){return se.subtract(e,t,h),se.magnitude(h)},se.distanceSquared=function(e,t){return se.subtract(e,t,h),se.magnitudeSquared(h)},se.normalize=function(e,t){var r=se.magnitude(e);return 0!=r?(t.x=e.x/r,t.y=e.y/r,t.z=e.z/r):se.clone(e,t),Math.abs(t.x)<oe.EPSILON8&&(t.x=0),Math.abs(t.y)<oe.EPSILON8&&(t.y=0),Math.abs(t.z)<oe.EPSILON8&&(t.z=0),t},se.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},se.multiplyComponents=function(e,t,r){return r.x=e.x*t.x,r.y=e.y*t.y,r.z=e.z*t.z,r},se.divideComponents=function(e,t,r){return r.x=e.x/t.x,r.y=e.y/t.y,r.z=e.z/t.z,r},se.add=function(e,t,r){return r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r},se.subtract=function(e,t,r){return r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r},se.multiplyByScalar=function(e,t,r){return r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r},se.divideByScalar=function(e,t,r){return r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r},se.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t},se.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t};var m=new se;se.lerp=function(e,t,r,n){return se.multiplyByScalar(t,r,m),n=se.multiplyByScalar(e,1-r,n),se.add(m,n,n)};var d=new se,E=new se;se.angleBetween=function(e,t){se.normalize(e,d),se.normalize(t,E);e=se.dot(d,E),t=se.magnitude(se.cross(d,E,d));return Math.atan2(t,e)};var p=new se;se.mostOrthogonalAxis=function(e,t){e=se.normalize(e,p);return se.abs(e,e),t=e.x<=e.y?e.x<=e.z?se.clone(se.UNIT_X,t):se.clone(se.UNIT_Z,t):e.y<=e.z?se.clone(se.UNIT_Y,t):se.clone(se.UNIT_Z,t)},se.projectVector=function(e,t,r){e=se.dot(e,t)/se.dot(t,t);return se.multiplyByScalar(t,e,r)},se.equals=function(e,t){return e===t||ie(e)&&ie(t)&&Math.abs(e.x-t.x)<1e-10&&Math.abs(e.y-t.y)<1e-10&&Math.abs(e.z-t.z)<1e-10},se.equalsArray=function(e,t,r){return e.x===t[r]&&e.y===t[r+1]&&e.z===t[r+2]},se.equalsEpsilon=function(e,t,r,n){return e===t||ie(e)&&ie(t)&&oe.equalsEpsilon(e.x,t.x,r,n)&&oe.equalsEpsilon(e.y,t.y,r,n)&&oe.equalsEpsilon(e.z,t.z,r,n)},se.cross=function(e,t,r){var n=e.x,i=e.y,o=e.z,a=t.x,s=t.y,e=t.z,t=o*a-n*e,a=n*s-i*a;return r.x=i*e-o*s,r.y=t,r.z=a,r},se.midpoint=function(e,t,r){return r.x=.5*(e.x+t.x),r.y=.5*(e.y+t.y),r.z=.5*(e.z+t.z),r},se.fromDegrees=function(e,t,r,n,i){return e=oe.toRadians(e),t=oe.toRadians(t),se.fromRadians(e,t,r,n,i)};var _=new se,y=new se,T=new se(40680631590769,40680631590769,40408299984661.445);se.fromRadians=function(e,t,r,n,i){r=C(r,0);var o=ie(n)?n.radiiSquared:T,n=Math.cos(t);_.x=n*Math.cos(e),_.y=n*Math.sin(e),_.z=Math.sin(t),_=se.normalize(_,_),se.multiplyComponents(o,_,y);o=Math.sqrt(se.dot(_,y));return y=se.divideByScalar(y,o,y),_=se.multiplyByScalar(_,r,_),ie(i)||(i=new se),se.add(y,_,i)},se.fromDegreesArray=function(e,t,r){var n=e.length;ie(r)?r.length=n/2:r=new Array(n/2);for(var i=0;i<n;i+=2){var o=e[i],a=e[i+1],s=i/2;r[s]=se.fromDegrees(o,a,0,t,r[s])}return r},se.fromRadiansArray=function(e,t,r){var n=e.length;ie(r)?r.length=n/2:r=new Array(n/2);for(var i=0;i<n;i+=2){var o=e[i],a=e[i+1],s=i/2;r[s]=se.fromRadians(o,a,0,t,r[s])}return r},se.fromDegreesArrayHeights=function(e,t,r){var n=e.length;ie(r)?r.length=n/3:r=new Array(n/3);for(var i=0;i<n;i+=3){var o=e[i],a=e[i+1],s=e[i+2],u=i/3;r[u]=se.fromDegrees(o,a,s,t,r[u])}return r},se.fromRadiansArrayHeights=function(e,t,r){var n=e.length;ie(r)?r.length=n/3:r=new Array(n/3);for(var i=0;i<n;i+=3){var o=e[i],a=e[i+1],s=e[i+2],u=i/3;r[u]=se.fromRadians(o,a,s,t,r[u])}return r},se.ZERO=Object.freeze(new se(0,0,0)),se.UNIT_X=Object.freeze(new se(1,0,0)),se.UNIT_Y=Object.freeze(new se(0,1,0)),se.UNIT_Z=Object.freeze(new se(0,0,1)),se.prototype.clone=function(e){return se.clone(this,e)},se.prototype.equals=function(e){return se.equals(this,e)},se.prototype.equalsEpsilon=function(e,t,r){return se.equalsEpsilon(this,e,t,r)},se.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},se.prototype.applyMatrix4=function(e,t,r){ie(r)||(r=new se);var n=e.x,i=e.y,o=e.z,e=1/(t[3]*n+t[7]*i+t[11]*o+t[15]);return r.x=(t[0]*n+t[4]*i+t[8]*o+t[12])*e,r.y=(t[1]*n+t[5]*i+t[9]*o+t[13])*e,r.z=(t[2]*n+t[6]*i+t[10]*o+t[14])*e,r},se.prototype.set=function(e,t,r){this.x=e,this.y=t,this.z=r},se.prototype.fromArray=function(e,t){return this.x=e[t=void 0===t?0:t],this.y=e[t+1],this.z=e[t+2],this},se.prototype.toArray=function(e,t){return(e=void 0===e?[]:e)[t=void 0===t?0:t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e};var ue={octEncodeInRange:function(e,t,r){var n;return r.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),r.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0&&(n=r.x,e=r.y,r.x=(1-Math.abs(e))*oe.signNotZero(n),r.y=(1-Math.abs(n))*oe.signNotZero(e)),r.x=oe.toSNorm(r.x,t),r.y=oe.toSNorm(r.y,t),r},octEncode:function(e,t){return ue.octEncodeInRange(e,255,t)}},g=new ae,R=new Uint8Array(1);function A(e){return R[0]=e,R[0]}ue.octEncodeToCartesian4=function(e,t){return ue.octEncodeInRange(e,65535,g),t.x=A(g.x*(1/256)),t.y=A(g.x),t.z=A(g.y*(1/256)),t.w=A(g.y),t},ue.octDecodeInRange=function(e,t,r,n){return n.x=oe.fromSNorm(e,r),n.y=oe.fromSNorm(t,r),n.z=1-(Math.abs(n.x)+Math.abs(n.y)),n.z<0&&(r=n.x,n.x=(1-Math.abs(n.y))*oe.signNotZero(r),n.y=(1-Math.abs(r))*oe.signNotZero(n.y)),se.normalize(n,n)},ue.octDecode=function(e,t,r){return ue.octDecodeInRange(e,t,255,r)},ue.octDecodeFromCartesian4=function(e,t){var r=e.x,n=e.y,i=e.z,e=e.w;return ue.octDecodeInRange(256*r+n,256*i+e,65535,t)},ue.octPackFloat=function(e){return 256*e.x+e.y};var S=new ae;function O(e){return e>>1^-(1&e)}ue.octEncodeFloat=function(e){return ue.octEncode(e,S),ue.octPackFloat(S)},ue.octDecodeFloat=function(e,t){var r=e/256,e=Math.floor(r);return ue.octDecode(e,256*(r-e),t)},ue.octPack=function(e,t,r,n){e=ue.octEncodeFloat(e),t=ue.octEncodeFloat(t),r=ue.octEncode(r,S);return n.x=65536*r.x+e,n.y=65536*r.y+t,n},ue.octUnpack=function(e,t,r,n){var i=e.x/65536,o=Math.floor(i),a=65536*(i-o),i=e.y/65536,e=Math.floor(i),i=65536*(i-e);ue.octDecodeFloat(a,t),ue.octDecodeFloat(i,r),ue.octDecode(o,e,n)},ue.compressTextureCoordinates=function(e){return 4096*(4095*e.x|0)+(4095*e.y|0)},ue.decompressTextureCoordinates=function(e,t){var r=Math.floor(e/4096);return t.x=r/4095,t.y=(e-4096*r)/4095,t},ue.zigZagDeltaDecode=function(e,t,r){for(var n=e.length,i=0,o=0,a=0,s=0;s<n;++s)i+=O(e[s]),o+=O(t[s]),e[s]=i,t[s]=o,ie(r)&&(a+=O(r[s]),r[s]=a)};var I=new se,N=new se;function M(e,t,r,n,i){var o=e.x,a=e.y,s=e.z,u=t.x,c=t.y,t=t.z,l=o*o*u*u,f=a*a*c*c,h=s*s*t*t,u=l+f+h,c=Math.sqrt(1/u),t=se.multiplyByScalar(e,c,I);if(u<n)return isFinite(c)?se.clone(t,i):void 0;var m=r.x,d=r.y,E=r.z,r=N;r.x=t.x*m*2,r.y=t.y*d*2,r.z=t.z*E*2;var p=(1-c)*se.magnitude(e)/(.5*se.magnitude(r)),_=0;do{var y,T,g,R,A,S,O,_=(O=l*(R=(y=1/(1+(p-=_)*m))*y)+f*(A=(T=1/(1+p*d))*T)+h*(S=(g=1/(1+p*E))*g)-1)/(-2*(l*(R*y)*m+f*(A*T)*d+h*(S*g)*E))}while(Math.abs(O)>oe.EPSILON12);return ie(i)?(i.x=o*y,i.y=a*T,i.z=s*g,i):new se(o*y,a*T,s*g)}function x(e,t,r){this.longitude=C(e,0),this.latitude=C(t,0),this.height=C(r,0)}x.fromRadians=function(e,t,r,n){return r=C(r,0),ie(n)?(n.longitude=e,n.latitude=t,n.height=r,n):new x(e,t,r)},x.fromDegrees=function(e,t,r,n){return e=oe.toRadians(e),t=oe.toRadians(t),x.fromRadians(e,t,r,n)};var w=new se,v=new se,b=new se,P=new se(1/6378137,1/6378137,1/6356752.314245179),F=new se(1/40680631590769,1/40680631590769,1/40408299984661.445),U=oe.EPSILON1;function D(e,t,r,n){t=C(t,0),r=C(r,0),n=C(n,0),e._radii=new se(t,r,n),e._radiiSquared=new se(t*t,r*r,n*n),e._radiiToTheFourth=new se(t*t*t*t,r*r*r*r,n*n*n*n),e._oneOverRadii=new se(0===t?0:1/t,0===r?0:1/r,0===n?0:1/n),e._oneOverRadiiSquared=new se(0===t?0:1/(t*t),0===r?0:1/(r*r),0===n?0:1/(n*n)),e._minimumRadius=Math.min(t,r,n),e._maximumRadius=Math.max(t,r,n),e._centerToleranceSquared=oe.EPSILON1,0!==e._radiiSquared.z&&(e._squaredXOverSquaredZ=e._radiiSquared.x/e._radiiSquared.z)}function ce(e,t,r){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,D(this,e,t,r)}x.fromCartesian=function(e,t,r){var n=ie(t)?t.oneOverRadii:P,i=ie(t)?t.oneOverRadiiSquared:F,n=M(e,n,i,ie(t)?t._centerToleranceSquared:U,v);if(ie(n)){t=se.multiplyComponents(n,i,w),t=se.normalize(t,t),i=se.subtract(e,n,b),n=Math.atan2(t.y,t.x),t=Math.asin(t.z),i=oe.sign(se.dot(i,e))*se.magnitude(i);return ie(r)?(r.longitude=n,r.latitude=t,r.height=i,r):new x(n,t,i)}},x.toCartesian=function(e,t,r){return se.fromRadians(e.longitude,e.latitude,e.height,t,r)},x.clone=function(e,t){if(ie(e))return ie(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new x(e.longitude,e.latitude,e.height)},x.equals=function(e,t){return e===t||ie(e)&&ie(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},x.equalsEpsilon=function(e,t,r){return r=C(r,0),e===t||ie(e)&&ie(t)&&Math.abs(e.longitude-t.longitude)<=r&&Math.abs(e.latitude-t.latitude)<=r&&Math.abs(e.height-t.height)<=r},x.ZERO=Object.freeze(new x(0,0,0)),x.prototype.clone=function(e){return x.clone(this,e)},x.prototype.equals=function(e){return x.equals(this,e)},x.prototype.equalsEpsilon=function(e,t){return x.equalsEpsilon(this,e,t)},x.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},x.geodeticParallelLength=function(e,t,r){return e*r*Math.cos(t)},x.geodeticCircleRadians=function(e,t,r,n){n=Math.cos(t)*Math.cos(n)*Math.cos(e-r)+Math.sin(t)*Math.sin(n);return Math.abs(Math.acos(n))},x.add=function(e,t,r){return r.longitude=e.longitude+t.longitude,r.latitude=e.latitude+t.latitude,r.height=e.height+t.height,r},x.subtract=function(e,t,r){return r.longitude=e.longitude-t.longitude,r.latitude=e.latitude-t.latitude,r.height=e.height-t.height,r},x.multiplyByScalar=function(e,t,r){return r.longitude=e.longitude*t,r.latitude=e.latitude*t,r.height=e.height*t,r},x.divideByScalar=function(e,t,r){return r.longitude=e.longitude/t,r.latitude=e.latitude/t,r.height=e.height/t,r},x.distance=function(e,t){e=new Cartesian2(e.longitude,e.latitude),t=new Cartesian2(t.longitude,t.latitude);return Cartesian2.distance(e,t)},Object.defineProperties(ce.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),ce.clone=function(e,t){if(ie(e)){var r=e._radii;return ie(t)?(se.clone(r,t._radii),se.clone(e._radiiSquared,t._radiiSquared),se.clone(e._radiiToTheFourth,t._radiiToTheFourth),se.clone(e._oneOverRadii,t._oneOverRadii),se.clone(e._oneOverRadiiSquared,t._oneOverRadiiSquared),t._minimumRadius=e._minimumRadius,t._maximumRadius=e._maximumRadius,t._centerToleranceSquared=e._centerToleranceSquared,t):new ce(r.x,r.y,r.z)}},ce.fromCartesian3=function(e,t){return ie(t)||(t=new ce),ie(e)&&D(t,e.x,e.y,e.z),t},ce.WGS84=Object.freeze(new ce(6378137,6378137,6356752.314245179)),ce.UNIT_SPHERE=Object.freeze(new ce(1,1,1)),ce.MOON=Object.freeze(new ce(oe.LUNAR_RADIUS,oe.LUNAR_RADIUS,oe.LUNAR_RADIUS)),ce.DATUM_PLANE=-100,ce.prototype.clone=function(e){return ce.clone(this,e)},ce.packedLength=se.packedLength,ce.pack=function(e,t,r){return r=C(r,0),se.pack(e._radii,t,r),t},ce.unpack=function(e,t,r){t=C(t,0);t=se.unpack(e,t);return ce.fromCartesian3(t,r)},ce.prototype.geocentricSurfaceNormal=se.normalize,ce.prototype.geodeticSurfaceNormalCartographic=function(e,t){var r=e.longitude,n=e.latitude,i=Math.cos(n),e=i*Math.cos(r),r=i*Math.sin(r),n=Math.sin(n);return(t=!ie(t)?new se:t).x=e,t.y=r,t.z=n,se.normalize(t,t)},ce.prototype.geodeticSurfaceNormal=function(e,t){if(!se.equalsEpsilon(e,se.ZERO,oe.EPSILON14))return ie(t)||(t=new se),t=se.multiplyComponents(e,this._oneOverRadiiSquared,t),se.normalize(t,t)};var z=new se,L=new se;ce.prototype.cartographicToCartesian=function(e,t){var r=z,n=L;this.geodeticSurfaceNormalCartographic(e,r),se.multiplyComponents(this._radiiSquared,r,n);var i=Math.sqrt(se.dot(r,n));return se.divideByScalar(n,i,n),se.multiplyByScalar(r,e.height,r),ie(t)||(t=new se),se.add(n,r,t)},ce.prototype.cartographicArrayToCartesianArray=function(e,t){var r=e.length;ie(t)?t.length=r:t=new Array(r);for(var n=0;n<r;n++)t[n]=this.cartographicToCartesian(e[n],t[n]);return t};var B=new se,q=new se,G=new se;ce.prototype.cartesianToCartographic=function(e,t){var r=this.scaleToGeodeticSurface(e,q);if(ie(r)){var n=this.geodeticSurfaceNormal(r,B),i=se.subtract(e,r,G),r=Math.atan2(n.y,n.x),n=Math.asin(n.z),i=oe.sign(se.dot(i,e))*se.magnitude(i);return ie(t)?(t.longitude=r,t.latitude=n,t.height=i,t):new x(r,n,i)}},ce.prototype.cartesianArrayToCartographicArray=function(e,t){var r=e.length;ie(t)?t.length=r:t=new Array(r);for(var n=0;n<r;++n)t[n]=this.cartesianToCartographic(e[n],t[n]);return t},ce.prototype.scaleToGeodeticSurface=function(e,t){return M(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},ce.prototype.scaleToGeocentricSurface=function(e,t){ie(t)||(t=new se);var r=e.x,n=e.y,i=e.z,o=this._oneOverRadiiSquared,o=1/Math.sqrt(r*r*o.x+n*n*o.y+i*i*o.z);return se.multiplyByScalar(e,o,t)},ce.prototype.transformPositionToScaledSpace=function(e,t){return ie(t)||(t=new se),se.multiplyComponents(e,this._oneOverRadii,t)},ce.prototype.transformPositionFromScaledSpace=function(e,t){return ie(t)||(t=new se),se.multiplyComponents(e,this._radii,t)},ce.prototype.equals=function(e){return this===e||ie(e)&&se.equals(this._radii,e._radii)},ce.prototype.toString=function(){return this._radii.toString()},ce.prototype.getSurfaceNormalIntersectionWithZAxis=function(e,t,r){t=C(t,0);var n=this._squaredXOverSquaredZ;if((r=!ie(r)?new se:r).x=0,r.y=0,r.z=e.z*(1-n),!(Math.abs(r.z)>=this._radii.z-t))return r};var j=[.14887433898163,.43339539412925,.67940956829902,.86506336668898,.97390652851717,0],W=[.29552422471475,.26926671930999,.21908636251598,.14945134915058,.066671344308684,0];function H(e,t,r){for(var n=.5*(t+e),i=.5*(t-e),o=0,a=0;a<5;a++){var s=i*j[a];o+=W[a]*(r(n+s)+r(n-s))}return o*=i}function e(e){this._ellipsoid=C(e,ce.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}ce.prototype.surfaceArea=function(e){for(var t=e.west,i=e.east,r=e.south,n=e.north;i<t;)i+=oe.TWO_PI;var e=this._radiiSquared,o=e.x,a=e.y,s=e.z,u=o*a;return H(r,n,function(e){var r=Math.cos(e),n=Math.sin(e);return Math.cos(e)*H(t,i,function(e){var t=Math.cos(e),e=Math.sin(e);return Math.sqrt(u*n*n+s*(a*t*t+o*e*e)*r*r)})})},Object.defineProperties(e.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),e.prototype.project=function(e,t){this._semimajorAxis;var r=e.longitude,n=e.latitude,e=e.height;return ie(t)?(t.x=r,t.y=n,t.z=e,t):new se(r,n,e)},e.prototype.unproject=function(e,t){this._oneOverSemimajorAxis;var r=e.x,n=e.y,e=e.z;return ie(t)?(t.longitude=r,t.latitude=n,t.height=e,t):new x(r,n,e)};var V=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});function X(e,t){this.start=C(e,0),this.stop=C(t,0)}function Y(e,t,r,n,i,o,a,s,u){this[0]=C(e,0),this[1]=C(n,0),this[2]=C(a,0),this[3]=C(t,0),this[4]=C(i,0),this[5]=C(s,0),this[6]=C(r,0),this[7]=C(o,0),this[8]=C(u,0)}Y.packedLength=9,Y.pack=function(e,t,r){return r=C(r,0),t[r++]=e[0],t[r++]=e[1],t[r++]=e[2],t[r++]=e[3],t[r++]=e[4],t[r++]=e[5],t[r++]=e[6],t[r++]=e[7],t[r++]=e[8],t},Y.unpack=function(e,t,r){return t=C(t,0),(r=!ie(r)?new Y:r)[0]=e[t++],r[1]=e[t++],r[2]=e[t++],r[3]=e[t++],r[4]=e[t++],r[5]=e[t++],r[6]=e[t++],r[7]=e[t++],r[8]=e[t++],r},Y.clone=function(e,t){if(ie(e))return ie(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new Y(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},Y.fromArray=function(e,t,r){return t=C(t,0),(r=!ie(r)?new Y:r)[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],r[4]=e[t+4],r[5]=e[t+5],r[6]=e[t+6],r[7]=e[t+7],r[8]=e[t+8],r},Y.fromColumnMajorArray=function(e,t){return Y.clone(e,t)},Y.fromRowMajorArray=function(e,t){return ie(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new Y(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},Y.fromQuaternion=function(e,t){var r=e.x*e.x,n=e.x*e.y,i=e.x*e.z,o=e.x*e.w,a=e.y*e.y,s=e.y*e.z,u=e.y*e.w,c=e.z*e.z,l=e.z*e.w,f=e.w*e.w,h=r-a-c+f,m=2*(n-l),d=2*(i+u),e=2*(n+l),n=a-r-c+f,l=2*(s-o),u=2*(i-u),o=2*(s+o),f=-r-a+c+f;return ie(t)?(t[0]=h,t[1]=e,t[2]=u,t[3]=m,t[4]=n,t[5]=o,t[6]=d,t[7]=l,t[8]=f,t):new Y(h,m,d,e,n,l,u,o,f)},Y.fromHeadingPitchRoll=function(e,t){var r=Math.cos(-e.pitch),n=Math.cos(-e.heading),i=Math.cos(e.roll),o=Math.sin(-e.pitch),a=Math.sin(-e.heading),s=Math.sin(e.roll),u=r*n,c=-i*a+s*o*n,l=s*a+i*o*n,f=r*a,e=i*n+s*o*a,a=-s*n+i*o*a,o=-o,s=s*r,r=i*r;return ie(t)?(t[0]=u,t[1]=f,t[2]=o,t[3]=c,t[4]=e,t[5]=s,t[6]=l,t[7]=a,t[8]=r,t):new Y(u,c,l,f,e,a,o,s,r)},Y.fromScale=function(e,t){return ie(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new Y(e.x,0,0,0,e.y,0,0,0,e.z)},Y.fromUniformScale=function(e,t){return ie(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new Y(e,0,0,0,e,0,0,0,e)},Y.fromCrossProduct=function(e,t){return ie(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new Y(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},Y.fromRotationX=function(e,t){var r=Math.cos(e),e=Math.sin(e);return ie(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=r,t[5]=e,t[6]=0,t[7]=-e,t[8]=r,t):new Y(1,0,0,0,r,-e,0,e,r)},Y.fromRotationY=function(e,t){var r=Math.cos(e),e=Math.sin(e);return ie(t)?(t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=1,t[5]=0,t[6]=e,t[7]=0,t[8]=r,t):new Y(r,0,e,0,1,0,-e,0,r)},Y.fromRotationZ=function(e,t){var r=Math.cos(e),e=Math.sin(e);return ie(t)?(t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new Y(r,-e,0,e,r,0,0,0,1)},Y.toArray=function(e,t){return ie(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},Y.getElementIndex=function(e,t){return 3*e+t},Y.getColumn=function(e,t,r){var n=3*t,i=e[n],t=e[1+n],n=e[2+n];return r.x=i,r.y=t,r.z=n,r},Y.setColumn=function(e,t,r,n){t*=3;return(n=Y.clone(e,n))[t]=r.x,n[1+t]=r.y,n[2+t]=r.z,n},Y.getRow=function(e,t,r){var n=e[t],i=e[t+3],t=e[t+6];return r.x=n,r.y=i,r.z=t,r},Y.setRow=function(e,t,r,n){return(n=Y.clone(e,n))[t]=r.x,n[t+3]=r.y,n[t+6]=r.z,n};var k=new se;Y.getScale=function(e,t){return t.x=se.magnitude(se.fromElements(e[0],e[1],e[2],k)),t.y=se.magnitude(se.fromElements(e[3],e[4],e[5],k)),t.z=se.magnitude(se.fromElements(e[6],e[7],e[8],k)),t};var K=new se;Y.getMaximumScale=function(e){return Y.getScale(e,K),se.maximumComponent(K)},Y.multiply=function(e,t,r){var n=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],i=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],o=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],a=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],s=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],u=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],c=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],l=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],t=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return r[0]=n,r[1]=i,r[2]=o,r[3]=a,r[4]=s,r[5]=u,r[6]=c,r[7]=l,r[8]=t,r},Y.add=function(e,t,r){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r},Y.subtract=function(e,t,r){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r},Y.multiplyByVector=function(e,t,r){var n=t.x,i=t.y,o=t.z,a=e[0]*n+e[3]*i+e[6]*o,t=e[1]*n+e[4]*i+e[7]*o,o=e[2]*n+e[5]*i+e[8]*o;return r.x=a,r.y=t,r.z=o,r},Y.multiplyByScalar=function(e,t,r){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r},Y.multiplyByScale=function(e,t,r){return r[0]=e[0]*t.x,r[1]=e[1]*t.x,r[2]=e[2]*t.x,r[3]=e[3]*t.y,r[4]=e[4]*t.y,r[5]=e[5]*t.y,r[6]=e[6]*t.z,r[7]=e[7]*t.z,r[8]=e[8]*t.z,r},Y.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},Y.transpose=function(e,t){var r=e[0],n=e[3],i=e[6],o=e[1],a=e[4],s=e[7],u=e[2],c=e[5],e=e[8];return t[0]=r,t[1]=n,t[2]=i,t[3]=o,t[4]=a,t[5]=s,t[6]=u,t[7]=c,t[8]=e,t};var Z=new se(1,1,1);Y.getRotation=function(e,t){var r=se.divideComponents(Z,Y.getScale(e,K),K);return t=Y.multiplyByScale(e,r,t)};var J=[1,0,0],Q=[2,2,1];var $=new Y,ee=new Y;function te(e){var t;this.name="RuntimeError",this.message=e;try{throw new Error}catch(e){t=e.stack}this.stack=t}function re(e,t,r,n){this.x=C(e,0),this.y=C(t,0),this.z=C(r,0),this.w=C(n,0)}Y.computeEigenDecomposition=function(e,t){for(var r=oe.EPSILON20,n=0,i=0,o=(t=!ie(t)?{}:t).unitary=Y.clone(Y.IDENTITY,t.unitary),a=t.diagonal=Y.clone(e,t.diagonal),s=r*function(e){for(var t=0,r=0;r<9;++r){var n=e[r];t+=n*n}return Math.sqrt(t)}(a);i<10&&function(e){for(var t=0,r=0;r<3;++r){var n=e[Y.getElementIndex(Q[r],J[r])];t+=2*n*n}return Math.sqrt(t)}(a)>s;)!function(e,t){for(var r=oe.EPSILON15,n=0,i=1,o=0;o<3;++o){var a=Math.abs(e[Y.getElementIndex(Q[o],J[o])]);n<a&&(i=o,n=a)}var s=1,u=0,c=J[i],l=Q[i];Math.abs(e[Y.getElementIndex(l,c)])>r&&(u=(r=(r=(e[Y.getElementIndex(l,l)]-e[Y.getElementIndex(c,c)])/2/e[Y.getElementIndex(l,c)])<0?-1/(-r+Math.sqrt(1+r*r)):1/(r+Math.sqrt(1+r*r)))*(s=1/Math.sqrt(1+r*r))),(t=Y.clone(Y.IDENTITY,t))[Y.getElementIndex(c,c)]=t[Y.getElementIndex(l,l)]=s,t[Y.getElementIndex(l,c)]=u,t[Y.getElementIndex(c,l)]=-u}(a,$),Y.transpose($,ee),Y.multiply(a,$,a),Y.multiply(ee,a,a),Y.multiply(o,$,o),2<++n&&(++i,n=0);return t},Y.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},Y.determinant=function(e){var t=e[0],r=e[3],n=e[6],i=e[1],o=e[4],a=e[7],s=e[2],u=e[5],e=e[8];return t*(o*e-u*a)+i*(u*n-r*e)+s*(r*a-o*n)},Y.inverse=function(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],e=Y.determinant(e);return t[0]=a*l-c*s,t[1]=c*i-n*l,t[2]=n*s-a*i,t[3]=u*s-o*l,t[4]=r*l-u*i,t[5]=o*i-r*s,t[6]=o*c-u*a,t[7]=u*n-r*c,t[8]=r*a-o*n,Y.multiplyByScalar(t,1/e,t)},Y.equals=function(e,t){return e===t||ie(e)&&ie(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},Y.equalsEpsilon=function(e,t,r){return r=C(r,0),e===t||ie(e)&&ie(t)&&Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r&&Math.abs(e[4]-t[4])<=r&&Math.abs(e[5]-t[5])<=r&&Math.abs(e[6]-t[6])<=r&&Math.abs(e[7]-t[7])<=r&&Math.abs(e[8]-t[8])<=r},Y.IDENTITY=Object.freeze(new Y(1,0,0,0,1,0,0,0,1)),Y.ZERO=Object.freeze(new Y(0,0,0,0,0,0,0,0,0)),Y.COLUMN0ROW0=0,Y.COLUMN0ROW1=1,Y.COLUMN0ROW2=2,Y.COLUMN1ROW0=3,Y.COLUMN1ROW1=4,Y.COLUMN1ROW2=5,Y.COLUMN2ROW0=6,Y.COLUMN2ROW1=7,Y.COLUMN2ROW2=8,Object.defineProperties(Y.prototype,{length:{get:function(){return Y.packedLength}}}),Y.prototype.clone=function(e){return Y.clone(this,e)},Y.prototype.equals=function(e){return Y.equals(this,e)},Y.equalsArray=function(e,t,r){return e[0]===t[r]&&e[1]===t[r+1]&&e[2]===t[r+2]&&e[3]===t[r+3]&&e[4]===t[r+4]&&e[5]===t[r+5]&&e[6]===t[r+6]&&e[7]===t[r+7]&&e[8]===t[r+8]},Y.prototype.equalsEpsilon=function(e,t){return Y.equalsEpsilon(this,e,t)},Y.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},ie(Object.create)&&((te.prototype=Object.create(Error.prototype)).constructor=te),te.prototype.toString=function(){var e=this.name+": "+this.message;return ie(this.stack)&&(e+="\n"+this.stack.toString()),e},re.fromElements=function(e,t,r,n,i){return ie(i)?(i.x=e,i.y=t,i.z=r,i.w=n,i):new re(e,t,r,n)},re.fromColor=function(e,t){return ie(t)?(t.x=e.red,t.y=e.green,t.z=e.blue,t.w=e.alpha,t):new re(e.red,e.green,e.blue,e.alpha)},re.clone=function(e,t){if(ie(e))return ie(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new re(e.x,e.y,e.z,e.w)},re.packedLength=4,re.pack=function(e,t,r){return r=C(r,0),t[r++]=e.x,t[r++]=e.y,t[r++]=e.z,t[r]=e.w,t},re.unpack=function(e,t,r){return t=C(t,0),(r=!ie(r)?new re:r).x=e[t++],r.y=e[t++],r.z=e[t++],r.w=e[t],r},re.packArray=function(e,t){var r=e.length,n=4*r;if(ie(t)){if(!Array.isArray(t)&&t.length!==n)throw new o("If result is a typed array, it must have exactly array.length * 4 elements");t.length!==n&&(t.length=n)}else t=new Array(n);for(var i=0;i<r;++i)re.pack(e[i],t,4*i);return t},re.unpackArray=function(e,t){var r=e.length;ie(t)?t.length=r/4:t=new Array(r/4);for(var n=0;n<r;n+=4){var i=n/4;t[i]=re.unpack(e,n,t[i])}return t},re.fromArray=re.unpack,re.maximumComponent=function(e){return Math.max(e.x,e.y,e.z,e.w)},re.minimumComponent=function(e){return Math.min(e.x,e.y,e.z,e.w)},re.minimumByComponent=function(e,t,r){return r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r.z=Math.min(e.z,t.z),r.w=Math.min(e.w,t.w),r},re.maximumByComponent=function(e,t,r){return r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r.z=Math.max(e.z,t.z),r.w=Math.max(e.w,t.w),r},re.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},re.magnitude=function(e){return Math.sqrt(re.magnitudeSquared(e))};var ne=new re;re.distance=function(e,t){return re.subtract(e,t,ne),re.magnitude(ne)},re.distanceSquared=function(e,t){return re.subtract(e,t,ne),re.magnitudeSquared(ne)},re.normalize=function(e,t){var r=re.magnitude(e);return 0!=r?(t.x=e.x/r,t.y=e.y/r,t.z=e.z/r,t.w=e.w/r):re.clone(e,t),Math.abs(t.x)<oe.EPSILON8&&(t.x=0),Math.abs(t.y)<oe.EPSILON8&&(t.y=0),Math.abs(t.z)<oe.EPSILON8&&(t.z=0),Math.abs(t.w)<oe.EPSILON8&&(t.w=0),t},re.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},re.multiplyComponents=function(e,t,r){return r.x=e.x*t.x,r.y=e.y*t.y,r.z=e.z*t.z,r.w=e.w*t.w,r},re.divideComponents=function(e,t,r){return r.x=e.x/t.x,r.y=e.y/t.y,r.z=e.z/t.z,r.w=e.w/t.w,r},re.add=function(e,t,r){return r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r.w=e.w+t.w,r},re.subtract=function(e,t,r){return r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r.w=e.w-t.w,r},re.multiplyByScalar=function(e,t,r){return r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r.w=e.w*t,r},re.divideByScalar=function(e,t,r){return r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r.w=e.w/t,r},re.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},re.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t};var le=new re;re.lerp=function(e,t,r,n){return re.multiplyByScalar(t,r,le),n=re.multiplyByScalar(e,1-r,n),re.add(le,n,n)};var fe=new re;re.mostOrthogonalAxis=function(e,t){e=re.normalize(e,fe);return re.abs(e,e),t=e.x<=e.y?e.x<=e.z?e.x<=e.w?re.clone(re.UNIT_X,t):re.clone(re.UNIT_W,t):e.z<=e.w?re.clone(re.UNIT_Z,t):re.clone(re.UNIT_W,t):e.y<=e.z?e.y<=e.w?re.clone(re.UNIT_Y,t):re.clone(re.UNIT_W,t):e.z<=e.w?re.clone(re.UNIT_Z,t):re.clone(re.UNIT_W,t)},re.equals=function(e,t){return e===t||ie(e)&&ie(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},re.equalsArray=function(e,t,r){return e.x===t[r]&&e.y===t[r+1]&&e.z===t[r+2]&&e.w===t[r+3]},re.equalsEpsilon=function(e,t,r,n){return e===t||ie(e)&&ie(t)&&oe.equalsEpsilon(e.x,t.x,r,n)&&oe.equalsEpsilon(e.y,t.y,r,n)&&oe.equalsEpsilon(e.z,t.z,r,n)&&oe.equalsEpsilon(e.w,t.w,r,n)},re.ZERO=Object.freeze(new re(0,0,0,0)),re.UNIT_X=Object.freeze(new re(1,0,0,0)),re.UNIT_Y=Object.freeze(new re(0,1,0,0)),re.UNIT_Z=Object.freeze(new re(0,0,1,0)),re.UNIT_W=Object.freeze(new re(0,0,0,1)),re.WHITE=Object.freeze(new re(1,1,1,1)),re.prototype.clone=function(e){return re.clone(this,e)},re.prototype.equals=function(e){return re.equals(this,e)},re.prototype.equalsEpsilon=function(e,t,r){return re.equalsEpsilon(this,e,t,r)},re.prototype.toString=function(e){if(ie(e)&&16==e){var t=parseInt(255*this.x).toString(16),r=parseInt(255*this.y).toString(16),e=parseInt(255*this.z).toString(16);return"00".substring(0,2-t.length)+t+"00".substring(0,2-r.length)+r+"00".substring(0,2-e.length)+e}return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var he=new Float32Array(1);function me(e,t,r,n,i,o,a,s,u,c,l,f,h,m,d,E){this[0]=C(e,0),this[1]=C(i,0),this[2]=C(u,0),this[3]=C(h,0),this[4]=C(t,0),this[5]=C(o,0),this[6]=C(c,0),this[7]=C(m,0),this[8]=C(r,0),this[9]=C(a,0),this[10]=C(l,0),this[11]=C(d,0),this[12]=C(n,0),this[13]=C(s,0),this[14]=C(f,0),this[15]=C(E,0)}re.packFloat=function(e,t){if(ie(t)||(t=new re),he[0]=e,0===(e=he[0]))return re.clone(re.ZERO,t);var r,n=e<0?1:0;isFinite(e)?(e=Math.abs(e),r=Math.floor(oe.logBase(e,10))+1,e/=Math.pow(10,r)):(e=.1,r=38);e*=256;return t.x=Math.floor(e),e=256*(e-t.x),t.y=Math.floor(e),e=256*(e-t.y),t.z=Math.floor(e),t.w=2*(r+38)+n,t},re.unpackFloat=function(e){var t=e.w/2,r=Math.floor(t),n=-(n=2*(n=2*(t-r))-1);if(38<=(r-=38))return n<0?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;t=n*e.x*(1/256);return t+=n*e.y*(1/65536),(t+=n*e.z*(1/16777216))*Math.pow(10,r)},me.packedLength=16,me.pack=function(e,t,r){return r=C(r,0),t[r++]=e[0],t[r++]=e[1],t[r++]=e[2],t[r++]=e[3],t[r++]=e[4],t[r++]=e[5],t[r++]=e[6],t[r++]=e[7],t[r++]=e[8],t[r++]=e[9],t[r++]=e[10],t[r++]=e[11],t[r++]=e[12],t[r++]=e[13],t[r++]=e[14],t[r]=e[15],t},me.unpack=function(e,t,r){return t=C(t,0),(r=!ie(r)?new me:r)[0]=e[t++],r[1]=e[t++],r[2]=e[t++],r[3]=e[t++],r[4]=e[t++],r[5]=e[t++],r[6]=e[t++],r[7]=e[t++],r[8]=e[t++],r[9]=e[t++],r[10]=e[t++],r[11]=e[t++],r[12]=e[t++],r[13]=e[t++],r[14]=e[t++],r[15]=e[t],r},me.clone=function(e,t){if(ie(e))return ie(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new me(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},me.fromArray=me.unpack,me.fromColumnMajorArray=function(e,t){return me.clone(e,t)},me.fromRowMajorArray=function(e,t){return ie(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new me(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},me.fromRotationTranslation=function(e,t,r){return t=C(t,se.ZERO),ie(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=0,r[4]=e[3],r[5]=e[4],r[6]=e[5],r[7]=0,r[8]=e[6],r[9]=e[7],r[10]=e[8],r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,r):new me(e[0],e[3],e[6],t.x,e[1],e[4],e[7],t.y,e[2],e[5],e[8],t.z,0,0,0,1)},me.fromTranslationQuaternionRotationScale=function(e,t,r,n){ie(n)||(n=new me);var i=r.x,o=r.y,a=r.z,s=t.x*t.x,u=t.x*t.y,c=t.x*t.z,l=t.x*t.w,f=t.y*t.y,h=t.y*t.z,m=t.y*t.w,d=t.z*t.z,E=t.z*t.w,p=t.w*t.w,_=2*(u-E),r=2*(c+m),t=2*(u+E),u=f-s-d+p,E=2*(h-l),m=2*(c-m),h=2*(h+l),l=-s-f+d+p;return n[0]=(s-f-d+p)*i,n[1]=t*i,n[2]=m*i,n[3]=0,n[4]=_*o,n[5]=u*o,n[6]=h*o,n[7]=0,n[8]=r*a,n[9]=E*a,n[10]=l*a,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n},me.fromTranslationRotationScale=function(e,t){return me.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},me.fromTranslation=function(e,t){return me.fromRotationTranslation(Y.IDENTITY,e,t)},me.fromScale=function(e,t){return ie(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new me(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},me.fromUniformScale=function(e,t){return ie(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new me(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var de=new se,Ee=new se,pe=new se;me.fromObserver=function(e,t){var r=e.position,n=e.direction,i=e.up;se.normalize(n,de),se.normalize(se.cross(de,i,Ee),Ee),se.normalize(se.cross(Ee,de,pe),pe);var o=Ee.x,a=Ee.y,s=Ee.z,u=de.x,c=de.y,l=de.z,f=pe.x,h=pe.y,m=pe.z,d=r.x,e=r.y,n=r.z,i=o*-d+a*-e+s*-n,r=f*-d+h*-e+m*-n,n=u*d+c*e+l*n;return ie(t)?(t[0]=o,t[1]=f,t[2]=-u,t[3]=0,t[4]=a,t[5]=h,t[6]=-c,t[7]=0,t[8]=s,t[9]=m,t[10]=-l,t[11]=0,t[12]=i,t[13]=r,t[14]=n,t[15]=1,t):new me(o,a,s,i,f,h,m,r,-u,-c,-l,n,0,0,0,1)},me.computePerspectiveFieldOfView=function(e,t,r,n,i){var o=1/Math.tan(.5*e),e=(n+r)/(r-n),n=2*n*r/(r-n);return i[0]=o/t,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=o,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=e,i[11]=-1,i[12]=0,i[13]=0,i[14]=n,i[15]=0,i},me.computeOrthographicOffCenter=function(e,t,r,n,i,o,a){var s=1/(t-e),u=1/(n-r),c=1/(o-i),e=-(t+e)*s,r=-(n+r)*u,i=-(o+i)*c;return u*=2,c*=-2,a[0]=s*=2,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=c,a[11]=0,a[12]=e,a[13]=r,a[14]=i,a[15]=1,a},me.computePerspectiveOffCenter=function(e,t,r,n,i,o,a){var s=2*i/(n-r),u=(t+e)/(t-e),n=(n+r)/(n-r),r=-(o+i)/(o-i),o=-2*o*i/(o-i);return a[0]=2*i/(t-e),a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=s,a[6]=0,a[7]=0,a[8]=u,a[9]=n,a[10]=r,a[11]=-1,a[12]=0,a[13]=0,a[14]=o,a[15]=0,a},me.computeInfinitePerspectiveOffCenter=function(e,t,r,n,i,o){var a=2*i/(n-r),s=(t+e)/(t-e),n=(n+r)/(n-r),r=-2*i;return o[0]=2*i/(t-e),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=a,o[6]=0,o[7]=0,o[8]=s,o[9]=n,o[10]=-1,o[11]=-1,o[12]=0,o[13]=0,o[14]=r,o[15]=0,o},me.computeViewportTransformation=function(e,t,r,n){ie(n)||(n=new me),e=C(e,C.EMPTY_OBJECT);var i=C(e.x,0),o=C(e.y,0),a=C(e.width,0),s=C(e.height,0);t=C(t,0);var u=.5*a,e=.5*s,a=.5*((r=C(r,1))-t),s=e,r=a,i=i+u,e=o+e,a=t+a;return n[0]=u,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=r,n[11]=0,n[12]=i,n[13]=e,n[14]=a,n[15]=1,n},me.computeView=function(e,t,r,n,i){return i[0]=n.x,i[1]=r.x,i[2]=-t.x,i[3]=0,i[4]=n.y,i[5]=r.y,i[6]=-t.y,i[7]=0,i[8]=n.z,i[9]=r.z,i[10]=-t.z,i[11]=0,i[12]=-se.dot(n,e),i[13]=-se.dot(r,e),i[14]=se.dot(t,e),i[15]=1,i};var _e=new se,ye=new se,Te=new se;me.computeViewByLookAt=function(e,t,r,n){var i=_e,o=ye,a=Te;return se.subtract(e,t,i),se.normalize(i,i),se.cross(r,i,a),se.normalize(a,a),se.cross(i,a,o),se.normalize(o,o),me.computeView(e,i,o,a,n)},me.computeViewByLookAtEx=function(e,t,r,n){var i=_e,o=ye,a=Te;return se.subtract(t,e,i),se.normalize(i,i),se.cross(r,i,a),se.normalize(a,a),se.cross(i,a,o),se.normalize(o,o),me.computeView(e,i,o,a,n)},me.toArray=function(e,t){return ie(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},me.getElementIndex=function(e,t){return 4*e+t},me.getColumn=function(e,t,r){var n=4*t,i=e[n],o=e[1+n],t=e[2+n],n=e[3+n];return r.x=i,r.y=o,r.z=t,r.w=n,r},me.setColumn=function(e,t,r,n){t*=4;return(n=me.clone(e,n))[t]=r.x,n[1+t]=r.y,n[2+t]=r.z,n[3+t]=r.w,n},me.setTranslation=function(e,t,r){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=e[15],r};var ge=new se;me.setScale=function(e,t,r){var n=me.getScale(e,ge),n=se.divideComponents(t,n,ge);return me.multiplyByScale(e,n,r)},me.getRow=function(e,t,r){var n=e[t],i=e[t+4],o=e[t+8],t=e[t+12];return r.x=n,r.y=i,r.z=o,r.w=t,r},me.setRow=function(e,t,r,n){return(n=me.clone(e,n))[t]=r.x,n[t+4]=r.y,n[t+8]=r.z,n[t+12]=r.w,n};var Re=new se;me.getScale=function(e,t){return t.x=se.magnitude(se.fromElements(e[0],e[1],e[2],Re)),t.y=se.magnitude(se.fromElements(e[4],e[5],e[6],Re)),t.z=se.magnitude(se.fromElements(e[8],e[9],e[10],Re)),t};var Ae=new se;me.getMaximumScale=function(e){return me.getScale(e,Ae),se.maximumComponent(Ae)},me.multiply=function(e,t,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],m=e[10],d=e[11],E=e[12],p=e[13],_=e[14],y=e[15],T=t[0],g=t[1],R=t[2],A=t[3],S=t[4],O=t[5],I=t[6],N=t[7],M=t[8],x=t[9],C=t[10],w=t[11],v=t[12],b=t[13],P=t[14],F=t[15],U=i*T+u*g+h*R+p*A,D=o*T+c*g+m*R+_*A,z=a*T+l*g+d*R+y*A,L=n*S+s*O+f*I+E*N,e=i*S+u*O+h*I+p*N,t=o*S+c*O+m*I+_*N,S=a*S+l*O+d*I+y*N,O=n*M+s*x+f*C+E*w,I=i*M+u*x+h*C+p*w,N=o*M+c*x+m*C+_*w,C=a*M+l*x+d*C+y*w,w=n*v+s*b+f*P+E*F,p=i*v+u*b+h*P+p*F,_=o*v+c*b+m*P+_*F,F=a*v+l*b+d*P+y*F;return r[0]=n*T+s*g+f*R+E*A,r[1]=U,r[2]=D,r[3]=z,r[4]=L,r[5]=e,r[6]=t,r[7]=S,r[8]=O,r[9]=I,r[10]=N,r[11]=C,r[12]=w,r[13]=p,r[14]=_,r[15]=F,r},me.add=function(e,t,r){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r[9]=e[9]+t[9],r[10]=e[10]+t[10],r[11]=e[11]+t[11],r[12]=e[12]+t[12],r[13]=e[13]+t[13],r[14]=e[14]+t[14],r[15]=e[15]+t[15],r},me.subtract=function(e,t,r){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r[9]=e[9]-t[9],r[10]=e[10]-t[10],r[11]=e[11]-t[11],r[12]=e[12]-t[12],r[13]=e[13]-t[13],r[14]=e[14]-t[14],r[15]=e[15]-t[15],r},me.multiplyTransformation=function(e,t,r){var n=e[0],i=e[1],o=e[2],a=e[4],s=e[5],u=e[6],c=e[8],l=e[9],f=e[10],h=e[12],m=e[13],d=e[14],E=t[0],p=t[1],_=t[2],y=t[4],T=t[5],g=t[6],R=t[8],A=t[9],S=t[10],O=t[12],I=t[13],N=t[14],M=i*E+s*p+l*_,x=o*E+u*p+f*_,e=n*y+a*T+c*g,t=i*y+s*T+l*g,y=o*y+u*T+f*g,T=n*R+a*A+c*S,g=i*R+s*A+l*S,S=o*R+u*A+f*S,h=n*O+a*I+c*N+h,m=i*O+s*I+l*N+m,d=o*O+u*I+f*N+d;return r[0]=n*E+a*p+c*_,r[1]=M,r[2]=x,r[3]=0,r[4]=e,r[5]=t,r[6]=y,r[7]=0,r[8]=T,r[9]=g,r[10]=S,r[11]=0,r[12]=h,r[13]=m,r[14]=d,r[15]=1,r},me.multiplyByMatrix3=function(e,t,r){var n=e[0],i=e[1],o=e[2],a=e[4],s=e[5],u=e[6],c=e[8],l=e[9],f=e[10],h=t[0],m=t[1],d=t[2],E=t[3],p=t[4],_=t[5],y=t[6],T=t[7],g=t[8],R=i*h+s*m+l*d,A=o*h+u*m+f*d,S=n*E+a*p+c*_,t=i*E+s*p+l*_,p=o*E+u*p+f*_,_=n*y+a*T+c*g,l=i*y+s*T+l*g,g=o*y+u*T+f*g;return r[0]=n*h+a*m+c*d,r[1]=R,r[2]=A,r[3]=0,r[4]=S,r[5]=t,r[6]=p,r[7]=0,r[8]=_,r[9]=l,r[10]=g,r[11]=0,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r},me.multiplyByTranslation=function(e,t,r){var n=t.x,i=t.y,o=t.z,a=n*e[0]+i*e[4]+o*e[8]+e[12],t=n*e[1]+i*e[5]+o*e[9]+e[13],o=n*e[2]+i*e[6]+o*e[10]+e[14];return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=a,r[13]=t,r[14]=o,r[15]=e[15],r};var Se=new se;me.multiplyByUniformScale=function(e,t,r){return Se.x=t,Se.y=t,Se.z=t,me.multiplyByScale(e,Se,r)},me.multiplyByScale=function(e,t,r){var n=t.x,i=t.y,t=t.z;return 1===n&&1===i&&1===t?me.clone(e,r):(r[0]=n*e[0],r[1]=n*e[1],r[2]=n*e[2],r[3]=0,r[4]=i*e[4],r[5]=i*e[5],r[6]=i*e[6],r[7]=0,r[8]=t*e[8],r[9]=t*e[9],r[10]=t*e[10],r[11]=0,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=1,r)},me.multiplyByVector=function(e,t,r){var n=t.x,i=t.y,o=t.z,a=ie(t.w)?t.w:1,s=e[0]*n+e[4]*i+e[8]*o+e[12]*a,u=e[1]*n+e[5]*i+e[9]*o+e[13]*a,t=e[2]*n+e[6]*i+e[10]*o+e[14]*a,a=e[3]*n+e[7]*i+e[11]*o+e[15]*a;return r.x=s,r.y=u,r.z=t,ie(r.w)&&(r.w=a),r},me.multiplyByPointAsVector=function(e,t,r){var n=t.x,i=t.y,o=t.z,a=e[0]*n+e[4]*i+e[8]*o,t=e[1]*n+e[5]*i+e[9]*o,o=e[2]*n+e[6]*i+e[10]*o;return r.x=a,r.y=t,r.z=o,r},me.multiplyByPoint=function(e,t,r){var n=t.x,i=t.y,o=t.z,a=e[0]*n+e[4]*i+e[8]*o+e[12],t=e[1]*n+e[5]*i+e[9]*o+e[13],e=e[2]*n+e[6]*i+e[10]*o+e[14];return r.x=a,r.y=t,r.z=e,r},me.multiplyByScalar=function(e,t,r){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r[9]=e[9]*t,r[10]=e[10]*t,r[11]=e[11]*t,r[12]=e[12]*t,r[13]=e[13]*t,r[14]=e[14]*t,r[15]=e[15]*t,r},me.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},me.transpose=function(e,t){var r=e[1],n=e[2],i=e[3],o=e[6],a=e[7],s=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[10]=e[10],t[11]=e[14],t[12]=i,t[13]=a,t[14]=s,t[15]=e[15],t},me.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},me.equals=function(e,t){return e===t||ie(e)&&ie(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},me.equalsEpsilon=function(e,t,r){return r=C(r,0),e===t||ie(e)&&ie(t)&&Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r&&Math.abs(e[4]-t[4])<=r&&Math.abs(e[5]-t[5])<=r&&Math.abs(e[6]-t[6])<=r&&Math.abs(e[7]-t[7])<=r&&Math.abs(e[8]-t[8])<=r&&Math.abs(e[9]-t[9])<=r&&Math.abs(e[10]-t[10])<=r&&Math.abs(e[11]-t[11])<=r&&Math.abs(e[12]-t[12])<=r&&Math.abs(e[13]-t[13])<=r&&Math.abs(e[14]-t[14])<=r&&Math.abs(e[15]-t[15])<=r},me.getTranslation=function(e,t){return t.x=e[12],t.y=e[13],t.z=e[14],t},me.getMatrix3=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var Oe=new Y,Ie=new Y,Ne=new re,Me=new re(0,0,0,1);function xe(e,t,r,n,i,o){this.west=C(e,Math.PI),this.south=C(t,Math.PI/2),this.east=C(r,-Math.PI),this.north=C(n,-Math.PI/2),this.minHeight=C(i,0),this.maxHeight=C(o,0)}me.inverse=function(e,t){var r=e[0],n=e[4],i=e[8],o=e[12],a=e[1],s=e[5],u=e[9],c=e[13],l=e[2],f=e[6],h=e[10],m=e[14],d=e[3],E=e[7],p=e[11],_=e[15],y=h*_,T=m*p,g=f*_,R=m*E,A=f*p,S=h*E,O=l*_,I=m*d,N=l*p,M=h*d,x=l*E,C=f*d,w=y*s+R*u+A*c-(T*s+g*u+S*c),v=T*a+O*u+M*c-(y*a+I*u+N*c),b=g*a+I*s+x*c-(R*a+O*s+C*c),P=S*a+N*s+C*u-(A*a+M*s+x*u),F=T*n+g*i+S*o-(y*n+R*i+A*o),U=y*r+I*i+N*o-(T*r+O*i+M*o),D=R*r+O*n+C*o-(g*r+I*n+x*o),z=A*r+M*n+x*i-(S*r+N*n+C*i),L=(y=i*c)*E+(R=o*s)*p+(A=n*u)*_-((T=o*u)*E+(g=n*c)*p+(S=i*s)*_),u=T*d+(O=r*c)*p+(M=i*a)*_-(y*d+(I=o*a)*p+(N=r*u)*_),_=g*d+I*E+(x=r*s)*_-(R*d+O*E+(C=n*a)*_),E=S*d+N*E+C*p-(A*d+M*E+x*p),p=g*h+S*m+T*f-(A*m+y*f+R*h),T=N*m+y*l+I*h-(O*h+M*m+T*l),I=O*f+C*m+R*l-(x*m+g*l+I*f),l=x*h+A*l+M*f-(N*f+C*h+S*l),o=r*w+n*v+i*b+o*P;return Math.abs(o)<oe.EPSILON21&&Y.equalsEpsilon(me.getMatrix3(e,Oe),Ie,oe.EPSILON7)&&re.equals(me.getRow(e,3,Ne),Me)?(t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=1):(t[0]=w*(o=1/o),t[1]=v*o,t[2]=b*o,t[3]=P*o,t[4]=F*o,t[5]=U*o,t[6]=D*o,t[7]=z*o,t[8]=L*o,t[9]=u*o,t[10]=_*o,t[11]=E*o,t[12]=p*o,t[13]=T*o,t[14]=I*o,t[15]=l*o),t},me.inverseTransformation=function(e,t){var r=e[0],n=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],c=e[9],l=e[10],f=e[12],h=e[13],m=e[14],d=-r*f-n*h-i*m,e=-o*f-a*h-s*m,m=-u*f-c*h-l*m;return t[0]=r,t[1]=o,t[2]=u,t[3]=0,t[4]=n,t[5]=a,t[6]=c,t[7]=0,t[8]=i,t[9]=s,t[10]=l,t[11]=0,t[12]=d,t[13]=e,t[14]=m,t[15]=1,t},me.IDENTITY=Object.freeze(new me(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),me.ZERO=Object.freeze(new me(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),me.TRANSYZ=Object.freeze(new me(1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1)),me.COLUMN0ROW0=0,me.COLUMN0ROW1=1,me.COLUMN0ROW2=2,me.COLUMN0ROW3=3,me.COLUMN1ROW0=4,me.COLUMN1ROW1=5,me.COLUMN1ROW2=6,me.COLUMN1ROW3=7,me.COLUMN2ROW0=8,me.COLUMN2ROW1=9,me.COLUMN2ROW2=10,me.COLUMN2ROW3=11,me.COLUMN3ROW0=12,me.COLUMN3ROW1=13,me.COLUMN3ROW2=14,me.COLUMN3ROW3=15,Object.defineProperties(me.prototype,{length:{get:function(){return me.packedLength}}}),me.prototype.clone=function(e){return me.clone(this,e)},me.prototype.equals=function(e){return me.equals(this,e)},me.equalsArray=function(e,t,r){return e[0]===t[r]&&e[1]===t[r+1]&&e[2]===t[r+2]&&e[3]===t[r+3]&&e[4]===t[r+4]&&e[5]===t[r+5]&&e[6]===t[r+6]&&e[7]===t[r+7]&&e[8]===t[r+8]&&e[9]===t[r+9]&&e[10]===t[r+10]&&e[11]===t[r+11]&&e[12]===t[r+12]&&e[13]===t[r+13]&&e[14]===t[r+14]&&e[15]===t[r+15]},me.prototype.equalsEpsilon=function(e,t){return me.equalsEpsilon(this,e,t)},me.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"},me.from_tnbp=function(e,t,r,n,i){return ie(i)?(i[0]=e.x,i[4]=t.x,i[8]=r.x,i[12]=n.x,i[1]=e.y,i[5]=t.y,i[9]=r.y,i[13]=n.y,i[2]=e.z,i[6]=t.z,i[10]=r.z,i[14]=n.z,i[3]=0,i[7]=0,i[11]=0,i[15]=1):i=new me(e.x,t.x,r.x,n.x,e.y,t.y,r.y,n.y,e.z,t.z,r.z,n.z,0,0,0,1),i},me.rotate_axis_rh=function(e,t,r){var n=me.clone(me.IDENTITY),i=se.distance(t,e),o=Math.cos(r),a=1-o,s=Math.sin(r),u=(t.x-e.x)/i,r=(t.y-e.y)/i,i=(t.z-e.z)/i;n[0]=u*u*a+o,n[1]=u*r*a-i*s,n[2]=u*i*a+r*s,n[4]=r*u*a+i*s,n[5]=r*r*a+o,n[6]=r*i*a-u*s,n[8]=i*u*a-r*s,n[9]=i*r*a+u*s,n[10]=i*i*a+o;o=me.translation(-e.x,-e.y,-e.z),e=me.translation(e.x,e.y,e.z);return me.multiply(e,me.multiply(n,o,new me),new me)},me.rotate_axis_lh=function(e,t,r){var n=me.clone(me.IDENTITY),i=se.distance(t,e),o=Math.cos(r),a=1-o,s=Math.sin(r),u=(t.x-e.x)/i,r=(t.y-e.y)/i,i=(t.z-e.z)/i;n[0]=u*u*a+o,n[1]=u*r*a+i*s,n[2]=u*i*a-r*s,n[4]=r*u*a-i*s,n[5]=r*r*a+o,n[6]=r*i*a+u*s,n[8]=i*u*a+r*s,n[9]=i*r*a-u*s,n[10]=i*i*a+o;o=me.translation(-e.x,-e.y,-e.z),e=me.translation(e.x,e.y,e.z);return me.multiply(o,me.multiply(n,e,new me),new me)},me.translation=function(e,t,r,n){n=me.clone(me.IDENTITY,n);return n[12]=e,n[13]=t,n[14]=r,n},me.scaling=function(e,t,r,n){n=me.clone(me.IDENTITY,n);return n[0]=e,n[5]=t,n[10]=r,n},me.rotate_y=function(e){var t=me.clone(me.IDENTITY);return t[0]=t[10]=Math.cos(e),t[2]=t[8]=Math.sin(e),t[2]=-t[2],t},me.perspective=function(e,t,r,n,i){var o=1/Math.tan(.5*e),e=n/(n-r),n=n*r/(r-n);return i[0]=o/t,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=o,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=e,i[11]=-1,i[12]=0,i[13]=0,i[14]=n,i[15]=0,i},me.prototype.makeRotationAxis=function(e,t,r){ie(r)||(r=new me);var n=Math.cos(t),i=Math.sin(t),o=1-n,a=e.x,s=e.y,u=e.z,t=o*a,e=o*s;return r[0]=t*a+n,r[1]=t*s+i*u,r[2]=t*u-i*s,r[3]=0,r[4]=t*s-i*u,r[5]=e*s+n,r[6]=e*u+i*a,r[7]=0,r[8]=t*u+i*s,r[9]=e*u-i*a,r[10]=o*u*u+n,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},me.transformNormal=function(e,t,r){ie(r)||(r=new se);var n=new se;n.x=t[0]*e.x+t[4]*e.y+t[8]*e.z+t[12],n.y=t[1]*e.x+t[5]*e.y+t[9]*e.z+t[13],n.z=t[2]*e.x+t[6]*e.y+t[10]*e.z+t[14];t=t[3]*e.x+t[7]*e.y+t[11]*e.z+t[15];return n.x*=t=1/t,n.y*=t,n.z*=t,se.clone(n,r),r},me.rotate_normal=function(e,t,r){ie(r)||(r=new se);var n=new se;return n.x=t[0]*e.x+t[4]*e.y+t[8]*e.z,n.y=t[1]*e.x+t[5]*e.y+t[9]*e.z,n.z=t[2]*e.x+t[6]*e.y+t[10]*e.z,se.clone(n,r),n},me.fromQuaternion=function(e,t){void 0===t&&(t=new me),t=me.clone(me.IDENTITY,t);var r=e.x*e.x,n=e.x*e.y,i=e.x*e.z,o=e.x*e.w,a=e.y*e.y,s=e.y*e.z,u=e.y*e.w,c=e.z*e.z,e=e.z*e.w;return t[0]=1-2*(a+c),t[1]=2*(n+e),t[2]=2*(i-u),t[4]=2*(n-e),t[5]=1-2*(r+c),t[6]=2*(s+o),t[8]=2*(i+u),t[9]=2*(s-o),t[10]=1-2*(r+a),t[3]=t[7]=t[11]=t[12]=t[13]=t[14]=0,t[15]=1,t},Object.defineProperties(xe.prototype,{width:{get:function(){return xe.computeWidth(this)}},height:{get:function(){return xe.computeHeight(this)}}}),xe.packedLength=4,xe.pack=function(e,t,r){return r=C(r,0),t[r++]=e.west,t[r++]=e.south,t[r++]=e.east,t[r]=e.north,t},xe.unpack=function(e,t,r){return t=C(t,0),(r=!ie(r)?new xe:r).west=e[t++],r.south=e[t++],r.east=e[t++],r.north=e[t],r},xe.computeWidth=function(e){var t=e.east,e=e.west;return t<e&&(t+=oe.TWO_PI),t-e},xe.computeHeight=function(e){return e.north-e.south},xe.fromDegrees=function(e,t,r,n,i){return e=oe.toRadians(C(e,0)),t=oe.toRadians(C(t,0)),r=oe.toRadians(C(r,0)),n=oe.toRadians(C(n,0)),ie(i)?(i.west=e,i.south=t,i.east=r,i.north=n,i):new xe(e,t,r,n)},xe.fromRadians=function(e,t,r,n,i){return ie(i)?(i.west=C(e,0),i.south=C(t,0),i.east=C(r,0),i.north=C(n,0),i):new xe(e,t,r,n)},xe.fromCartographicArray=function(e,t){for(var r=Number.MAX_VALUE,n=-Number.MAX_VALUE,i=Number.MAX_VALUE,o=-Number.MAX_VALUE,a=Number.MAX_VALUE,s=-Number.MAX_VALUE,u=0,c=e.length;u<c;u++)var l=e[u],r=Math.min(r,l.longitude),n=Math.max(n,l.longitude),a=Math.min(a,l.latitude),s=Math.max(s,l.latitude),l=0<=l.longitude?l.longitude:l.longitude+oe.TWO_PI,i=Math.min(i,l),o=Math.max(o,l);return o-i<n-r&&(r=i,(n=o)>oe.PI&&(n-=oe.TWO_PI),r>oe.PI&&(r-=oe.TWO_PI)),ie(t)?(t.west=r,t.south=a,t.east=n,t.north=s,t):new xe(r,a,n,s)},xe.fromCartesianArray=function(e,t,r){t=C(t,ce.WGS84);for(var n=Number.MAX_VALUE,i=-Number.MAX_VALUE,o=Number.MAX_VALUE,a=-Number.MAX_VALUE,s=Number.MAX_VALUE,u=-Number.MAX_VALUE,c=Number.MAX_VALUE,l=-Number.MAX_VALUE,f=0,h=e.length;f<h;f++)var m=t.cartesianToCartographic(e[f]),n=Math.min(n,m.longitude),i=Math.max(i,m.longitude),s=Math.min(s,m.latitude),u=Math.max(u,m.latitude),c=Math.min(c,m.height),l=Math.max(l,m.height),m=0<=m.longitude?m.longitude:m.longitude+oe.TWO_PI,o=Math.min(o,m),a=Math.max(a,m);return a-o<i-n&&(n=o,(i=a)>oe.PI&&(i-=oe.TWO_PI),n>oe.PI&&(n-=oe.TWO_PI)),ie(r)?(r.west=n,r.south=s,r.east=i,r.north=u,r.minHeight=c,r.maxHeight=l,r):new xe(n,s,i,u,c,l)},xe.clone=function(e,t){if(ie(e))return ie(t)?(t.west=e.west,t.south=e.south,t.east=e.east,t.north=e.north,t.minHeight=e.minHeight,t.maxHeight=e.maxHeight,t):new xe(e.west,e.south,e.east,e.north,e.minHeight,e.maxHeight)},xe.equalsEpsilon=function(e,t,r){return r=C(r,0),e===t||ie(e)&&ie(t)&&Math.abs(e.west-t.west)<=r&&Math.abs(e.south-t.south)<=r&&Math.abs(e.east-t.east)<=r&&Math.abs(e.north-t.north)<=r&&Math.abs(e.minHeight-t.minHeight)<=r&&Math.abs(e.maxHeight-t.maxHeight)<=r},xe.prototype.clone=function(e){return xe.clone(this,e)},xe.prototype.equals=function(e){return xe.equals(this,e)},xe.prototype.intersect=function(e){return xe.intersect(this,e)},xe.equals=function(e,t){return e===t||ie(e)&&ie(t)&&e.west===t.west&&e.south===t.south&&e.east===t.east&&e.north===t.north},xe.prototype.equalsEpsilon=function(e,t){return xe.equalsEpsilon(this,e,t)},xe.validate=function(e){},xe.southwest=function(e,t){return ie(t)?(t.longitude=e.west,t.latitude=e.south,t.height=0,t):new x(e.west,e.south)},xe.northwest=function(e,t){return ie(t)?(t.longitude=e.west,t.latitude=e.north,t.height=0,t):new x(e.west,e.north)},xe.northeast=function(e,t){return ie(t)?(t.longitude=e.east,t.latitude=e.north,t.height=0,t):new x(e.east,e.north)},xe.southeast=function(e,t){return ie(t)?(t.longitude=e.east,t.latitude=e.south,t.height=0,t):new x(e.east,e.south)},xe.center=function(e,t){var r=e.east,n=e.west;r<n&&(r+=oe.TWO_PI);r=oe.negativePiToPi(.5*(n+r)),e=.5*(e.south+e.north);return ie(t)?(t.longitude=r,t.latitude=e,t.height=0,t):new x(r,e)},xe.intersection=function(e,t,r){var n=e.east,i=e.west,o=t.east,a=t.west;n<i&&0<o?n+=oe.TWO_PI:o<a&&0<n&&(o+=oe.TWO_PI),n<i&&a<0?a+=oe.TWO_PI:o<a&&i<0&&(i+=oe.TWO_PI);a=oe.negativePiToPi(Math.max(i,a)),n=oe.negativePiToPi(Math.min(n,o));if(!((e.west<e.east||t.west<t.east)&&n<=a)){o=Math.max(e.south,t.south),t=Math.min(e.north,t.north);if(!(t<=o))return ie(r)?(r.west=a,r.south=o,r.east=n,r.north=t,r):new xe(a,o,n,t)}},xe.simpleIntersection=function(e,t,r){var n=Math.max(e.west,t.west),i=Math.max(e.south,t.south),o=Math.min(e.east,t.east),t=Math.min(e.north,t.north);if(!(t<=i||o<=n))return ie(r)?(r.west=n,r.south=i,r.east=o,r.north=t,r):new xe(n,i,o,t)},xe.union=function(e,t,r){ie(r)||(r=new xe);var n=e.east,i=e.west,o=t.east,a=t.west;n<i&&0<o?n+=oe.TWO_PI:o<a&&0<n&&(o+=oe.TWO_PI),n<i&&a<0?a+=oe.TWO_PI:o<a&&i<0&&(i+=oe.TWO_PI);a=oe.convertLongitudeRange(Math.min(i,a)),o=oe.convertLongitudeRange(Math.max(n,o));return r.west=a,r.south=Math.min(e.south,t.south),r.east=o,r.north=Math.max(e.north,t.north),r},xe.expand=function(e,t,r){return(r=!ie(r)?new xe:r).west=Math.min(e.west,t.longitude),r.south=Math.min(e.south,t.latitude),r.east=Math.max(e.east,t.longitude),r.north=Math.max(e.north,t.latitude),r},xe.contains=function(e,t){var r=t.longitude,n=t.latitude,i=e.west,t=e.east;return t<i&&(t+=oe.TWO_PI,r<0&&(r+=oe.TWO_PI)),(i<r||oe.equalsEpsilon(r,i,oe.EPSILON14))&&(r<t||oe.equalsEpsilon(r,t,oe.EPSILON14))&&n>=e.south&&n<=e.north};var Ce=new x;function we(e,t){this.center=se.clone(C(e,se.ZERO)),this.radius=C(t,0)}xe.subsample=function(e,t,r,n){t=C(t,ce.WGS84),r=C(r,0),ie(n)||(n=[]);var i=0,o=e.north,a=e.south,s=e.east,u=e.west,c=Ce;c.height=r,c.longitude=u,c.latitude=o,n[i]=t.cartographicToCartesian(c,n[i]),i++,c.longitude=s,n[i]=t.cartographicToCartesian(c,n[i]),i++,c.latitude=a,n[i]=t.cartographicToCartesian(c,n[i]),i++,c.longitude=u,n[i]=t.cartographicToCartesian(c,n[i]),i++,c.latitude=o<0?o:0<a?a:0;for(var l=1;l<8;++l)c.longitude=-Math.PI+l*oe.PI_OVER_TWO,xe.contains(e,c)&&(n[i]=t.cartographicToCartesian(c,n[i]),i++);return 0===c.latitude&&(c.longitude=u,n[i]=t.cartographicToCartesian(c,n[i]),i++,c.longitude=s,n[i]=t.cartographicToCartesian(c,n[i]),i++),n.length=i,n},xe.intersect=function(e,t){return e.north>=t.south&&e.south<=t.north&&e.east>=t.west&&e.west<=t.east},xe.intersect_lon_lat_region=function(e,t){for(var r=t.get_count(),n=0;n<r;n++)if(xe.check_rect_line(e,t.getItem(n),t.getItem((n+1)%r)))return!0;return!!t.containRect(e)},xe.check_rect_line_vertical=function(e,t,r,n,i){if(r<e.longitude&&r<t.longitude)return!1;if(r>e.longitude&&r>t.longitude)return!1;if(e.longitude==t.longitude)return r==e.longitude&&(!(e.latitude<n&&t.latitude<n)&&!(e.latitude>i&&t.latitude>i));e=(t.latitude-e.latitude)*(r-e.longitude)/(t.longitude-e.longitude)+e.latitude;return n<=e&&e<=i},xe.check_rect_line_horizontal=function(e,t,r,n,i){if(r<e.latitude&&r<t.latitude)return!1;if(r>e.latitude&&r>t.latitude)return!1;if(e.latitude==t.latitude)return r==e.latitude&&(!(e.longitude<n&&t.longitude<n)&&!(e.longitude>i&&t.longitude>i));e=(t.longitude-e.longitude)*(r-e.latitude)/(t.latitude-e.latitude)+e.longitude;return n<=e&&e<=i},xe.check_rect_line=function(e,t,r){var n=!1;return xe.containPoint(e,t)||xe.containPoint(e,r)?n=!0:(n|=xe.check_rect_line_horizontal(t,r,e.north,e.west,e.east),n|=xe.check_rect_line_horizontal(t,r,e.south,e.west,e.east),n|=xe.check_rect_line_vertical(t,r,e.west,e.south,e.north),n|=xe.check_rect_line_vertical(t,r,e.east,e.south,e.north)),n},xe.intersectAabb=function(e,t){for(var r=new xe,n=t.get_corners(),i=new x,o=0;o<8;o++){var a=x.fromCartesian(n[o],void 0,i);xe.combine(r,a)}return xe.intersect(e,r)},xe.fromGeoAabb=function(e){for(var t=new xe,r=e.get_corners(),n=new x,i=0;i<8;i++){var o=x.fromCartesian(r[i],void 0,n);xe.combine(t,o)}return t},xe.containsRect=function(e,t){var r=oe.EPSILON6;return t.east<=e.east+r&&t.west>=e.west-r&&t.north<=e.north+r&&t.south>=e.south-r},xe.combine=function(e,t){e.west>t.longitude&&(e.west=t.longitude),e.east<t.longitude&&(e.east=t.longitude),e.north<t.latitude&&(e.north=t.latitude),e.south>t.latitude&&(e.south=t.latitude),e.maxHeight<t.height&&(e.maxHeight=t.height),e.minHeight>t.height&&(e.minHeight=t.height)},xe.fromAabb=function(e,t){var r=t.minimum,n=t.maximum,i=n.z/ce.WGS84.maximumRadius*1e3,t=r.z/ce.WGS84.maximumRadius*1e3,n=n.x/ce.WGS84.maximumRadius*1e3,r=r.x/ce.WGS84.maximumRadius*1e3;return new xe(e.longitude+r,e.latitude+t,e.longitude+n,e.latitude+i)},xe.containPoint=function(e,t){return t.longitude<=e.east&&t.longitude>=e.west&&t.latitude<=e.north&&t.latitude>=e.south},xe.MAX_VALUE=Object.freeze(new xe(-Math.PI,-oe.PI_OVER_TWO,Math.PI,oe.PI_OVER_TWO));var ve=new se,be=new se,Pe=new se,Fe=new se,Ue=new se,De=new se,ze=new se,Le=new se,Be=new se,qe=new se,Ge=new se,je=new se,We=4/3*oe.PI;we.fromPoints=function(e,t){if(ie(t)||(t=new we),!ie(e)||0===e.length)return t.center=se.clone(se.ZERO,t.center),t.radius=0,t;for(var r=se.clone(e[0],ze),n=se.clone(r,ve),i=se.clone(r,be),o=se.clone(r,Pe),a=se.clone(r,Fe),s=se.clone(r,Ue),u=se.clone(r,De),c=e.length,l=1;l<c;l++){se.clone(e[l],r);var f=r.x,h=r.y,m=r.z;f<n.x&&se.clone(r,n),f>a.x&&se.clone(r,a),h<i.y&&se.clone(r,i),h>s.y&&se.clone(r,s),m<o.z&&se.clone(r,o),m>u.z&&se.clone(r,u)}var d=se.magnitudeSquared(se.subtract(a,n,Le)),E=se.magnitudeSquared(se.subtract(s,i,Le)),p=se.magnitudeSquared(se.subtract(u,o,Le)),_=n,y=a,T=d;d<E&&(T=E,_=i,y=s),T<p&&(T=p,_=o,y=u);var g=Be;g.x=.5*(_.x+y.x),g.y=.5*(_.y+y.y),g.z=.5*(_.z+y.z);var R=se.magnitudeSquared(se.subtract(y,g,Le)),A=Math.sqrt(R),_=qe;_.x=n.x,_.y=i.y,_.z=o.z;y=Ge;y.x=a.x,y.y=s.y,y.z=u.z;var S=se.midpoint(_,y,je),O=0;for(l=0;l<c;l++){se.clone(e[l],r);var I=se.magnitude(se.subtract(r,S,Le));O<I&&(O=I);var N=se.magnitudeSquared(se.subtract(r,g,Le));R<N&&(R=(A=.5*(A+(I=Math.sqrt(N))))*A,g.x=(A*g.x+(N=I-A)*r.x)/I,g.y=(A*g.y+N*r.y)/I,g.z=(A*g.z+N*r.z)/I)}return A<O?(se.clone(g,t.center),t.radius=A):(se.clone(S,t.center),t.radius=O),t};var He=new e,Ve=new se,Xe=new se,Ye=new x,ke=new x;we.fromRectangle2D=function(e,t,r){return we.fromRectangleWithHeights2D(e,t,0,0,r)},we.fromRectangleWithHeights2D=function(e,t,r,n,i){if(ie(i)||(i=new we),!ie(e))return i.center=se.clone(se.ZERO,i.center),i.radius=0,i;t=C(t,He),xe.southwest(e,Ye),Ye.height=r,xe.northeast(e,ke),ke.height=n;var o=t.project(Ye,Ve),r=t.project(ke,Xe),e=r.x-o.x,n=r.y-o.y,t=r.z-o.z;i.radius=.5*Math.sqrt(e*e+n*n+t*t);r=i.center;return r.x=o.x+.5*e,r.y=o.y+.5*n,r.z=o.z+.5*t,i};var Ke=[];we.fromRectangle3D=function(e,t,r,n){if(t=C(t,ce.WGS84),r=C(r,0),ie(n)||(n=new we),!ie(e))return n.center=se.clone(se.ZERO,n.center),n.radius=0,n;r=xe.subsample(e,t,r,Ke);return we.fromPoints(r,n)},we.fromVertices=function(e,t,r,n){if(ie(n)||(n=new we),!ie(e)||0===e.length)return n.center=se.clone(se.ZERO,n.center),n.radius=0,n;t=C(t,se.ZERO),r=C(r,3);var i=ze;i.x=e[0]+t.x,i.y=e[1]+t.y,i.z=e[2]+t.z;for(var o=se.clone(i,ve),a=se.clone(i,be),s=se.clone(i,Pe),u=se.clone(i,Fe),c=se.clone(i,Ue),l=se.clone(i,De),f=e.length,h=0;h<f;h+=r){var m=e[h]+t.x,d=e[h+1]+t.y,E=e[h+2]+t.z;i.x=m,i.y=d,i.z=E,m<o.x&&se.clone(i,o),m>u.x&&se.clone(i,u),d<a.y&&se.clone(i,a),d>c.y&&se.clone(i,c),E<s.z&&se.clone(i,s),E>l.z&&se.clone(i,l)}var p=se.magnitudeSquared(se.subtract(u,o,Le)),_=se.magnitudeSquared(se.subtract(c,a,Le)),y=se.magnitudeSquared(se.subtract(l,s,Le)),T=o,g=u,R=p;p<_&&(R=_,T=a,g=c),R<y&&(R=y,T=s,g=l);var A=Be;A.x=.5*(T.x+g.x),A.y=.5*(T.y+g.y),A.z=.5*(T.z+g.z);var S=se.magnitudeSquared(se.subtract(g,A,Le)),O=Math.sqrt(S),T=qe;T.x=o.x,T.y=a.y,T.z=s.z;g=Ge;g.x=u.x,g.y=c.y,g.z=l.z;var I=se.midpoint(T,g,je),N=0;for(h=0;h<f;h+=r){i.x=e[h]+t.x,i.y=e[h+1]+t.y,i.z=e[h+2]+t.z;var M=se.magnitude(se.subtract(i,I,Le));N<M&&(N=M);var x=se.magnitudeSquared(se.subtract(i,A,Le));S<x&&(S=(O=.5*(O+(M=Math.sqrt(x))))*O,A.x=(O*A.x+(x=M-O)*i.x)/M,A.y=(O*A.y+x*i.y)/M,A.z=(O*A.z+x*i.z)/M)}return O<N?(se.clone(A,n.center),n.radius=O):(se.clone(I,n.center),n.radius=N),n},we.fromEncodedCartesianVertices=function(e,t,r){if(ie(r)||(r=new we),!ie(e)||!ie(t)||e.length!==t.length||0===e.length)return r.center=se.clone(se.ZERO,r.center),r.radius=0,r;var n=ze;n.x=e[0]+t[0],n.y=e[1]+t[1],n.z=e[2]+t[2];for(var i=se.clone(n,ve),o=se.clone(n,be),a=se.clone(n,Pe),s=se.clone(n,Fe),u=se.clone(n,Ue),c=se.clone(n,De),l=e.length,f=0;f<l;f+=3){var h=e[f]+t[f],m=e[f+1]+t[f+1],d=e[f+2]+t[f+2];n.x=h,n.y=m,n.z=d,h<i.x&&se.clone(n,i),h>s.x&&se.clone(n,s),m<o.y&&se.clone(n,o),m>u.y&&se.clone(n,u),d<a.z&&se.clone(n,a),d>c.z&&se.clone(n,c)}var E=se.magnitudeSquared(se.subtract(s,i,Le)),p=se.magnitudeSquared(se.subtract(u,o,Le)),_=se.magnitudeSquared(se.subtract(c,a,Le)),y=i,T=s,g=E;E<p&&(g=p,y=o,T=u),g<_&&(g=_,y=a,T=c);var R=Be;R.x=.5*(y.x+T.x),R.y=.5*(y.y+T.y),R.z=.5*(y.z+T.z);var A=se.magnitudeSquared(se.subtract(T,R,Le)),S=Math.sqrt(A),y=qe;y.x=i.x,y.y=o.y,y.z=a.z;T=Ge;T.x=s.x,T.y=u.y,T.z=c.z;var O=se.midpoint(y,T,je),I=0;for(f=0;f<l;f+=3){n.x=e[f]+t[f],n.y=e[f+1]+t[f+1],n.z=e[f+2]+t[f+2];var N=se.magnitude(se.subtract(n,O,Le));I<N&&(I=N);var M=se.magnitudeSquared(se.subtract(n,R,Le));A<M&&(A=(S=.5*(S+(N=Math.sqrt(M))))*S,R.x=(S*R.x+(M=N-S)*n.x)/N,R.y=(S*R.y+M*n.y)/N,R.z=(S*R.z+M*n.z)/N)}return S<I?(se.clone(R,r.center),r.radius=S):(se.clone(O,r.center),r.radius=I),r},we.fromCornerPoints=function(e,t,r){ie(r)||(r=new we);e=se.midpoint(e,t,r.center);return r.radius=se.distance(e,t),r},we.fromEllipsoid=function(e,t){return ie(t)||(t=new we),se.clone(se.ZERO,t.center),t.radius=e.maximumRadius,t};var Ze=new se;we.fromBoundingSpheres=function(e,t){if(ie(t)||(t=new we),!ie(e)||0===e.length)return t.center=se.clone(se.ZERO,t.center),t.radius=0,t;var r=e.length;if(1===r)return we.clone(e[0],t);if(2===r)return we.union(e[0],e[1],t);for(var n=[],i=0;i<r;i++)n.push(e[i].center);var o=(t=we.fromPoints(n,t)).center,a=t.radius;for(i=0;i<r;i++)var s=e[i],a=Math.max(a,se.distance(o,s.center,Ze)+s.radius);return t.radius=a,t};var Je=new se,Qe=new se,$e=new se;we.fromOrientedBoundingBox=function(e,t){ie(t)||(t=new we);var r=e.halfAxes,n=Y.getColumn(r,0,Je),i=Y.getColumn(r,1,Qe),r=Y.getColumn(r,2,$e);return se.add(n,i,n),se.add(n,r,n),t.center=se.clone(e.center,t.center),t.radius=se.magnitude(n),t},we.clone=function(e,t){if(ie(e))return ie(t)?(t.center=se.clone(e.center,t.center),t.radius=e.radius,t):new we(e.center,e.radius)},we.packedLength=4,we.pack=function(e,t,r){r=C(r,0);var n=e.center;return t[r++]=n.x,t[r++]=n.y,t[r++]=n.z,t[r]=e.radius,t},we.unpack=function(e,t,r){t=C(t,0);var n=(r=!ie(r)?new we:r).center;return n.x=e[t++],n.y=e[t++],n.z=e[t++],r.radius=e[t],r};var et=new se,tt=new se;we.union=function(e,t,r){ie(r)||(r=new we);var n=e.center,i=e.radius,o=t.center,a=t.radius,s=se.subtract(o,n,et),o=se.magnitude(s);if(o+a<=i)return e.clone(r),r;if(o+i<=a)return t.clone(r),r;a=.5*(i+o+a),o=se.multiplyByScalar(s,(a-i)/o,tt);return se.add(o,n,o),se.clone(o,r.center),r.radius=a,r};var rt=new se;we.expand=function(e,t,r){r=we.clone(e,r);t=se.magnitude(se.subtract(t,r.center,rt));return t>r.radius&&(r.radius=t),r},we.intersectPlane=function(e,t){var r=e.center,n=e.radius,e=t.normal,t=se.dot(e,r)+t.distance;return t<-n?V.OUTSIDE:t<n?V.INTERSECTING:V.INSIDE},we.intersectRay=function(e,t,r){var n=se.subtract(t.origin,e.center,new se),i=se.dot(n,n),o=i-e.radius*e.radius;if(o<=0){var a=se.dot(n,t.direction),i=Math.sqrt(e.radius*e.radius-(i-a*a));return r=se.multiplyByScalar(t.direction,i-a,r),r=se.subtract(t.origin,r,r),V.INTERSECTING}n=se.dot(t.direction,n);if(0<=n)return V.OUTSIDE;o=n*n-o;if(o<0)return V.OUTSIDE;if(o>=oe.EPSILON10){a=-n-Math.sqrt(o);return r=se.multiplyByScalar(t.direction,a,r),r=se.add(t.origin,r,r),V.INTERSECTING}return r=se.multiplyByScalar(t.direction,n,r),r=se.subtract(t.origin,r,r),V.INTERSECTING},we.transform=function(e,t,r){return(r=!ie(r)?new we:r).center=me.multiplyByPoint(t,e.center,r.center),r.radius=me.getMaximumScale(t)*e.radius,r};var nt=new se;we.distanceSquaredTo=function(e,t){t=se.subtract(e.center,t,nt);return se.magnitudeSquared(t)-e.radius*e.radius},we.transformWithoutScale=function(e,t,r){return(r=!ie(r)?new we:r).center=me.multiplyByPoint(t,e.center,r.center),r.radius=e.radius,r};var it=new se;we.computePlaneDistances=function(e,t,r,n){ie(n)||(n=new X);t=se.subtract(e.center,t,it),t=se.dot(r,t);return n.start=t-e.radius,n.stop=t+e.radius,n};for(var ot=new se,at=new se,st=new se,ut=new se,ct=new se,lt=new x,ft=new Array(8),ht=0;ht<8;++ht)ft[ht]=new se;var mt=new e;function dt(e,t,r){this.minimum=se.clone(C(e,se.ZERO)),this.maximum=se.clone(C(t,se.ZERO)),r=ie(r)?se.clone(r):se.midpoint(this.minimum,this.maximum,new se),this.center=r}we.projectTo2D=function(e,t,r){var n=(t=C(t,mt)).ellipsoid,i=e.center,o=e.radius,a=se.equals(i,se.ZERO)?se.clone(se.UNIT_X,ot):n.geodeticSurfaceNormal(i,ot),s=se.cross(se.UNIT_Z,a,at);se.normalize(s,s);var u=se.cross(a,s,st);se.normalize(u,u),se.multiplyByScalar(a,o,a),se.multiplyByScalar(u,o,u),se.multiplyByScalar(s,o,s);var c=se.negate(u,ct),e=se.negate(s,ut),l=ft,o=l[0];se.add(a,u,o),se.add(o,s,o),o=l[1],se.add(a,u,o),se.add(o,e,o),o=l[2],se.add(a,c,o),se.add(o,e,o),o=l[3],se.add(a,c,o),se.add(o,s,o),se.negate(a,a),o=l[4],se.add(a,u,o),se.add(o,s,o),o=l[5],se.add(a,u,o),se.add(o,e,o),o=l[6],se.add(a,c,o),se.add(o,e,o),o=l[7],se.add(a,c,o),se.add(o,s,o);for(var f=l.length,h=0;h<f;++h){var m=l[h];se.add(i,m,m);var d=n.cartesianToCartographic(m,lt);t.project(d,m)}c=(i=(r=we.fromPoints(l,r)).center).x,s=i.y,o=i.z;return i.x=o,i.y=c,i.z=s,r},we.isOccluded=function(e,t){return!t.isBoundingSphereVisible(e)},we.equals=function(e,t){return e===t||ie(e)&&ie(t)&&se.equals(e.center,t.center)&&e.radius===t.radius},we.prototype.intersectPlane=function(e){return we.intersectPlane(this,e)},we.prototype.intersectRay=function(e,t){return we.intersectRay(this,e,t)},we.prototype.distanceSquaredTo=function(e){return we.distanceSquaredTo(this,e)},we.prototype.computePlaneDistances=function(e,t,r){return we.computePlaneDistances(this,e,t,r)},we.prototype.isOccluded=function(e){return we.isOccluded(this,e)},we.prototype.equals=function(e){return we.equals(this,e)},we.prototype.clone=function(e){return we.clone(this,e)},we.prototype.volume=function(){var e=this.radius;return We*e*e*e},we.prototype.project_area=function(e){return this.radius*this.radius*oe.PI},we.prototype.height=function(e){return 2*this.radius},dt.fromPoints=function(e,t){if(ie(t)||(t=new dt),!ie(e)||0===e.length)return t.minimum=se.clone(se.ZERO,t.minimum),t.maximum=se.clone(se.ZERO,t.maximum),t.center=se.clone(se.ZERO,t.center),t;for(var r=e[0].x,n=e[0].y,i=e[0].z,o=e[0].x,a=e[0].y,s=e[0].z,u=e.length,c=1;c<u;c++)var l=e[c],f=l.x,h=l.y,l=l.z,r=Math.min(f,r),o=Math.max(f,o),n=Math.min(h,n),a=Math.max(h,a),i=Math.min(l,i),s=Math.max(l,s);var m=t.minimum;m.x=r,m.y=n,m.z=i;var d=t.maximum;return d.x=o,d.y=a,d.z=s,t.center=se.midpoint(m,d,t.center),t},dt.clone=function(e,t){if(ie(e))return ie(t)?(t.minimum=se.clone(e.minimum,t.minimum),t.maximum=se.clone(e.maximum,t.maximum),t.center=se.clone(e.center,t.center),t):new dt(e.minimum,e.maximum,e.center)},dt.equals=function(e,t){return e===t||ie(e)&&ie(t)&&se.equals(e.center,t.center)&&se.equals(e.minimum,t.minimum)&&se.equals(e.maximum,t.maximum)};var Et=new se;dt.intersectPlane=function(e,t){Et=se.subtract(e.maximum,e.minimum,Et);var r=se.multiplyByScalar(Et,.5,Et),n=t.normal,r=r.x*Math.abs(n.x)+r.y*Math.abs(n.y)+r.z*Math.abs(n.z),t=se.dot(e.center,n)+t.distance;return 0<t-r?V.INSIDE:t+r<0?V.OUTSIDE:V.INTERSECTING},dt.prototype.clone=function(e){return dt.clone(this,e)},dt.prototype.intersectPlane=function(e){return dt.intersectPlane(this,e)},dt.prototype.equals=function(e){return dt.equals(this,e)},dt.prototype.width=function(){return this.maximum.x-this.minimum.x},dt.prototype.height=function(){return this.maximum.y-this.minimum.y},dt.prototype.length=function(){return this.maximum.z-this.minimum.z},dt.prototype.get_max_radius=function(){return se.distance(this.maximum,this.minimum)},dt.prototype.combine_box=function(e){this.combine_vertex(e.minimum),this.combine_vertex(e.maximum)},dt.prototype.combine_vertex=function(e){e.x<this.minimum.x&&(this.minimum.x=e.x),e.x>this.maximum.x&&(this.maximum.x=e.x),e.y<this.minimum.y&&(this.minimum.y=e.y),e.y>this.maximum.y&&(this.maximum.y=e.y),e.z<this.minimum.z&&(this.minimum.z=e.z),e.z>this.maximum.z&&(this.maximum.z=e.z),this.center=se.midpoint(this.minimum,this.maximum,new se)},dt.prototype.nearest_distance_to_point=function(e){var t=se.clone(e);return se.maximumByComponent(this.minimum,t,t),se.minimumByComponent(this.maximum,t,t),se.distance(t,e)},dt.prototype.nearest_point_to_point=function(e){e=se.clone(e);return se.maximumByComponent(this.minimum,e,e),se.minimumByComponent(this.maximum,e,e),e},dt.prototype.project_area=function(e){var t=this.maximum.x-this.minimum.x,r=this.maximum.y-this.minimum.y,n=this.maximum.z-this.minimum.z;return Math.abs(r*n*e.x)+Math.abs(t*n*e.y)+Math.abs(t*r*e.z)},dt.prototype.get_corners=function(){for(var e=[],t=0;t<8;++t)e.push(new se);return e[0]=se.clone(this.minimum),e[1].x=this.minimum.x,e[1].y=this.maximum.y,e[1].z=this.minimum.z,e[2].x=this.maximum.x,e[2].y=this.maximum.y,e[2].z=this.minimum.z,e[3].x=this.maximum.x,e[3].y=this.minimum.y,e[3].z=this.minimum.z,e[4]=se.clone(this.maximum),e[5].x=this.minimum.x,e[5].y=this.maximum.y,e[5].z=this.maximum.z,e[6].x=this.minimum.x,e[6].y=this.minimum.y,e[6].z=this.maximum.z,e[7].x=this.maximum.x,e[7].y=this.minimum.y,e[7].z=this.maximum.z,e},dt.prototype.transform=function(e,t){for(var r=this.get_corners(),n=new se(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),i=new se(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),o=0;o<8;o++)r[o]=me.multiplyByPoint(e,r[o],r[o]),se.minimumByComponent(r[o],n,n),se.maximumByComponent(r[o],i,i);return ie(t)?(t.minimum=n,t.maximum=i,t):t=new dt(n,i)},dt.prototype.is_valid=function(){return!(this.minimum.x>this.maximum.x||this.minimum.y>this.maximum.y||this.minimum.z>this.maximum.z)},dt.intersectRay=function(e,t){var r=new Array(3);se.pack(e.minimum,r);var n=new Array(3);se.pack(e.maximum,n);var i=new Array(3);se.pack(t.origin,i);e=new Array(3);return se.pack(t.direction,e),function(e,t,r,n,i){for(var o,a=!0,s=new Array(3),u=new Array(3),c=new Array(3),l=0;l<3;l++)r[l]<e[l]?(s[l]=1,c[l]=e[l],a=!1):r[l]>t[l]?(s[l]=0,c[l]=t[l],a=!1):s[l]=2;if(a)return i=r,!0;for(l=0;l<3;l++)2!=s[l]&&Math.abs(n[l])>oe.EPSILON10?u[l]=(c[l]-r[l])/n[l]:u[l]=-1;for(o=0,l=1;l<3;l++)u[o]<u[l]&&(o=l);if(u[o]<0)return!1;for(l=0;l<3;l++)if(o!=l){if(i[l]=r[l]+u[o]*n[l],i[l]<e[l]||i[l]>t[l])return!1}else i[l]=c[l];return!0}(r,n,i,e,new Array(3))},dt.prototype.intersectRay=function(e){return dt.intersectRay(this,e)},dt.prototype.make_invalid=function(){this.minimum.x=this.minimum.y=this.minimum.z=Number.MAX_VALUE,this.maximum.x=this.maximum.y=this.maximum.z=-Number.MAX_VALUE},dt.prototype.toBoundingSphere=function(e){return new we(void 0===e?this.center:me.multiplyByPoint(e,this.center,new se),this.get_max_radius()/2)},dt.intersect=function(e,t){return!(t.minimum.x>e.maximum.x||t.maximum.x<e.minimum.x||t.minimum.y>e.maximum.y||t.maximum.y<e.minimum.y||t.minimum.z>e.maximum.z||t.maximum.z<e.minimum.z)&&!(t.minimum.x>e.minimum.x&&t.maximum.x<e.maximum.x&&t.minimum.y>e.minimum.y&&t.maximum.y<e.maximum.y&&t.minimum.z>e.minimum.z&&t.maximum.z<e.maximum.z&&e.minimum.x>t.minimum.x&&e.maximum.x<t.maximum.x&&e.minimum.y>t.minimum.y&&e.maximum.y<t.maximum.y&&e.minimum.z>t.minimum.z&&e.maximum.z<t.maximum.z)};var pt=Object.freeze({DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,HALF_FLOAT_OES:36193,DOUBLE:5130,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047}),_t={UNSIGNED_BYTE:pt.UNSIGNED_BYTE,UNSIGNED_SHORT:pt.UNSIGNED_SHORT,UNSIGNED_INT:pt.UNSIGNED_INT,getSizeInBytes:function(e){switch(e){case _t.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case _t.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case _t.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT}},fromSizeInBytes:function(e){switch(e){case 2:return _t.UNSIGNED_SHORT;case 4:return _t.UNSIGNED_INT;case 1:return _t.UNSIGNED_BYTE}},validate:function(e){return ie(e)&&(e===_t.UNSIGNED_BYTE||e===_t.UNSIGNED_SHORT||e===_t.UNSIGNED_INT)},createTypedArray:function(e,t){return new(e>=oe.SIXTY_FOUR_KILOBYTES?Uint32Array:Uint16Array)(t)},createTypedArrayFromArrayBuffer:function(e,t,r,n){return new(e>=oe.SIXTY_FOUR_KILOBYTES?Uint32Array:Uint16Array)(t,r,n)}},yt=Object.freeze(_t);function Tt(e,t){this.normal=se.clone(e),this.distance=t}Tt.fromPointNormal=function(e,t,r){e=-se.dot(t,e);return ie(r)?(se.clone(t,r.normal),r.distance=e,r):new Tt(t,e)};var gt=new se;Tt.fromCartesian4=function(e,t){var r=se.fromCartesian4(e,gt),e=e.w;return ie(t)?(se.clone(r,t.normal),t.distance=e,t):new Tt(r,e)},Tt.fromPoints=function(e,t,r,n){var i=se.subtract(t,e,new se),t=se.subtract(r,t,new se);se.normalize(i,i),se.normalize(t,t);t=se.cross(i,t,new se);se.normalize(t,t);e=-se.dot(t,e);return ie(n)?(se.clone(t,n.normal),n.distance=e,n):new Tt(t,e)},Tt.getPointDistance=function(e,t){return se.dot(e.normal,t)+e.distance};var Rt=new se;Tt.projectPointOntoPlane=function(e,t,r){ie(r)||(r=new se);var n=Tt.getPointDistance(e,t),n=se.multiplyByScalar(e.normal,n,Rt);return se.subtract(t,n,r)},Tt.projection=function(e,t,r){var n=se.dot(t,e.normal),n=se.multiplyByScalar(e.normal,n,Rt);return ie(r)||(r=new se),se.subtract(t,n,r)};var At=new se;Tt.transform=function(e,t,r){return me.multiplyByPointAsVector(t,e.normal,gt),se.normalize(gt,gt),se.multiplyByScalar(e.normal,-e.distance,At),me.multiplyByPoint(t,At,At),Tt.fromPointNormal(At,gt,r)},Tt.clone=function(e,t){return ie(t)?(se.clone(e.normal,t.normal),t.distance=e.distance,t):new Tt(e.normal,e.distance)},Tt.equals=function(e,t){return e.distance===t.distance&&se.equals(e.normal,t.normal)},Tt.prototype.intersect=function(e,t){ie(t)||(t=new se);var r,n=e.origin,i=e.direction,e=se.dot(i,this.normal);return Math.abs(e)<oe.EPSILON15?(r=n.x*this.normal.x*n.y*this.normal.y+n.z*this.normal.z+this.distance)<oe.EPSILON15?(se.clone(n,t),t):void 0:(r=-(this.normal.x*n.x+this.normal.y*n.y+this.normal.z*n.z+this.distance),t=se.multiplyByScalar(i,r/=e,t),t=se.add(n,t,t))},Tt.ORIGIN_XY_PLANE=Object.freeze(new Tt(se.UNIT_Z,0)),Tt.ORIGIN_YZ_PLANE=Object.freeze(new Tt(se.UNIT_X,0)),Tt.ORIGIN_ZX_PLANE=Object.freeze(new Tt(se.UNIT_Y,0));var St={};function Ot(e,t,r){var n=e+t;return oe.sign(e)!==oe.sign(t)&&Math.abs(n/Math.max(Math.abs(e),Math.abs(t)))<r?0:n}St.computeDiscriminant=function(e,t,r){return t*t-4*e*r},St.computeRealRoots=function(e,t,r){if(0===e)return 0===t?[]:[-r/t];if(0===t){if(0===r)return[0,0];var n=Math.abs(r),i=Math.abs(e);if(n<i&&n/i<oe.EPSILON14)return[0,0];if(i<n&&i/n<oe.EPSILON14)return[];if((i=-r/e)<0)return[];n=Math.sqrt(i);return[-n,n]}if(0===r)return(i=-t/e)<0?[i,0]:[0,i];i=Ot(t*t,-(4*e*r),oe.EPSILON14);if(i<0)return[];i=-.5*Ot(t,oe.sign(t)*Math.sqrt(i),oe.EPSILON14);return 0<t?[i/e,r/i]:[r/i,i/e]};var It={};function Nt(e,t,r,n){var i=e,o=t/3,a=r/3,s=n,u=i*a,c=o*s,l=o*o,f=a*a,h=i*a-l,e=i*s-o*a,t=o*s-f,r=4*h*t-e*e;if(r<0){var n=u*f<=l*c?-2*o*(E=h)+(d=i)*e:-(d=s)*e+2*a*(E=t),m=-(n<0?-1:1)*Math.abs(d)*Math.sqrt(-r),d=(p=m-n)/2,d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),m=p===m?-d:-E/d,m=E<=0?d+m:-n/(d*d+m*m+E);return u*f<=l*c?[(m-o)/i]:[-s/(m+a)]}var E=h,u=-2*o*h+i*e,f=t,l=-s*e+2*a*t,c=Math.sqrt(r),h=Math.sqrt(3)/2,e=Math.abs(Math.atan2(i*c,-u)/3);m=2*Math.sqrt(-E);t=Math.cos(e);p=m*t;var r=m*(-t/2-h*Math.sin(e)),u=2*o<p+r?p-o:r-o,E=i,i=u/E,e=Math.abs(Math.atan2(s*c,-l)/3),s=-s,e=(p=(m=2*Math.sqrt(-f))*(t=Math.cos(e)))+(r=m*(-t/2-h*Math.sin(e)))<2*a?p+a:r+a,p=s/e,r=-u*e-E*s,e=(a*r-o*(u*s))/(-o*r+a*(E*e));return i<=e?i<=p?e<=p?[i,e,p]:[i,p,e]:[p,i,e]:i<=p?[e,i,p]:e<=p?[e,p,i]:[p,e,i]}It.computeDiscriminant=function(e,t,r,n){var i=t*t,o=r*r;return 18*e*t*r*n+i*o-27*(e*e)*(n*n)-4*(e*o*r+i*t*n)},It.computeRealRoots=function(e,t,r,n){var i;if(0===e)return St.computeRealRoots(t,r,n);if(0!==t)return 0===r?0===n?(o=-t/e)<0?[o,0,0]:[0,0,o]:Nt(e,t,0,n):0===n?0===(i=St.computeRealRoots(e,t,r)).length?[0]:i[1]<=0?[i[0],i[1],0]:0<=i[0]?[0,i[0],i[1]]:[i[0],0,i[1]]:Nt(e,t,r,n);if(0!==r)return 0===n?0===(i=St.computeRealRoots(e,0,r)).Length?[0]:[i[0],0,i[1]]:Nt(e,0,r,n);if(0===n)return[0,0,0];var o=(o=-n/e)<0?-Math.pow(-o,1/3):Math.pow(o,1/3);return[o,o,o]};var Mt={};function xt(e,t,r,n){var i=e*e,o=t-3*i/8,a=r-t*e/2+i*e/8,n=n-r*e/4+t*i/16-3*i*i/256,r=It.computeRealRoots(1,2*o,o*o-4*n,-a*a);if(0<r.length){t=-e/4,i=r[r.length-1];if(Math.abs(i)<oe.EPSILON14){e=St.computeRealRoots(1,o,n);if(2===e.length){var r=e[0],s=e[1];if(0<=r&&0<=s){n=Math.sqrt(r),e=Math.sqrt(s);return[t-e,t-n,t+n,t+e]}if(0<=r&&s<0)return[t-(u=Math.sqrt(r)),t+u];if(r<0&&0<=s)return[t-(u=Math.sqrt(s)),t+u]}return[]}if(0<i){var s=Math.sqrt(i),u=(o+i+a/s)/2,a=St.computeRealRoots(1,s,(o+i-a/s)/2),u=St.computeRealRoots(1,-s,u);return 0!==a.length?(a[0]+=t,a[1]+=t,0!==u.length?(u[0]+=t,u[1]+=t,a[1]<=u[0]?[a[0],a[1],u[0],u[1]]:u[1]<=a[0]?[u[0],u[1],a[0],a[1]]:a[0]>=u[0]&&a[1]<=u[1]?[u[0],a[0],a[1],u[1]]:u[0]>=a[0]&&u[1]<=a[1]?[a[0],u[0],u[1],a[1]]:a[0]>u[0]&&a[0]<u[1]?[u[0],a[0],u[1],a[1]]:[a[0],u[0],a[1],u[1]]):a):0!==u.length?(u[0]+=t,u[1]+=t,u):[]}}return[]}function Ct(e,t,r,n){var i=e*e,o=It.computeRealRoots(1,-2*t,r*e+t*t-4*n,i*n-r*t*e+r*r);if(0<o.length){var a,s,u,c,l=o[0],f=t-l,h=f*f,m=e/2,o=f/2,t=h-4*n,f=h+4*Math.abs(n),h=i-4*l,i=i+4*Math.abs(l);s=l<0||t*i<h*f?(a=(h=Math.sqrt(h))/2,0===h?0:(e*o-r)/h):(a=0===(s=Math.sqrt(t))?0:(e*o-r)/s,s/2),0==m&&0===a?c=u=0:oe.sign(m)===oe.sign(a)?c=l/(u=m+a):u=l/(c=m-a),0==o&&0===s?E=d=0:oe.sign(o)===oe.sign(s)?E=n/(d=o+s):d=n/(E=o-s);var d=St.computeRealRoots(1,u,d),E=St.computeRealRoots(1,c,E);if(0!==d.length)return 0!==E.length?d[1]<=E[0]?[d[0],d[1],E[0],E[1]]:E[1]<=d[0]?[E[0],E[1],d[0],d[1]]:d[0]>=E[0]&&d[1]<=E[1]?[E[0],d[0],d[1],E[1]]:E[0]>=d[0]&&E[1]<=d[1]?[d[0],E[0],E[1],d[1]]:d[0]>E[0]&&d[0]<E[1]?[E[0],d[0],E[1],d[1]]:[d[0],E[0],d[1],E[1]]:d;if(0!==E.length)return E}return[]}function wt(e,t){t=se.clone(C(t,se.ZERO)),se.equals(t,se.ZERO)||se.normalize(t,t),this.origin=se.clone(C(e,se.ZERO)),this.direction=t}Mt.computeDiscriminant=function(e,t,r,n,i){var o=e*e,a=t*t,s=a*t,u=r*r,c=u*r,l=n*n,f=l*n,h=i*i;return a*u*l-4*s*f-4*e*c*l+18*e*t*r*f-27*o*l*l+256*(o*e)*(h*i)+i*(18*s*r*n-4*a*c+16*e*u*u-80*e*t*u*n-6*e*a*l+144*o*r*l)+h*(144*e*a*r-27*a*a-128*o*u-192*o*t*n)},Mt.computeRealRoots=function(e,t,r,n,i){if(Math.abs(e)<oe.EPSILON15)return It.computeRealRoots(t,r,n,i);var o=t/e,a=r/e,s=n/e,u=i/e,e=o<0?1:0;switch(e+=a<0?e+1:e,e+=s<0?e+1:e,e+=u<0?e+1:e){case 0:return xt(o,a,s,u);case 1:case 2:return Ct(o,a,s,u);case 3:case 4:return xt(o,a,s,u);case 5:return Ct(o,a,s,u);case 6:case 7:return xt(o,a,s,u);case 8:return Ct(o,a,s,u);case 9:case 10:return xt(o,a,s,u);case 11:return Ct(o,a,s,u);case 12:case 13:case 14:case 15:return xt(o,a,s,u);default:return}},wt.clone=function(e,t){if(ie(e))return ie(t)?(t.origin=se.clone(e.origin),t.direction=se.clone(e.direction),t):new wt(e.origin,e.direction)},wt.getPoint=function(e,t,r){return ie(r)||(r=new se),r=se.multiplyByScalar(e.direction,t,r),se.add(e.origin,r,r)};var vt={rayPlane:function(e,t,r){ie(r)||(r=new se);var n=e.origin,i=e.direction,o=t.normal,e=se.dot(o,i);if(!(Math.abs(e)<oe.EPSILON15)){e=(-t.distance-se.dot(o,n))/e;if(!(e<0))return r=se.multiplyByScalar(i,e,r),se.add(n,r,r)}}},bt=new se,Pt=new se,Ft=new se,Ut=new se,Dt=new se;vt.rayTriangleParametric=function(e,t,r,n,i){i=C(i,!1);var o,a,s,u=e.origin,c=e.direction,l=se.subtract(r,t,bt),e=se.subtract(n,t,Pt),r=se.cross(c,e,Ft),n=se.dot(l,r);if(i){if(n<oe.EPSILON6)return;if(h=se.subtract(u,t,Ut),(f=se.dot(h,r))<0||n<f)return;if(o=se.cross(h,l,Dt),(a=se.dot(c,o))<0||n<f+a)return;s=se.dot(e,o)/n}else{if(Math.abs(n)<oe.EPSILON6)return;var f,n=1/n,h=se.subtract(u,t,Ut);if((f=se.dot(h,r)*n)<0||1<f)return;if(o=se.cross(h,l,Dt),(a=se.dot(c,o)*n)<0||1<f+a)return;s=se.dot(e,o)*n}return s},vt.rayTriangle=function(e,t,r,n,i,o){i=vt.rayTriangleParametric(e,t,r,n,i);if(ie(i)&&!(i<0))return ie(o)||(o=new se),se.multiplyByScalar(e.direction,i,o),se.add(e.origin,o,o)};var zt=new wt;vt.lineSegmentTriangle=function(e,t,r,n,i,o,a){var s=zt;se.clone(e,s.origin),se.subtract(t,e,s.direction),se.normalize(s.direction,s.direction);o=vt.rayTriangleParametric(s,r,n,i,o);if(!(!ie(o)||o<0||o>se.distance(e,t)))return ie(a)||(a=new se),se.multiplyByScalar(s.direction,o,a),se.add(s.origin,a,a)};var Lt={root0:0,root1:0};function Bt(e,t,r){ie(r)||(r=new X);var n=e.origin,i=e.direction,e=t.center,t=t.radius*t.radius,e=se.subtract(n,e,Ft),t=function(e,t,r,n){if(!((o=t*t-4*e*r)<0)){if(0<o){var i=1/(2*e),r=Math.sqrt(o),o=(-t+r)*i,i=(-t-r)*i;return o<i?(n.root0=o,n.root1=i):(n.root0=i,n.root1=o),n}e=-t/(2*e);if(0!=e)return n.root0=n.root1=e,n}}(se.dot(i,i),2*se.dot(i,e),se.magnitudeSquared(e)-t,Lt);if(ie(t))return r.start=t.root0,r.stop=t.root1,r}vt.raySphere=function(e,t,r){if(ie(r=Bt(e,t,r))&&!(r.stop<0))return r.start=Math.max(r.start,0),r};var qt=new wt;vt.lineSegmentSphere=function(e,t,r,n){var i=qt;se.clone(e,i.origin);t=se.subtract(t,e,i.direction),e=se.magnitude(t);if(se.normalize(t,t),!(!ie(n=Bt(i,r,n))||n.stop<0||n.start>e))return n.start=Math.max(n.start,0),n.stop=Math.min(n.stop,e),n};var Gt=new se,jt=new se;function Wt(e,t,r){var n=e+t;return oe.sign(e)!==oe.sign(t)&&Math.abs(n/Math.max(Math.abs(e),Math.abs(t)))<r?0:n}vt.rayEllipsoid=function(e,t){var r=t.oneOverRadii,n=se.multiplyComponents(r,e.origin,Gt),t=se.multiplyComponents(r,e.direction,jt),r=se.magnitudeSquared(n),e=se.dot(n,t);if(1<r){if(0<=e)return;var i,o,n=e*e,a=r-1;if(n<(o=(i=se.magnitudeSquared(t))*a))return;if(o<n){var s,u=e*e-o,c=(s=-e+Math.sqrt(u))/i,n=a/s;return c<n?new X(c,n):{start:n,stop:c}}c=Math.sqrt(a/i);return new X(c,c)}return r<1?(a=r-1,u=e*e-(o=(i=se.magnitudeSquared(t))*a),new X(0,(s=-e+Math.sqrt(u))/i)):e<0?new X(0,-e/(i=se.magnitudeSquared(t))):void 0};var Ht=new se,Vt=new se,Xt=new se,Yt=new se,kt=new se,Kt=new Y,Zt=new Y,Jt=new Y,Qt=new Y,$t=new Y,er=new Y,tr=new Y,rr=new se,nr=new se,ir=new x;vt.grazingAltitudeLocation=function(e,t){var r=e.origin,n=e.direction;if(!se.equals(r,se.ZERO)){var i=t.geodeticSurfaceNormal(r,Ht);if(0<=se.dot(n,i))return r}var o=ie(this.rayEllipsoid(e,t)),a=t.transformPositionToScaledSpace(n,Ht),i=se.normalize(a,a),e=se.mostOrthogonalAxis(a,Yt),a=se.normalize(se.cross(e,i,Vt),Vt),e=se.normalize(se.cross(i,a,Xt),Xt),s=Kt;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=a.x,s[4]=a.y,s[5]=a.z,s[6]=e.x,s[7]=e.y,s[8]=e.z;var i=Y.transpose(s,Zt),u=Y.fromScale(t.radii,Jt),a=Y.fromScale(t.oneOverRadii,Qt),e=$t;e[0]=0,e[1]=-n.z,e[2]=n.y,e[3]=n.z,e[4]=0,e[5]=-n.x,e[6]=-n.y,e[7]=n.x,e[8]=0;var a=Y.multiply(Y.multiply(i,a,er),e,er),e=Y.multiply(Y.multiply(a,u,tr),s,tr),a=Y.multiplyByVector(a,r,kt),c=function(e,t,r,n,i){var o=n*n,a=i*i,s=(e[Y.COLUMN1ROW1]-e[Y.COLUMN2ROW2])*a,u=i*(n*Wt(e[Y.COLUMN1ROW0],e[Y.COLUMN0ROW1],oe.EPSILON15)+t.y),c=e[Y.COLUMN0ROW0]*o+e[Y.COLUMN2ROW2]*a+n*t.x+r,l=a*Wt(e[Y.COLUMN2ROW1],e[Y.COLUMN1ROW2],oe.EPSILON15),f=i*(n*Wt(e[Y.COLUMN2ROW0],e[Y.COLUMN0ROW2])+t.z),h=[];if(0==f&&0==l){if(0===(_=St.computeRealRoots(s,u,c)).length)return h;var m=_[0],d=Math.sqrt(Math.max(1-m*m,0));return h.push(new se(n,i*m,i*-d)),h.push(new se(n,i*m,i*d)),2===_.length&&(E=_[1],p=Math.sqrt(Math.max(1-E*E,0)),h.push(new se(n,i*E,i*-p)),h.push(new se(n,i*E,i*p))),h}var E=s*s+(m=l*l),p=2*(u*s+(d=f*l)),m=2*c*s+u*u-m+(t=f*f),d=2*(c*u-d);if(0==E&&0==p&&0==m&&0==d)return h;var _,y=(_=Mt.computeRealRoots(E,p,m,d,c*c-t)).length;if(0===y)return h;for(var T=0;T<y;++T){var g=_[T],R=g*g,A=Math.max(1-R,0),A=Math.sqrt(A),R=oe.sign(s)===oe.sign(c)?Wt(s*R+c,u*g,oe.EPSILON12):oe.sign(c)===oe.sign(u*g)?Wt(s*R,u*g+c,oe.EPSILON12):Wt(s*R+u*g,c,oe.EPSILON12),R=R*Wt(l*g,f,oe.EPSILON15);R<0?h.push(new se(n,i*g,i*A)):0<R?h.push(new se(n,i*g,i*-A)):0!==A?(h.push(new se(n,i*g,i*-A)),h.push(new se(n,i*g,i*A)),++T):h.push(new se(n,i*g,i*A))}return h}(e,se.negate(a,Ht),0,0,1),l=c.length;if(0<l){for(var f=se.clone(se.ZERO,nr),h=Number.NEGATIVE_INFINITY,m=0;m<l;++m){var d=Y.multiplyByVector(u,Y.multiplyByVector(s,c[m],rr),rr),E=se.normalize(se.subtract(d,r,Yt),Yt),E=se.dot(E,n);h<E&&(h=E,f=se.clone(d,f))}e=t.cartesianToCartographic(f,ir),h=oe.clamp(h,0,1),a=se.magnitude(se.subtract(f,r,Yt))*Math.sqrt(1-h*h);return e.height=a=o?-a:a,t.cartographicToCartesian(e,new se)}};var or,ar,sr=new se;function ur(e,t,r,n){return cr(e).then(t,r,n)}function cr(e){var t,r,e=e instanceof lr?e:mr(e)?(t=hr(),e.then(function(e){t.resolve(e)},function(e){t.reject(e)},function(e){t.progress(e)}),t.promise):(r=e,new lr(function(e){try{return cr(e?e(r):r)}catch(e){return fr(e)}}));return e}function lr(e){this.then=e}function fr(r){return new lr(function(e,t){try{return t?cr(t(r)):fr(r)}catch(e){return fr(e)}})}function hr(){var e=new lr(i),a=[],s=[],n=function(t,r,n){var i=hr(),o="function"==typeof n?function(e){try{i.progress(n(e))}catch(e){i.progress(e)}}:function(e){i.progress(e)};return a.push(function(e){e.then(t,r).then(i.resolve,i.reject,o)}),s.push(o),i.promise},t=function(e){return _r(s,e),e},r=function(e){return e=cr(e),n=e.then,r=cr,t=yr,_r(a,e),s=a=or,e};return{then:i,resolve:o,reject:u,progress:c,promise:e,resolver:{resolve:o,reject:u,progress:c}};function i(e,t,r){return n(e,t,r)}function o(e){return r(e)}function u(e){return r(fr(e))}function c(e){return t(e)}}function mr(e){return e&&"function"==typeof e.then}function dr(e,m,d,E,p){return ur(e,function(e){var t,r,n,i,o=e.length>>>0,a=Math.max(0,Math.min(m,o)),s=[],u=o-a+1,c=[],l=hr();if(a)for(n=l.progress,r=function(e){c.push(e),--u||(t=r=yr,l.reject(c))},t=function(e){s.push(e),--a||(t=r=yr,l.resolve(s))},i=0;i<o;++i)i in e&&ur(e[i],h,f,n);else l.resolve(s);return l.then(d,E,p);function f(e){r(e)}function h(e){t(e)}})}function Er(e,t,r,n){return pr(e,Tr).then(t,r,n)}function pr(e,s){return ur(e,function(e){var t,r,n,i=t=e.length>>>0,o=[],a=hr();if(i)for(r=function(e,t){ur(e,s).then(function(e){o[t]=e,--i||a.resolve(o)},a.reject)},n=0;n<t;n++)n in e?r(e[n],n):--i;else a.resolve(o);return a.promise})}function _r(e,t){for(var r,n=0;r=e[n++];)r(t)}function yr(){}function Tr(e){return e}vt.lineSegmentPlane=function(e,t,r,n){ie(n)||(n=new se);var i=se.subtract(t,e,sr),o=r.normal,t=se.dot(o,i);if(!(Math.abs(t)<oe.EPSILON6)){o=se.dot(o,e),t=-(r.distance+o)/t;if(!(t<0||1<t))return se.multiplyByScalar(i,t,n),se.add(e,n,n),n}},vt.trianglePlaneIntersection=function(e,t,r,n){var i,o,a=n.normal,s=n.distance,u=se.dot(a,e)+s<0,c=se.dot(a,t)+s<0,a=se.dot(a,r)+s<0,s=0;if(s+=u?1:0,s+=c?1:0,1!=(s+=a?1:0)&&2!=s||(i=new se,o=new se),1==s){if(u)return vt.lineSegmentPlane(e,t,n,i),vt.lineSegmentPlane(e,r,n,o),{positions:[e,t,r,i,o],indices:[0,3,4,1,2,4,1,4,3]};if(c)return vt.lineSegmentPlane(t,r,n,i),vt.lineSegmentPlane(t,e,n,o),{positions:[e,t,r,i,o],indices:[1,3,4,2,0,4,2,4,3]};if(a)return vt.lineSegmentPlane(r,e,n,i),vt.lineSegmentPlane(r,t,n,o),{positions:[e,t,r,i,o],indices:[2,3,4,0,1,4,0,4,3]}}else if(2==s){if(!u)return vt.lineSegmentPlane(t,e,n,i),vt.lineSegmentPlane(r,e,n,o),{positions:[e,t,r,i,o],indices:[1,2,4,1,4,3,0,3,4]};if(!c)return vt.lineSegmentPlane(r,t,n,i),vt.lineSegmentPlane(e,t,n,o),{positions:[e,t,r,i,o],indices:[2,0,4,2,4,3,1,3,4]};if(!a)return vt.lineSegmentPlane(e,r,n,i),vt.lineSegmentPlane(t,r,n,o),{positions:[e,t,r,i,o],indices:[0,1,4,0,4,3,2,3,4]}}},ur.defer=hr,ur.resolve=cr,ur.reject=function(e){return ur(e,fr)},ur.join=function(){return pr(arguments,Tr)},ur.all=Er,ur.map=pr,ur.reduce=function(e,o){var t=zr.call(arguments,1);return ur(e,function(e){var i=e.length;return t[0]=function(e,r,n){return ur(e,function(t){return ur(r,function(e){return o(t,e,n,i)})})},Lr.apply(e,t)})},ur.any=function(e,t,r,n){return dr(e,1,function(e){return t?t(e[0]):e[0]},r,n)},ur.some=dr,ur.chain=function(e,t,r){var n=2<arguments.length;return ur(e,function(e){return t.resolve(e=n?r:e),e},function(e){return t.reject(e),fr(e)},t.progress)},ur.isPromise=mr,lr.prototype={always:function(e,t){return this.then(e,e,t)},otherwise:function(e){return this.then(or,e)},yield:function(e){return this.then(function(){return e})},spread:function(t){return this.then(function(e){return Er(e,function(e){return t.apply(or,e)})})}};var gr,Rr,Ar,Sr,Or,Ir,Nr,Mr,xr,Cr,wr,vr,br,Pr,Fr,Ur,Dr,zr=[].slice,Lr=[].reduce||function(e){var t,r=0,n=Object(this),i=n.length>>>0,o=arguments;if(o.length<=1)for(;;){if(r in n){t=n[r++];break}if(++r>=i)throw new TypeError}else t=o[1];for(;r<i;++r)r in n&&(t=e(t,n[r],r,n));return t},Br={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},qr={};function Gr(e){for(var t=e.split("."),r=0,n=t.length;r<n;++r)t[r]=parseInt(t[r],10);return t}function jr(){var e;return ie(Rr)||(Rr=!1,Xr()||null!==(e=/ Chrome\/([\.0-9]+)/.exec(gr.userAgent))&&(Rr=!0,Ar=Gr(e[1]))),Rr}function Wr(){var e;return ie(Sr)||(Sr=!1,jr()||Xr()||!/ Safari\/[\.0-9]+/.test(gr.userAgent)||null!==(e=/ Version\/([\.0-9]+)/.exec(gr.userAgent))&&(Sr=!0,Or=Gr(e[1]))),Sr}function Hr(){var e;return ie(Ir)||(Ir=!1,null!==(e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(gr.userAgent))&&(Ir=!0,(Nr=Gr(e[1])).isNightly=!!e[2])),Ir}function Vr(){var e;return ie(Mr)||(Mr=!1,"Microsoft Internet Explorer"===gr.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(gr.userAgent))&&(Mr=!0,xr=Gr(e[1])):"Netscape"===gr.appName&&null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(gr.userAgent))&&(Mr=!0,xr=Gr(e[1]))),Mr}function Xr(){var e;return ie(Cr)||(Cr=!1,null!==(e=/ Edge\/([\.0-9]+)/.exec(gr.userAgent))&&(Cr=!0,wr=Gr(e[1]))),Cr}function Yr(){var e;return ie(vr)||(vr=!1,null!==(e=/Firefox\/([\.0-9]+)/.exec(gr.userAgent))&&(vr=!0,br=Gr(e[1]))),vr}function kr(){var e;return ie(Dr)||((e=document.createElement("canvas")).setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;"),e=e.style.imageRendering,(Dr=ie(e)&&""!==e)&&(Ur=e)),Dr}function Kr(){return Kr._result}Object.defineProperties(qr,{element:{get:function(){if(qr.supportsFullscreen())return document[Br.fullscreenElement]}},changeEventName:{get:function(){if(qr.supportsFullscreen())return Br.fullscreenchange}},errorEventName:{get:function(){if(qr.supportsFullscreen())return Br.fullscreenerror}},enabled:{get:function(){if(qr.supportsFullscreen())return document[Br.fullscreenEnabled]}},fullscreen:{get:function(){if(qr.supportsFullscreen())return null!==qr.element}}}),qr.supportsFullscreen=function(){if(ie(ar))return ar;ar=!1;var e=document.body;if("function"==typeof e.requestFullscreen)return Br.requestFullscreen="requestFullscreen",Br.exitFullscreen="exitFullscreen",Br.fullscreenEnabled="fullscreenEnabled",Br.fullscreenElement="fullscreenElement",Br.fullscreenchange="fullscreenchange",Br.fullscreenerror="fullscreenerror",ar=!0;for(var t=["webkit","moz","o","ms","khtml"],r=0,n=t.length;r<n;++r){var i,o=t[r];"function"!=typeof e[i=o+"RequestFullscreen"]&&"function"!=typeof e[i=o+"RequestFullScreen"]||(Br.requestFullscreen=i,ar=!0),i=o+"ExitFullscreen","function"==typeof document[i]?Br.exitFullscreen=i:(i=o+"CancelFullScreen","function"==typeof document[i]&&(Br.exitFullscreen=i)),i=o+"FullscreenEnabled",void 0!==document[i]?Br.fullscreenEnabled=i:(i=o+"FullScreenEnabled",void 0!==document[i]&&(Br.fullscreenEnabled=i)),i=o+"FullscreenElement",void 0!==document[i]?Br.fullscreenElement=i:(i=o+"FullScreenElement",void 0!==document[i]&&(Br.fullscreenElement=i)),i=o+"fullscreenchange",void 0!==document["on"+i]&&(Br.fullscreenchange=i="ms"===o?"MSFullscreenChange":i),i=o+"fullscreenerror",void 0!==document["on"+i]&&(Br.fullscreenerror=i="ms"===o?"MSFullscreenError":i)}return ar},qr.requestFullscreen=function(e,t){qr.supportsFullscreen()&&e[Br.requestFullscreen]({vrDisplay:t})},qr.exitFullscreen=function(){qr.supportsFullscreen()&&document[Br.exitFullscreen]()},qr._names=Br,gr="undefined"!=typeof navigator?navigator:{},Kr._promise=void 0,Kr._result=void 0,Kr.initialize=function(){if(ie(Kr._promise))return Kr._promise;var e=ur.defer();if(Kr._promise=e.promise,Xr())return Kr._result=!1,e.resolve(Kr._result),e.promise;var t=new Image;return t.onload=function(){Kr._result=0<t.width&&0<t.height,e.resolve(Kr._result)},t.onerror=function(){Kr._result=!1,e.resolve(Kr._result)},t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.promise},Object.defineProperties(Kr,{initialized:{get:function(){return ie(Kr._result)}}});var Zr=[];"undefined"!=typeof ArrayBuffer&&(Zr.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"undefined"!=typeof Uint8ClampedArray&&Zr.push(Uint8ClampedArray),"undefined"!=typeof Uint8ClampedArray&&Zr.push(Uint8ClampedArray));var Jr={isChrome:jr,chromeVersion:function(){return jr()&&Ar},isSafari:Wr,safariVersion:function(){return Wr()&&Or},isWebkit:Hr,webkitVersion:function(){return Hr()&&Nr},isInternetExplorer:Vr,internetExplorerVersion:function(){return Vr()&&xr},isEdge:Xr,edgeVersion:function(){return Xr()&&wr},isFirefox:Yr,firefoxVersion:function(){return Yr()&&br},isWindows:function(){return Pr=!ie(Pr)?/Windows/i.test(gr.appVersion):Pr},hardwareConcurrency:C(gr.hardwareConcurrency,3),supportsPointerEvents:function(){return Fr=!ie(Fr)?!Yr()&&"undefined"!=typeof PointerEvent&&(!ie(gr.pointerEnabled)||gr.pointerEnabled):Fr},supportsImageRenderingPixelated:kr,supportsWebP:Kr,imageRenderingValue:function(){return kr()?Ur:void 0},typedArrayTypes:Zr};function Qr(e,t,r,n){this.x=C(e,0),this.y=C(t,0),this.z=C(r,0),this.w=C(n,0)}Jr.supportsFullscreen=function(){return qr.supportsFullscreen()},Jr.supportsTypedArrays=function(){return"undefined"!=typeof ArrayBuffer},Jr.supportsWebWorkers=function(){return"undefined"!=typeof Worker},Jr.supportsWebAssembly=function(){return"undefined"!=typeof WebAssembly&&!Jr.isEdge()};var $r=new se;Qr.fromAxisAngle=function(e,t,r){var n=t/2,i=Math.sin(n),t=($r=se.normalize(e,$r)).x*i,e=$r.y*i,i=$r.z*i,n=Math.cos(n);return ie(r)?(r.x=t,r.y=e,r.z=i,r.w=n,r):new Qr(t,e,i,n)};var en=[1,2,0],tn=new Array(3);Qr.fromRotationMatrix=function(e,t){var r,n,i,o,a=e[Y.COLUMN0ROW0],s=e[Y.COLUMN1ROW1],u=e[Y.COLUMN2ROW2],c=a+s+u,l=0<c?(i=.5*(o=Math.sqrt(c+1)),r=(e[Y.COLUMN1ROW2]-e[Y.COLUMN2ROW1])*(o=.5/o),n=(e[Y.COLUMN2ROW0]-e[Y.COLUMN0ROW2])*o,(e[Y.COLUMN0ROW1]-e[Y.COLUMN1ROW0])*o):(s=en[a=en[u=a<u&&s<u?2:a<s?1:0]],o=Math.sqrt(e[Y.getElementIndex(u,u)]-e[Y.getElementIndex(a,a)]-e[Y.getElementIndex(s,s)]+1),(l=tn)[u]=.5*o,o=.5/o,i=(e[Y.getElementIndex(s,a)]-e[Y.getElementIndex(a,s)])*o,l[a]=(e[Y.getElementIndex(a,u)]+e[Y.getElementIndex(u,a)])*o,l[s]=(e[Y.getElementIndex(s,u)]+e[Y.getElementIndex(u,s)])*o,r=-l[0],n=-l[1],-l[2]);return ie(t)?(t.x=r,t.y=n,t.z=l,t.w=i,t):new Qr(r,n,l,i)};var rn,nn,on,an=new Qr;new Qr,new Qr,new Qr;Qr.fromHeadingPitchRoll=function(e,t){return on=Qr.fromAxisAngle(se.UNIT_X,e.roll,an),nn=Qr.fromAxisAngle(se.UNIT_Y,-e.pitch,t),t=Qr.multiply(nn,on,nn),rn=Qr.fromAxisAngle(se.UNIT_Z,-e.heading,an),Qr.multiply(rn,t,t)};var sn=new se,un=new se;Qr.fromNormal=function(e,t,r){var n=se.add(e,t,sn);se.normalize(n,n);var i,o,a,s,u=se.dot(e,n),t=u;return s=0!=u?(o=(i=se.cross(e,n,un)).x,a=i.y,i.z):Math.abs(e.x)>=Math.abs(e.y)?(s=1/Math.sqrt(e.x*e.x+e.z*e.z),o=-e.z*s,a=0,e.x*s):(s=1/Math.sqrt(e.x*e.x+e.z*e.z),o=0,a=e.z*s,-e.y*s),ie(r)?(r.x=o,r.y=a,r.z=s,r.w=t,r):new Qr(o,a,s,t)};var cn=new se,ln=new se,fn=new Qr,hn=new Qr,mn=new Qr;Qr.packedLength=4,Qr.pack=function(e,t,r){return r=C(r,0),t[r++]=e.x,t[r++]=e.y,t[r++]=e.z,t[r]=e.w,t},Qr.unpack=function(e,t,r){return t=C(t,0),(r=!ie(r)?new Qr:r).x=e[t],r.y=e[t+1],r.z=e[t+2],r.w=e[t+3],r},Qr.packedInterpolationLength=3,Qr.convertPackedArrayForInterpolation=function(e,t,r,n){Qr.unpack(e,4*r,mn),Qr.conjugate(mn,mn);for(var i=0,o=r-t+1;i<o;i++){var a=3*i;Qr.unpack(e,4*(t+i),fn),Qr.multiply(fn,mn,fn),fn.w<0&&Qr.negate(fn,fn),Qr.computeAxis(fn,cn);var s=Qr.computeAngle(fn);(n=!ie(n)?[]:n)[a]=cn.x*s,n[1+a]=cn.y*s,n[2+a]=cn.z*s}},Qr.unpackInterpolationResult=function(e,t,r,n,i){ie(i)||(i=new Qr),se.fromArray(e,0,ln);e=se.magnitude(ln);return Qr.unpack(t,4*n,hn),0===e?Qr.clone(Qr.IDENTITY,fn):Qr.fromAxisAngle(ln,e,fn),Qr.multiply(fn,hn,i)},Qr.clone=function(e,t){if(ie(e))return ie(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new Qr(e.x,e.y,e.z,e.w)},Qr.conjugate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},Qr.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},Qr.magnitude=function(e){return Math.sqrt(Qr.magnitudeSquared(e))},Qr.normalize=function(e,t){var r=1/Qr.magnitude(e),n=e.x*r,i=e.y*r,o=e.z*r,r=e.w*r;return t.x=n,t.y=i,t.z=o,t.w=r,t},Qr.inverse=function(e,t){var r=Qr.magnitudeSquared(e);return t=Qr.conjugate(e,t),Qr.multiplyByScalar(t,1/r,t)},Qr.add=function(e,t,r){return r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r.w=e.w+t.w,r},Qr.subtract=function(e,t,r){return r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r.w=e.w-t.w,r},Qr.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},Qr.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},Qr.multiply=function(e,t,r){var n=e.x,i=e.y,o=e.z,a=e.w,s=t.x,u=t.y,c=t.z,l=t.w,f=a*u-n*c+i*l+o*s,e=a*c+n*u-i*s+o*l,t=a*l-n*s-i*u-o*c;return r.x=a*s+n*l+i*c-o*u,r.y=f,r.z=e,r.w=t,r},Qr.multiplyByScalar=function(e,t,r){return r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r.w=e.w*t,r},Qr.divideByScalar=function(e,t,r){return r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r.w=e.w/t,r},Qr.computeAxis=function(e,t){var r=e.w;if(Math.abs(r-1)<oe.EPSILON6)return t.x=t.y=t.z=0,t;r=1/Math.sqrt(1-r*r);return t.x=e.x*r,t.y=e.y*r,t.z=e.z*r,t},Qr.computeAngle=function(e){return Math.abs(e.w-1)<oe.EPSILON6?0:2*Math.acos(e.w)};var dn=new Qr;Qr.lerp=function(e,t,r,n){return dn=Qr.multiplyByScalar(t,r,dn),n=Qr.multiplyByScalar(e,1-r,n),Qr.add(dn,n,n)};var En=new Qr,pn=new Qr,_n=new Qr;Qr.slerp=function(e,t,r,n){var i=Qr.dot(e,t),o=t;if(i<0&&(i=-i,o=En=Qr.negate(t,En)),1-i<oe.EPSILON6)return Qr.lerp(e,o,r,n);i=Math.acos(i);return pn=Qr.multiplyByScalar(e,Math.sin((1-r)*i),pn),_n=Qr.multiplyByScalar(o,Math.sin(r*i),_n),n=Qr.add(pn,_n,n),Qr.multiplyByScalar(n,1/Math.sin(i),n)},Qr.log=function(e,t){var r=oe.acosClamped(e.w),n=0;return 0!==r&&(n=r/Math.sin(r)),se.multiplyByScalar(e,n,t)},Qr.exp=function(e,t){var r=se.magnitude(e),n=0;return 0!==r&&(n=Math.sin(r)/r),t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t.w=Math.cos(r),t};var yn=new se,Tn=new se,gn=new Qr,Rn=new Qr;Qr.computeInnerQuadrangle=function(e,t,r,n){var i=Qr.conjugate(t,gn);Qr.multiply(i,r,Rn);r=Qr.log(Rn,yn);Qr.multiply(i,e,Rn);e=Qr.log(Rn,Tn);return se.add(r,e,r),se.multiplyByScalar(r,.25,r),se.negate(r,r),Qr.exp(r,gn),Qr.multiply(t,gn,n)},Qr.squad=function(e,t,r,n,i,o){t=Qr.slerp(e,t,i,gn),n=Qr.slerp(r,n,i,Rn);return Qr.slerp(t,n,2*i*(1-i),o)};for(var An=new Qr,Zr=1.9011074535173003,Sn=Jr.supportsTypedArrays()?new Float32Array(8):[],On=Jr.supportsTypedArrays()?new Float32Array(8):[],In=Jr.supportsTypedArrays()?new Float32Array(8):[],Nn=Jr.supportsTypedArrays()?new Float32Array(8):[],Mn=0;Mn<7;++Mn){var xn=Mn+1,Cn=2*xn+1;Sn[Mn]=1/(xn*Cn),On[Mn]=xn/Cn}function wn(e,t,r){this.heading=C(e,0),this.pitch=C(t,0),this.roll=C(r,0)}function vn(e,t,r){for(var n,i,o=0,a=e.length-1;o<=a;)if((i=r(e[n=~~((o+a)/2)],t))<0)o=1+n;else{if(!(0<i))return n;a=n-1}return~(a+1)}function bn(){function T(e,t,r,n,i,o,a){var s=e>>>0;return e=(r=r&&s&&{2:"0b",8:"0",16:"0x"}[t]||"")+S(s.toString(t),o||0,"0",!1),O(e,r,n,i,a)}function g(e,t,r,n,i,o){return null!=n&&(e=e.slice(0,n)),O(e,"",t,r,i,o)}var R=arguments,A=0,e=R[A++],S=function(e,t,r,n){r=r||" ";r=e.length>=t?"":Array(1+t-e.length>>>0).join(r);return n?e+r:r+e},O=function(e,t,r,n,i,o){var a=n-e.length;return e=0<a?r||!i?S(e,n,o,r):e.slice(0,t.length)+S("",a,"0",!0)+e.slice(t.length):e};return e.replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,function(e,t,r,n,i,o,a){var s,u,c,l,f;if("%%"==e)return"%";for(var h=!1,m="",d=!1,E=!1,p=" ",_=r.length,y=0;r&&y<_;y++)switch(r.charAt(y)){case" ":m=" ";break;case"+":m="+";break;case"-":h=!0;break;case"'":p=r.charAt(y+1);break;case"0":d=!0;break;case"#":E=!0}switch((n=n?"*"==n?+R[A++]:"*"==n.charAt(0)?+R[n.slice(1,-1)]:+n:0)<0&&(n=-n,h=!0),o=o?"*"==o?+R[A++]:"*"==o.charAt(0)?+R[o.slice(1,-1)]:+o:-1<"fFeE".indexOf(a)?6:"d"==a?0:void 0,f=t?R[t.slice(0,-1)]:R[A++],a){case"s":return g(String(f),h,n,o,d,p);case"c":return g(String.fromCharCode(+f),h,n,o,d);case"b":return T(f,2,E,h,n,o,d);case"o":return T(f,8,E,h,n,o,d);case"x":return T(f,16,E,h,n,o,d);case"X":return T(f,16,E,h,n,o,d).toUpperCase();case"u":return T(f,10,E,h,n,o,d);case"i":case"d":return s=+f||0,f=(u=(s=Math.round(s-s%1))<0?"-":m)+S(String(Math.abs(s)),o,"0",!1),O(f,u,h,n,d);case"e":case"E":case"f":case"F":case"g":case"G":return u=(s=+f)<0?"-":m,c=["toExponential","toFixed","toPrecision"]["efg".indexOf(a.toLowerCase())],l=["toString","toUpperCase"]["eEfFgG".indexOf(a)%2],f=u+Math.abs(s)[c](o),O(f,u,h,n,d)[l]();default:return e}})}function Pn(e,t,r,n,i,o,a,s){this.year=e,this.month=t,this.day=r,this.hour=n,this.minute=i,this.second=o,this.millisecond=a,this.isLeapSecond=s}function Fn(e){return e%4==0&&e%100!=0||e%400==0}function Un(e,t){this.julianDate=e,this.offset=t}Sn[7]=Zr/136,On[7]=8*Zr/17,Qr.fastSlerp=function(e,t,r,n){var i,o=Qr.dot(e,t);0<=o?i=1:(i=-1,o=-o);for(var a=o-1,o=1-r,s=r*r,u=o*o,c=7;0<=c;--c)In[c]=(Sn[c]*s-On[c])*a,Nn[c]=(Sn[c]*u-On[c])*a;r=i*r*(1+In[0]*(1+In[1]*(1+In[2]*(1+In[3]*(1+In[4]*(1+In[5]*(1+In[6]*(1+In[7])))))))),o*=1+Nn[0]*(1+Nn[1]*(1+Nn[2]*(1+Nn[3]*(1+Nn[4]*(1+Nn[5]*(1+Nn[6]*(1+Nn[7]))))))),o=Qr.multiplyByScalar(e,o,An);return Qr.multiplyByScalar(t,r,n),Qr.add(o,n,n)},Qr.fastSquad=function(e,t,r,n,i,o){t=Qr.fastSlerp(e,t,i,gn),n=Qr.fastSlerp(r,n,i,Rn);return Qr.fastSlerp(t,n,2*i*(1-i),o)},Qr.equals=function(e,t){return e===t||ie(e)&&ie(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},Qr.equalsEpsilon=function(e,t,r){return r=C(r,0),e===t||ie(e)&&ie(t)&&Math.abs(e.x-t.x)<=r&&Math.abs(e.y-t.y)<=r&&Math.abs(e.z-t.z)<=r&&Math.abs(e.w-t.w)<=r},Qr.ZERO=Object.freeze(new Qr(0,0,0,0)),Qr.IDENTITY=Object.freeze(new Qr(0,0,0,1)),Qr.prototype.clone=function(e){return Qr.clone(this,e)},Qr.prototype.equals=function(e){return Qr.equals(this,e)},Qr.prototype.equalsEpsilon=function(e,t){return Qr.equalsEpsilon(this,e,t)},Qr.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},Qr.from_euler=function(e,t,r,n){var i=Math.cos(.5*t),o=Math.cos(.5*r),a=Math.cos(.5*e),s=Math.sin(.5*t),u=Math.sin(.5*r),c=Math.sin(.5*e),t=i*o*a-s*u*c,r=s*u*a+i*o*c,e=s*o*a+i*u*c,c=i*u*a-s*o*c;return ie(n)?(n.x=r,n.y=e,n.z=c,n.w=t,n):n=new Qr(r,e,c,t)},Qr.to_euler=function(e,t){ie(t)||(t=new se);var r=e.w,n=e.x,i=e.y,o=e.z,a=n*n,s=i*i,u=o*o,e=n*i+o*r;return.499<e?(t.x=0,t.y=2*Math.atan2(n,r),t.z=oe.PI_OVER_TWO):e<-.499?(t.x=0,t.y=2*-Math.atan2(n,r),t.z=-oe.PI_OVER_TWO):(t.y=Math.atan2(2*i*r-2*n*o,1-2*s-2*u),t.z=Math.asin(2*n*i+2*o*r),t.x=Math.atan2(2*n*r-2*i*o,1-2*a-2*u)),t},wn.fromQuaternion=function(e,t){ie(t)||(t=new wn);var r=2*(e.w*e.y-e.z*e.x),n=1-2*(e.x*e.x+e.y*e.y),i=2*(e.w*e.x+e.y*e.z),o=1-2*(e.y*e.y+e.z*e.z),e=2*(e.w*e.z+e.x*e.y);return t.heading=-Math.atan2(e,o),t.roll=Math.atan2(i,n),t.pitch=-oe.asinClamped(r),t},wn.fromDegrees=function(e,t,r,n){return(n=!ie(n)?new wn:n).heading=e*oe.RADIANS_PER_DEGREE,n.pitch=t*oe.RADIANS_PER_DEGREE,n.roll=r*oe.RADIANS_PER_DEGREE,n},wn.clone=function(e,t){if(ie(e))return ie(t)?(t.heading=e.heading,t.pitch=e.pitch,t.roll=e.roll,t):new wn(e.heading,e.pitch,e.roll)},wn.equals=function(e,t){return e===t||ie(e)&&ie(t)&&e.heading===t.heading&&e.pitch===t.pitch&&e.roll===t.roll},wn.equalsEpsilon=function(e,t,r,n){return e===t||ie(e)&&ie(t)&&oe.equalsEpsilon(e.heading,t.heading,r,n)&&oe.equalsEpsilon(e.pitch,t.pitch,r,n)&&oe.equalsEpsilon(e.roll,t.roll,r,n)},wn.prototype.clone=function(e){return wn.clone(this,e)},wn.prototype.equals=function(e){return wn.equals(this,e)},wn.prototype.equalsEpsilon=function(e,t,r){return wn.equalsEpsilon(this,e,t,r)},wn.prototype.toString=function(){return"("+this.heading+", "+this.pitch+", "+this.roll+")"};var Dn=Object.freeze({SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5}),zn=Object.freeze({UTC:0,TAI:1}),Ln=new Pn,Bn=[31,28,31,30,31,30,31,31,30,31,30,31];function qn(e,t){return ei.compare(e.julianDate,t.julianDate)}var Gn=new Un;function jn(e){Gn.julianDate=e;var t=ei.leapSeconds,r=vn(t,Gn,qn),n=t[r=(r=r<0?~r:r)>=t.length?t.length-1:r].offset;0<r&&n<ei.secondsDifference(t[r].julianDate,e)&&(n=t[--r].offset),ei.addSeconds(e,n,e)}function Wn(e,t){Gn.julianDate=e;var r=ei.leapSeconds,n=vn(r,Gn,qn);if(0===(n=n<0?~n:n))return ei.addSeconds(e,-r[0].offset,t);if(n>=r.length)return ei.addSeconds(e,-r[n-1].offset,t);var i=ei.secondsDifference(r[n].julianDate,e);return 0===i?ei.addSeconds(e,-r[n].offset,t):i<=1?void 0:ei.addSeconds(e,-r[--n].offset,t)}function Hn(e,t,r){var n=t/Dn.SECONDS_PER_DAY|0;return e+=n,(t-=Dn.SECONDS_PER_DAY*n)<0&&(e--,t+=Dn.SECONDS_PER_DAY),r.dayNumber=e,r.secondsOfDay=t,r}function Vn(e,t,r,n,i,o,a){var s=(t-14)/12|0,e=e+4800+s,r=(1461*e/4|0)+(367*(t-2-12*s)/12|0)-(3*((e+100)/100|0)/4|0)+r-32075;(n-=12)<0&&(n+=24);a=o+(n*Dn.SECONDS_PER_HOUR+i*Dn.SECONDS_PER_MINUTE+a*Dn.SECONDS_PER_MILLISECOND);return 43200<=a&&--r,[r,a]}var Xn=/^(\d{4})$/,Yn=/^(\d{4})-(\d{2})$/,kn=/^(\d{4})-?(\d{3})$/,Kn=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,Zn=/^(\d{4})-?(\d{2})-?(\d{2})$/,Zr=/([Z+\-])?(\d{2})?:?(\d{2})?$/,Jn=/^(\d{2})(\.\d+)?/.source+Zr.source,Qn=/^(\d{2}):?(\d{2})(\.\d+)?/.source+Zr.source,$n=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+Zr.source;function ei(e,t,r){this.dayNumber=void 0,this.secondsOfDay=void 0,e=C(e,0),t=C(t,0),r=C(r,zn.UTC);var n=0|e;Hn(n,t+=(e-n)*Dn.SECONDS_PER_DAY,this),r===zn.UTC&&jn(this)}ei.fromGregorianDate=function(e,t){e=Vn(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond);return ie(t)?(Hn(e[0],e[1],t),jn(t),t):new ei(e[0],e[1],zn.UTC)},ei.fromDate=function(e,t){e=Vn(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());return ie(t)?(Hn(e[0],e[1],t),jn(t),t):new ei(e[0],e[1],zn.UTC)},ei.fromIso8601=function(e,t){var r,n,i,o,a,s=(e=e.replace(",",".")).split("T"),u=1,c=1,l=0,f=0,h=0,m=0,d=s[0],e=s[1];if(null!==(s=d.match(Zn))?(i=+s[1],u=+s[2],c=+s[3]):null!==(s=d.match(Yn))?(i=+s[1],u=+s[2]):null!==(s=d.match(Xn))?i=+s[1]:(null!==(s=d.match(kn))?(i=+s[1],o=+s[2],n=Fn(i)):null!==(s=d.match(Kn))&&(i=+s[1],o=7*+s[2]+(+s[3]||0)-new Date(Date.UTC(i,0,4)).getUTCDay()-3),(r=new Date(Date.UTC(i,0,1))).setUTCDate(o),u=r.getUTCMonth()+1,c=r.getUTCDate()),n=Fn(i),ie(e)){null!==(s=e.match($n))?(l=+s[1],f=+s[2],h=+s[3],m=1e3*+(s[4]||0),a=5):null!==(s=e.match(Qn))?(l=+s[1],f=+s[2],h=60*+(s[3]||0),a=4):null!==(s=e.match(Jn))&&(l=+s[1],f=60*+(s[2]||0),a=3);var E=s[a],p=+s[a+1],_=+(s[a+2]||0);switch(E){case"+":l-=p,f-=_;break;case"-":l+=p,f+=_;break;case"Z":break;default:f+=new Date(Date.UTC(i,u-1,c,l,f)).getTimezoneOffset()}}E=60===h;for(E&&h--;60<=f;)f-=60,l++;for(;24<=l;)l-=24,c++;for(r=n&&2===u?29:Bn[u-1];r<c;)c-=r,12<++u&&(u-=12,i++),r=n&&2===u?29:Bn[u-1];for(;f<0;)f+=60,l--;for(;l<0;)l+=24,c--;for(;c<1;)--u<1&&(u+=12,i--),c+=r=n&&2===u?29:Bn[u-1];m=Vn(i,u,c,l,f,h,m);return ie(t)?(Hn(m[0],m[1],t),jn(t)):t=new ei(m[0],m[1],zn.UTC),E&&ei.addSeconds(t,1,t),t},ei.now=function(e){return ei.fromDate(new Date,e)};var ti=new ei(0,0,zn.TAI);function ri(e,t){if(null===e||"object"!=typeof e)return e;t=C(t,!1);var r,n,i=new e.constructor;for(r in e)e.hasOwnProperty(r)&&(n=e[r],t&&(n=ri(n,t)),i[r]=n);return i}function ni(e,t,r){r=C(r,!1);var n,i,o,a={},s=ie(e),u=ie(t);if(s)for(n in e)e.hasOwnProperty(n)&&(i=e[n],u&&r&&"object"==typeof i&&t.hasOwnProperty(n)?(o=t[n],a[n]="object"==typeof o?ni(i,o,r):i):a[n]=i);if(u)for(n in t)t.hasOwnProperty(n)&&!a.hasOwnProperty(n)&&(o=t[n],a[n]=o);return a}function ii(e){e instanceof ii?(this.scheme=e.scheme,this.authority=e.authority,this.path=e.path,this.query=e.query,this.fragment=e.fragment):e&&(0<e.indexOf("/sde?/")&&(e=e.replace("/sde?/","/sde/")),e=oi.exec(e),this.scheme=e[1],this.authority=e[2],this.path=e[3],this.query=e[4],this.fragment=e[5],-1<this.path.indexOf("/sde/")&&(this.path=this.path.replace("/sde/","/sde?/")))}ei.toGregorianDate=function(e,t){var r=!1,n=Wn(e,ti);ie(n)||(ei.addSeconds(e,-1,ti),n=Wn(ti,ti),r=!0);var i=n.dayNumber,o=n.secondsOfDay;43200<=o&&(i+=1);var a=i+68569|0,s=4*a/146097|0,u=4e3*(1+(a=a-((146097*s+3)/4|0)|0))/1461001|0,e=80*(a=a-(1461*u/4|0)+31|0)/2447|0,n=a-(2447*e/80|0)|0,i=2+e-12*(a=e/11|0)|0,e=100*(s-49)+u+a|0,s=o/Dn.SECONDS_PER_HOUR|0,u=o-s*Dn.SECONDS_PER_HOUR,a=u/Dn.SECONDS_PER_MINUTE|0,o=0|(u-=a*Dn.SECONDS_PER_MINUTE),u=(u-o)/Dn.SECONDS_PER_MILLISECOND;return 23<(s+=12)&&(s-=24),r&&(o+=1),ie(t)?(t.year=e,t.month=i,t.day=n,t.hour=s,t.minute=a,t.second=o,t.millisecond=u,t.isLeapSecond=r,t):new Pn(e,i,n,s,a,o,u,r)},ei.toDate=function(e){var t=ei.toGregorianDate(e,Ln),e=t.second;return t.isLeapSecond&&--e,new Date(Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,e,t.millisecond))},ei.toIso8601=function(e,t){var r=ei.toGregorianDate(e,Ln),n=r.year,i=r.month,o=r.day,a=r.hour,s=r.minute,e=r.second,r=r.millisecond;return 1e4===n&&1===i&&1===o&&0===a&&0===s&&0===e&&0===r&&(n=9999,i=12,o=31,a=24),ie(t)||0===r?ie(t)&&0!==t?bn("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",n,i,o,a,s,e,(.01*r).toFixed(t).replace(".","").slice(0,t)):bn("%04d-%02d-%02dT%02d:%02d:%02dZ",n,i,o,a,s,e):bn("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",n,i,o,a,s,e,(.01*r).toString().replace(".",""))},ei.clone=function(e,t){if(ie(e))return ie(t)?(t.dayNumber=e.dayNumber,t.secondsOfDay=e.secondsOfDay,t):new ei(e.dayNumber,e.secondsOfDay,zn.TAI)},ei.compare=function(e,t){var r=e.dayNumber-t.dayNumber;return 0!=r?r:e.secondsOfDay-t.secondsOfDay},ei.equals=function(e,t){return e===t||ie(e)&&ie(t)&&e.dayNumber===t.dayNumber&&e.secondsOfDay===t.secondsOfDay},ei.equalsEpsilon=function(e,t,r){return r=C(r,0),e===t||ie(e)&&ie(t)&&Math.abs(ei.secondsDifference(e,t))<=r},ei.totalDays=function(e){return e.dayNumber+e.secondsOfDay/Dn.SECONDS_PER_DAY},ei.secondsDifference=function(e,t){return(e.dayNumber-t.dayNumber)*Dn.SECONDS_PER_DAY+(e.secondsOfDay-t.secondsOfDay)},ei.daysDifference=function(e,t){return e.dayNumber-t.dayNumber+(e.secondsOfDay-t.secondsOfDay)/Dn.SECONDS_PER_DAY},ei.computeTaiMinusUtc=function(e){Gn.julianDate=e;var t=ei.leapSeconds,e=vn(t,Gn,qn);return e<0&&(e=~e,--e<0&&(e=0)),t[e].offset},ei.addSeconds=function(e,t,r){return Hn(e.dayNumber,e.secondsOfDay+t,r)},ei.addMinutes=function(e,t,r){t=e.secondsOfDay+t*Dn.SECONDS_PER_MINUTE;return Hn(e.dayNumber,t,r)},ei.addHours=function(e,t,r){t=e.secondsOfDay+t*Dn.SECONDS_PER_HOUR;return Hn(e.dayNumber,t,r)},ei.addDays=function(e,t,r){return Hn(e.dayNumber+t,e.secondsOfDay,r)},ei.lessThan=function(e,t){return ei.compare(e,t)<0},ei.lessThanOrEquals=function(e,t){return ei.compare(e,t)<=0},ei.greaterThan=function(e,t){return 0<ei.compare(e,t)},ei.greaterThanOrEquals=function(e,t){return 0<=ei.compare(e,t)},ei.prototype.clone=function(e){return ei.clone(this,e)},ei.prototype.equals=function(e){return ei.equals(this,e)},ei.prototype.equalsEpsilon=function(e,t){return ei.equalsEpsilon(this,e,t)},ei.prototype.toString=function(){return ei.toIso8601(this)},ei.leapSeconds=[new Un(new ei(2441317,43210,zn.TAI),10),new Un(new ei(2441499,43211,zn.TAI),11),new Un(new ei(2441683,43212,zn.TAI),12),new Un(new ei(2442048,43213,zn.TAI),13),new Un(new ei(2442413,43214,zn.TAI),14),new Un(new ei(2442778,43215,zn.TAI),15),new Un(new ei(2443144,43216,zn.TAI),16),new Un(new ei(2443509,43217,zn.TAI),17),new Un(new ei(2443874,43218,zn.TAI),18),new Un(new ei(2444239,43219,zn.TAI),19),new Un(new ei(2444786,43220,zn.TAI),20),new Un(new ei(2445151,43221,zn.TAI),21),new Un(new ei(2445516,43222,zn.TAI),22),new Un(new ei(2446247,43223,zn.TAI),23),new Un(new ei(2447161,43224,zn.TAI),24),new Un(new ei(2447892,43225,zn.TAI),25),new Un(new ei(2448257,43226,zn.TAI),26),new Un(new ei(2448804,43227,zn.TAI),27),new Un(new ei(2449169,43228,zn.TAI),28),new Un(new ei(2449534,43229,zn.TAI),29),new Un(new ei(2450083,43230,zn.TAI),30),new Un(new ei(2450630,43231,zn.TAI),31),new Un(new ei(2451179,43232,zn.TAI),32),new Un(new ei(2453736,43233,zn.TAI),33),new Un(new ei(2454832,43234,zn.TAI),34),new Un(new ei(2456109,43235,zn.TAI),35),new Un(new ei(2457204,43236,zn.TAI),36),new Un(new ei(2457754,43237,zn.TAI),37)],ii.prototype.scheme=null,ii.prototype.authority=null,ii.prototype.path="",ii.prototype.query=null,ii.prototype.fragment=null;var oi=new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$");ii.prototype.getScheme=function(){return this.scheme},ii.prototype.getAuthority=function(){return this.authority},ii.prototype.getPath=function(){return this.path},ii.prototype.getQuery=function(){return this.query},ii.prototype.getFragment=function(){return this.fragment},ii.prototype.isAbsolute=function(){return!!this.scheme&&!this.fragment},ii.prototype.isSameDocumentAs=function(e){return e.scheme==this.scheme&&e.authority==this.authority&&e.path==this.path&&e.query==this.query},ii.prototype.equals=function(e){return this.isSameDocumentAs(e)&&e.fragment==this.fragment},ii.prototype.normalize=function(){this.removeDotSegments(),this.scheme&&(this.scheme=this.scheme.toLowerCase()),this.authority&&(this.authority=this.authority.replace(ui,li).replace(ai,ci)),this.path&&(this.path=this.path.replace(ai,ci)),this.query&&(this.query=this.query.replace(ai,ci)),this.fragment&&(this.fragment=this.fragment.replace(ai,ci))};var ai=/%[0-9a-z]{2}/gi,si=/[a-zA-Z0-9\-\._~]/,ui=/(.*@)?([^@:]*)(:.*)?/;function ci(e){var t=unescape(e);return si.test(t)?t:e.toUpperCase()}function li(e,t,r,n){return(t||"")+r.toLowerCase()+(n||"")}function fi(e,t){var r;return"undefined"!=typeof document&&(r=document),fi._implementation(e,t,r)}ii.prototype.resolve=function(e){var t=new ii;return this.scheme?(t.scheme=this.scheme,t.authority=this.authority,t.path=this.path,t.query=this.query):(t.scheme=e.scheme,this.authority?(t.authority=this.authority,t.path=this.path,t.query=this.query):(t.authority=e.authority,""==this.path?(t.path=e.path,t.query=this.query||e.query):("/"==this.path.charAt(0)?t.path=this.path:e.authority&&""==e.path?t.path="/"+this.path:t.path=e.path.substring(0,e.path.lastIndexOf("/")+1)+this.path,t.removeDotSegments(),t.query=this.query))),t.fragment=this.fragment,t},ii.prototype.removeDotSegments=function(){var e,t=this.path.split("/"),r=[],n=""==t[0];for(n&&t.shift(),""==t[0]&&t.shift();t.length;)".."==(e=t.shift())?r.pop():"."!=e&&r.push(e);"."!=e&&".."!=e||r.push(""),n&&r.unshift(""),this.path=r.join("/")},ii.prototype.toString=function(){var e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+this.authority),e+=this.path,this.query&&(e+="?"+this.query),this.fragment&&(e+="#"+this.fragment),e},fi._implementation=function(e,t,r){if(!ie(t)){if(void 0===r)return e;t=C(r.baseURI,r.location.href)}t=new ii(t);return new ii(e).resolve(t).toString()};var hi,mi=/^blob:/i;function di(e){return mi.test(e)}var Ei=/^data:/i;function pi(e){return Ei.test(e)}var _i,yi,Ti={},gi={};function Ri(e,t,r){return r<0&&(r+=1),1<r&&--r,6*r<1?e+6*(t-e)*r:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function Ai(e,t,r,n){this.red=C(e,1),this.green=C(t,1),this.blue=C(r,1),this.alpha=C(n,1)}Ti.add=function(e,t){t=e.toLowerCase()+":"+t;ie(gi[t])||(gi[t]=!0)},Ti.remove=function(e,t){t=e.toLowerCase()+":"+t;ie(gi[t])&&delete gi[t]},Ti.contains=function(e){e=function(e){var t=new ii(e);if(t.normalize(),ie(e=t.getAuthority())){if(-1===(e=-1!==e.indexOf("@")?e.split("@")[1]:e).indexOf(":")){t=t.getScheme();if("http"===(t=!ie(t)?(t=window.location.protocol).substring(0,t.length-1):t))e+=":80";else{if("https"!==t)return;e+=":443"}}return e}}(e);return!(!ie(e)||!ie(gi[e]))},Ti.clear=function(){gi={}},Ai.fromCartesian4=function(e,t){return ie(t)?(t.red=e.x,t.green=e.y,t.blue=e.z,t.alpha=e.w,t):new Ai(e.x,e.y,e.z,e.w)},Ai.fromBytes=function(e,t,r,n,i){return e=Ai.byteToFloat(C(e,255)),t=Ai.byteToFloat(C(t,255)),r=Ai.byteToFloat(C(r,255)),n=Ai.byteToFloat(C(n,255)),ie(i)?(i.red=e,i.green=t,i.blue=r,i.alpha=n,i):new Ai(e,t,r,n)},Ai.fromAlpha=function(e,t,r){return ie(r)?(r.red=e.red,r.green=e.green,r.blue=e.blue,r.alpha=t,r):new Ai(e.red,e.green,e.blue,t)},Jr.supportsTypedArrays()&&(Zr=new ArrayBuffer(4),_i=new Uint32Array(Zr),yi=new Uint8Array(Zr)),Ai.fromRgba=function(e,t){return _i[0]=e,Ai.fromBytes(yi[0],yi[1],yi[2],yi[3],t)},Ai.fromArgb=function(e,t){return _i[0]=e,Ai.fromBytes(yi[2],yi[1],yi[0],yi[3],t)},Ai.fromMapserver=function(e,t){return _i[0]=e,Ai.fromBytes(yi[3],yi[2],yi[1],yi[0],t)},Ai.fromHsl=function(e,t,r,n,i){e=C(e,0)%1,t=C(t,0),r=C(r,0),n=C(n,1);var o=r,a=r,s=r;return 0!==t&&(o=Ri(t=2*r-(r=r<.5?r*(1+t):r+t-r*t),r,e+1/3),a=Ri(t,r,e),s=Ri(t,r,e-1/3)),ie(i)?(i.red=o,i.green=a,i.blue=s,i.alpha=n,i):new Ai(o,a,s,n)},Ai.fromRandom=function(e,t){var r=(e=C(e,C.EMPTY_OBJECT)).red;ie(r)||(n=C(e.minimumRed,0),i=C(e.maximumRed,1),r=n+oe.nextRandomNumber()*(i-n));var n,i=e.green;ie(i)||(o=C(e.minimumGreen,0),n=C(e.maximumGreen,1),i=o+oe.nextRandomNumber()*(n-o));var o=e.blue;ie(o)||(a=C(e.minimumBlue,0),s=C(e.maximumBlue,1),o=a+oe.nextRandomNumber()*(s-a));var a,s=e.alpha;return ie(s)||(a=C(e.minimumAlpha,0),e=C(e.maximumAlpha,1),s=a+oe.nextRandomNumber()*(e-a)),ie(t)?(t.red=r,t.green=i,t.blue=o,t.alpha=s,t):new Ai(r,i,o,s)};var Si=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,Oi=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,Ii=/^rgba?\(\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)(?:\s*,\s*([0-9.]+))?\s*\)$/i,Ni=/^hsla?\(\s*([0-9.]+)\s*,\s*([0-9.]+%)\s*,\s*([0-9.]+%)(?:\s*,\s*([0-9.]+))?\s*\)$/i;Ai.fromCssColorString=function(e,t){ie(t)||(t=new Ai);var r=Ai[(e=e.replace(/\s/g,"")).toUpperCase()];if(ie(r))return Ai.clone(r,t),t;r=Si.exec(e);return null!==r?(t.red=parseInt(r[1],16)/15,t.green=parseInt(r[2],16)/15,t.blue=parseInt(r[3],16)/15,t.alpha=parseInt(C(r[4],"f"),16)/15,t):null!==(r=Oi.exec(e))?(t.red=parseInt(r[1],16)/255,t.green=parseInt(r[2],16)/255,t.blue=parseInt(r[3],16)/255,t.alpha=parseInt(C(r[4],"ff"),16)/255,t):null!==(r=Ii.exec(e))?(t.red=parseFloat(r[1])/("%"===r[1].substr(-1)?100:255),t.green=parseFloat(r[2])/("%"===r[2].substr(-1)?100:255),t.blue=parseFloat(r[3])/("%"===r[3].substr(-1)?100:255),t.alpha=parseFloat(C(r[4],"1.0")),t):null!==(r=Ni.exec(e))?Ai.fromHsl(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,parseFloat(C(r[4],"1.0")),t):t=void 0},Ai.packedLength=4,Ai.pack=function(e,t,r){return r=C(r,0),t[r++]=e.red,t[r++]=e.green,t[r++]=e.blue,t[r]=e.alpha,t},Ai.unpack=function(e,t,r){return t=C(t,0),(r=!ie(r)?new Ai:r).red=e[t++],r.green=e[t++],r.blue=e[t++],r.alpha=e[t],r},Ai.byteToFloat=function(e){return e/255},Ai.floatToByte=function(e){return 1===e?255:256*e|0},Ai.clone=function(e,t){if(ie(e))return ie(t)?(t.red=e.red,t.green=e.green,t.blue=e.blue,t.alpha=e.alpha,t):new Ai(e.red,e.green,e.blue,e.alpha)},Ai.equals=function(e,t){return e===t||ie(e)&&ie(t)&&e.red===t.red&&e.green===t.green&&e.blue===t.blue&&e.alpha===t.alpha},Ai.equalsArray=function(e,t,r){return e.red===t[r]&&e.green===t[r+1]&&e.blue===t[r+2]&&e.alpha===t[r+3]},Ai.prototype.clone=function(e){return Ai.clone(this,e)},Ai.prototype.equals=function(e){return Ai.equals(this,e)},Ai.prototype.equalsEpsilon=function(e,t){return this===e||ie(e)&&Math.abs(this.red-e.red)<=t&&Math.abs(this.green-e.green)<=t&&Math.abs(this.blue-e.blue)<=t&&Math.abs(this.alpha-e.alpha)<=t},Ai.prototype.toString=function(){return"("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},Ai.prototype.toUint16=function(){var e=[];return this.toBytes(e),"0x"+e[3].toString(16)+(e[0]<16?"0":"")+e[0].toString(16)+(e[1]<16?"0":"")+e[1].toString(16)+(e[2]<16?"0":"")+e[2].toString(16)},Ai.prototype.toUint16MapServerString=function(){var e=[];return this.toBytes(e),'"#'+(e[0]<16?"0":"")+e[0].toString(16)+(e[1]<16?"0":"")+e[1].toString(16)+(e[2]<16?"0":"")+e[2].toString(16)+(e[3]<16?"0":"")+e[3].toString(16)+'"'},Ai.prototype.toCssColorString=function(){var e=Ai.floatToByte(this.red),t=Ai.floatToByte(this.green),r=Ai.floatToByte(this.blue);return 1===this.alpha?"rgb("+e+","+t+","+r+")":"rgba("+e+","+t+","+r+","+this.alpha+")"},Ai.prototype.toCssHexString=function(){var e=Ai.floatToByte(this.red).toString(16);e.length<2&&(e="0"+e);var t=Ai.floatToByte(this.green).toString(16);t.length<2&&(t="0"+t);var r=Ai.floatToByte(this.blue).toString(16);if(r.length<2&&(r="0"+r),this.alpha<1){var n=Ai.floatToByte(this.alpha).toString(16);return"#"+e+t+r+(n=n.length<2?"0"+n:n)}return"#"+e+t+r},Ai.prototype.toBytes=function(e){var t=Ai.floatToByte(this.red),r=Ai.floatToByte(this.green),n=Ai.floatToByte(this.blue),i=Ai.floatToByte(this.alpha);return ie(e)?(e[0]=t,e[1]=r,e[2]=n,e[3]=i,e):[t,r,n,i]},Ai.prototype.toRgba=function(){return yi[0]=Ai.floatToByte(this.red),yi[1]=Ai.floatToByte(this.green),yi[2]=Ai.floatToByte(this.blue),yi[3]=Ai.floatToByte(this.alpha),_i[0]},Ai.prototype.toArgb=function(){return yi[3]=Ai.floatToByte(this.alpha),yi[2]=Ai.floatToByte(this.red),yi[1]=Ai.floatToByte(this.green),yi[0]=Ai.floatToByte(this.blue),_i[0]},Ai.prototype.brighten=function(e,t){return t.red=1-(1-this.red)*(e=1-e),t.green=1-(1-this.green)*e,t.blue=1-(1-this.blue)*e,t.alpha=this.alpha,t},Ai.prototype.darken=function(e,t){return t.red=this.red*(e=1-e),t.green=this.green*e,t.blue=this.blue*e,t.alpha=this.alpha,t},Ai.prototype.withAlpha=function(e,t){return Ai.fromAlpha(this,e,t)},Ai.add=function(e,t,r){return r.red=e.red+t.red,r.green=e.green+t.green,r.blue=e.blue+t.blue,r.alpha=e.alpha+t.alpha,r},Ai.subtract=function(e,t,r){return r.red=e.red-t.red,r.green=e.green-t.green,r.blue=e.blue-t.blue,r.alpha=e.alpha-t.alpha,r},Ai.multiply=function(e,t,r){return r.red=e.red*t.red,r.green=e.green*t.green,r.blue=e.blue*t.blue,r.alpha=e.alpha*t.alpha,r},Ai.divide=function(e,t,r){return r.red=e.red/t.red,r.green=e.green/t.green,r.blue=e.blue/t.blue,r.alpha=e.alpha/t.alpha,r},Ai.mod=function(e,t,r){return r.red=e.red%t.red,r.green=e.green%t.green,r.blue=e.blue%t.blue,r.alpha=e.alpha%t.alpha,r},Ai.lerp=function(e,t,r,n){return n.red=oe.lerp(e.red,t.red,r),n.green=oe.lerp(e.green,t.green,r),n.blue=oe.lerp(e.blue,t.blue,r),n.alpha=oe.lerp(e.alpha,t.alpha,r),n},Ai.multiplyByScalar=function(e,t,r){return r.red=e.red*t,r.green=e.green*t,r.blue=e.blue*t,r.alpha=e.alpha*t,r},Ai.divideByScalar=function(e,t,r){return r.red=e.red/t,r.green=e.green/t,r.blue=e.blue/t,r.alpha=e.alpha/t,r},Ai.ALICEBLUE=Object.freeze(Ai.fromCssColorString("#F0F8FF")),Ai.ANTIQUEWHITE=Object.freeze(Ai.fromCssColorString("#FAEBD7")),Ai.AQUA=Object.freeze(Ai.fromCssColorString("#00FFFF")),Ai.AQUAMARINE=Object.freeze(Ai.fromCssColorString("#7FFFD4")),Ai.AZURE=Object.freeze(Ai.fromCssColorString("#F0FFFF")),Ai.BEIGE=Object.freeze(Ai.fromCssColorString("#F5F5DC")),Ai.BISQUE=Object.freeze(Ai.fromCssColorString("#FFE4C4")),Ai.BLACK=Object.freeze(Ai.fromCssColorString("#000000")),Ai.BLANCHEDALMOND=Object.freeze(Ai.fromCssColorString("#FFEBCD")),Ai.BLUE=Object.freeze(Ai.fromCssColorString("#0000FF")),Ai.BLUEVIOLET=Object.freeze(Ai.fromCssColorString("#8A2BE2")),Ai.BROWN=Object.freeze(Ai.fromCssColorString("#A52A2A")),Ai.BURLYWOOD=Object.freeze(Ai.fromCssColorString("#DEB887")),Ai.CADETBLUE=Object.freeze(Ai.fromCssColorString("#5F9EA0")),Ai.CHARTREUSE=Object.freeze(Ai.fromCssColorString("#7FFF00")),Ai.CHOCOLATE=Object.freeze(Ai.fromCssColorString("#D2691E")),Ai.CORAL=Object.freeze(Ai.fromCssColorString("#FF7F50")),Ai.CORNFLOWERBLUE=Object.freeze(Ai.fromCssColorString("#6495ED")),Ai.CORNSILK=Object.freeze(Ai.fromCssColorString("#FFF8DC")),Ai.CRIMSON=Object.freeze(Ai.fromCssColorString("#DC143C")),Ai.CYAN=Object.freeze(Ai.fromCssColorString("#00FFFF")),Ai.DARKBLUE=Object.freeze(Ai.fromCssColorString("#00008B")),Ai.DARKCYAN=Object.freeze(Ai.fromCssColorString("#008B8B")),Ai.DARKGOLDENROD=Object.freeze(Ai.fromCssColorString("#B8860B")),Ai.DARKGRAY=Object.freeze(Ai.fromCssColorString("#A9A9A9")),Ai.DARKGREEN=Object.freeze(Ai.fromCssColorString("#006400")),Ai.DARKGREY=Ai.DARKGRAY,Ai.DARKKHAKI=Object.freeze(Ai.fromCssColorString("#BDB76B")),Ai.DARKMAGENTA=Object.freeze(Ai.fromCssColorString("#8B008B")),Ai.DARKOLIVEGREEN=Object.freeze(Ai.fromCssColorString("#556B2F")),Ai.DARKORANGE=Object.freeze(Ai.fromCssColorString("#FF8C00")),Ai.DARKORCHID=Object.freeze(Ai.fromCssColorString("#9932CC")),Ai.DARKRED=Object.freeze(Ai.fromCssColorString("#8B0000")),Ai.DARKSALMON=Object.freeze(Ai.fromCssColorString("#E9967A")),Ai.DARKSEAGREEN=Object.freeze(Ai.fromCssColorString("#8FBC8F")),Ai.DARKSLATEBLUE=Object.freeze(Ai.fromCssColorString("#483D8B")),Ai.DARKSLATEGRAY=Object.freeze(Ai.fromCssColorString("#2F4F4F")),Ai.DARKSLATEGREY=Ai.DARKSLATEGRAY,Ai.DARKTURQUOISE=Object.freeze(Ai.fromCssColorString("#00CED1")),Ai.DARKVIOLET=Object.freeze(Ai.fromCssColorString("#9400D3")),Ai.DEEPPINK=Object.freeze(Ai.fromCssColorString("#FF1493")),Ai.DEEPSKYBLUE=Object.freeze(Ai.fromCssColorString("#00BFFF")),Ai.DIMGRAY=Object.freeze(Ai.fromCssColorString("#696969")),Ai.DIMGREY=Ai.DIMGRAY,Ai.DODGERBLUE=Object.freeze(Ai.fromCssColorString("#1E90FF")),Ai.FIREBRICK=Object.freeze(Ai.fromCssColorString("#B22222")),Ai.FLORALWHITE=Object.freeze(Ai.fromCssColorString("#FFFAF0")),Ai.FORESTGREEN=Object.freeze(Ai.fromCssColorString("#228B22")),Ai.FUCHSIA=Object.freeze(Ai.fromCssColorString("#FF00FF")),Ai.GAINSBORO=Object.freeze(Ai.fromCssColorString("#DCDCDC")),Ai.GHOSTWHITE=Object.freeze(Ai.fromCssColorString("#F8F8FF")),Ai.GOLD=Object.freeze(Ai.fromCssColorString("#FFD700")),Ai.GOLDENROD=Object.freeze(Ai.fromCssColorString("#DAA520")),Ai.GRAY=Object.freeze(Ai.fromCssColorString("#808080")),Ai.GREEN=Object.freeze(Ai.fromCssColorString("#008000")),Ai.GREENYELLOW=Object.freeze(Ai.fromCssColorString("#ADFF2F")),Ai.GREY=Ai.GRAY,Ai.HONEYDEW=Object.freeze(Ai.fromCssColorString("#F0FFF0")),Ai.HOTPINK=Object.freeze(Ai.fromCssColorString("#FF69B4")),Ai.INDIANRED=Object.freeze(Ai.fromCssColorString("#CD5C5C")),Ai.INDIGO=Object.freeze(Ai.fromCssColorString("#4B0082")),Ai.IVORY=Object.freeze(Ai.fromCssColorString("#FFFFF0")),Ai.KHAKI=Object.freeze(Ai.fromCssColorString("#F0E68C")),Ai.LAVENDER=Object.freeze(Ai.fromCssColorString("#E6E6FA")),Ai.LAVENDAR_BLUSH=Object.freeze(Ai.fromCssColorString("#FFF0F5")),Ai.LAWNGREEN=Object.freeze(Ai.fromCssColorString("#7CFC00")),Ai.LEMONCHIFFON=Object.freeze(Ai.fromCssColorString("#FFFACD")),Ai.LIGHTBLUE=Object.freeze(Ai.fromCssColorString("#ADD8E6")),Ai.LIGHTCORAL=Object.freeze(Ai.fromCssColorString("#F08080")),Ai.LIGHTCYAN=Object.freeze(Ai.fromCssColorString("#E0FFFF")),Ai.LIGHTGOLDENRODYELLOW=Object.freeze(Ai.fromCssColorString("#FAFAD2")),Ai.LIGHTGRAY=Object.freeze(Ai.fromCssColorString("#D3D3D3")),Ai.LIGHTGREEN=Object.freeze(Ai.fromCssColorString("#90EE90")),Ai.LIGHTGREY=Ai.LIGHTGRAY,Ai.LIGHTPINK=Object.freeze(Ai.fromCssColorString("#FFB6C1")),Ai.LIGHTSEAGREEN=Object.freeze(Ai.fromCssColorString("#20B2AA")),Ai.LIGHTSKYBLUE=Object.freeze(Ai.fromCssColorString("#87CEFA")),Ai.LIGHTSLATEGRAY=Object.freeze(Ai.fromCssColorString("#778899")),Ai.LIGHTSLATEGREY=Ai.LIGHTSLATEGRAY,Ai.LIGHTSTEELBLUE=Object.freeze(Ai.fromCssColorString("#B0C4DE")),Ai.LIGHTYELLOW=Object.freeze(Ai.fromCssColorString("#FFFFE0")),Ai.LIME=Object.freeze(Ai.fromCssColorString("#00FF00")),Ai.LIMEGREEN=Object.freeze(Ai.fromCssColorString("#32CD32")),Ai.LINEN=Object.freeze(Ai.fromCssColorString("#FAF0E6")),Ai.MAGENTA=Object.freeze(Ai.fromCssColorString("#FF00FF")),Ai.MAROON=Object.freeze(Ai.fromCssColorString("#800000")),Ai.MEDIUMAQUAMARINE=Object.freeze(Ai.fromCssColorString("#66CDAA")),Ai.MEDIUMBLUE=Object.freeze(Ai.fromCssColorString("#0000CD")),Ai.MEDIUMORCHID=Object.freeze(Ai.fromCssColorString("#BA55D3")),Ai.MEDIUMPURPLE=Object.freeze(Ai.fromCssColorString("#9370DB")),Ai.MEDIUMSEAGREEN=Object.freeze(Ai.fromCssColorString("#3CB371")),Ai.MEDIUMSLATEBLUE=Object.freeze(Ai.fromCssColorString("#7B68EE")),Ai.MEDIUMSPRINGGREEN=Object.freeze(Ai.fromCssColorString("#00FA9A")),Ai.MEDIUMTURQUOISE=Object.freeze(Ai.fromCssColorString("#48D1CC")),Ai.MEDIUMVIOLETRED=Object.freeze(Ai.fromCssColorString("#C71585")),Ai.MIDNIGHTBLUE=Object.freeze(Ai.fromCssColorString("#191970")),Ai.MINTCREAM=Object.freeze(Ai.fromCssColorString("#F5FFFA")),Ai.MISTYROSE=Object.freeze(Ai.fromCssColorString("#FFE4E1")),Ai.MOCCASIN=Object.freeze(Ai.fromCssColorString("#FFE4B5")),Ai.NAVAJOWHITE=Object.freeze(Ai.fromCssColorString("#FFDEAD")),Ai.NAVY=Object.freeze(Ai.fromCssColorString("#000080")),Ai.OLDLACE=Object.freeze(Ai.fromCssColorString("#FDF5E6")),Ai.OLIVE=Object.freeze(Ai.fromCssColorString("#808000")),Ai.OLIVEDRAB=Object.freeze(Ai.fromCssColorString("#6B8E23")),Ai.ORANGE=Object.freeze(Ai.fromCssColorString("#FFA500")),Ai.ORANGERED=Object.freeze(Ai.fromCssColorString("#FF4500")),Ai.ORCHID=Object.freeze(Ai.fromCssColorString("#DA70D6")),Ai.PALEGOLDENROD=Object.freeze(Ai.fromCssColorString("#EEE8AA")),Ai.PALEGREEN=Object.freeze(Ai.fromCssColorString("#98FB98")),Ai.PALETURQUOISE=Object.freeze(Ai.fromCssColorString("#AFEEEE")),Ai.PALEVIOLETRED=Object.freeze(Ai.fromCssColorString("#DB7093")),Ai.PAPAYAWHIP=Object.freeze(Ai.fromCssColorString("#FFEFD5")),Ai.PEACHPUFF=Object.freeze(Ai.fromCssColorString("#FFDAB9")),Ai.PERU=Object.freeze(Ai.fromCssColorString("#CD853F")),Ai.PINK=Object.freeze(Ai.fromCssColorString("#FFC0CB")),Ai.PLUM=Object.freeze(Ai.fromCssColorString("#DDA0DD")),Ai.POWDERBLUE=Object.freeze(Ai.fromCssColorString("#B0E0E6")),Ai.PURPLE=Object.freeze(Ai.fromCssColorString("#800080")),Ai.RED=Object.freeze(Ai.fromCssColorString("#FF0000")),Ai.ROSYBROWN=Object.freeze(Ai.fromCssColorString("#BC8F8F")),Ai.ROYALBLUE=Object.freeze(Ai.fromCssColorString("#4169E1")),Ai.SADDLEBROWN=Object.freeze(Ai.fromCssColorString("#8B4513")),Ai.SALMON=Object.freeze(Ai.fromCssColorString("#FA8072")),Ai.SANDYBROWN=Object.freeze(Ai.fromCssColorString("#F4A460")),Ai.SEAGREEN=Object.freeze(Ai.fromCssColorString("#2E8B57")),Ai.SEASHELL=Object.freeze(Ai.fromCssColorString("#FFF5EE")),Ai.SIENNA=Object.freeze(Ai.fromCssColorString("#A0522D")),Ai.SILVER=Object.freeze(Ai.fromCssColorString("#C0C0C0")),Ai.SKYBLUE=Object.freeze(Ai.fromCssColorString("#87CEEB")),Ai.SLATEBLUE=Object.freeze(Ai.fromCssColorString("#6A5ACD")),Ai.SLATEGRAY=Object.freeze(Ai.fromCssColorString("#708090")),Ai.SLATEGREY=Ai.SLATEGRAY,Ai.SNOW=Object.freeze(Ai.fromCssColorString("#FFFAFA")),Ai.SPRINGGREEN=Object.freeze(Ai.fromCssColorString("#00FF7F")),Ai.STEELBLUE=Object.freeze(Ai.fromCssColorString("#4682B4")),Ai.TAN=Object.freeze(Ai.fromCssColorString("#D2B48C")),Ai.TEAL=Object.freeze(Ai.fromCssColorString("#008080")),Ai.THISTLE=Object.freeze(Ai.fromCssColorString("#D8BFD8")),Ai.TOMATO=Object.freeze(Ai.fromCssColorString("#FF6347")),Ai.TURQUOISE=Object.freeze(Ai.fromCssColorString("#40E0D0")),Ai.VIOLET=Object.freeze(Ai.fromCssColorString("#EE82EE")),Ai.WHEAT=Object.freeze(Ai.fromCssColorString("#F5DEB3")),Ai.WHITE=Object.freeze(Ai.fromCssColorString("#FFFFFF")),Ai.WHITESMOKE=Object.freeze(Ai.fromCssColorString("#F5F5F5")),Ai.YELLOW=Object.freeze(Ai.fromCssColorString("#FFFF00")),Ai.YELLOWGREEN=Object.freeze(Ai.fromCssColorString("#9ACD32")),Ai.TRANSPARENT=Object.freeze(new Ai(0,0,0,0));var Mi={_minimumDisableDepthTestDistance:0,_farToNearRatio:1e3,_logarithmicDepthFarToNearRatio:1e9,_nearToFarDistance2D:175e4,_observerEventWaitTime:500,_terrainExaggeration:1,_max_fps:65,_min_fps:60,_max_frame_time:1e3/60,_create_terrain_num:2,_reclaim_memory_size:1024<<20,_resource_life_time:1e3,_max_range:100,_min_range:8,_drawSpread:.58,_drawDistance:8,_min_observer_height:1,_max_observer_height:12e6,_underground_mode:!1,_camera_height:0,_auxplane_elevation:0,_auxplane_elevation_relative:0,_auxplane_elevation_max:0,_draw_dem_skirt:!0,_auxplane_grid_size:.1,_first_person_height:1.6,_highlight_continue_time:10,_highlight_interval_time:.5,_highlight_color:3372209817,_skyline_valid_distance:1200,_enable_globe_cursor:!0,_default_highlight:!0,_port_list:[],_modelLodRange:{level21:120,level20:450,level19:600},_baseUrlString:"",_server_ip:"",_enable_pack_bim:!1,_waterAnimationSpeed:.004,_waterAmplitude:2};Object.defineProperties(Mi,{minimumDisableDepthTestDistance:{get:function(){return Mi._minimumDisableDepthTestDistance},set:function(e){Mi._minimumDisableDepthTestDistance=e}},farToNearRatio:{get:function(){return Mi._farToNearRatio},set:function(e){Mi._farToNearRatio=e}},logarithmicDepthFarToNearRatio:{get:function(){return Mi._logarithmicDepthFarToNearRatio},set:function(e){Mi._logarithmicDepthFarToNearRatio=e}},nearToFarDistance2D:{get:function(){return Mi._nearToFarDistance2D},set:function(e){Mi._nearToFarDistance2D=e}},observerEventWaitTime:{get:function(){return Mi._observerEventWaitTime},set:function(e){Mi._observerEventWaitTime=e}},terrainExaggeration:{get:function(){return Mi._terrainExaggeration},set:function(e){Mi._terrainExaggeration=e}},max_fps:{get:function(){return Mi._max_fps},set:function(e){Mi._max_fps=e}},min_fps:{get:function(){return Mi._min_fps},set:function(e){e!=Mi._min_fps&&(Mi._min_fps=e,Mi._max_frame_time=1e3/e)}},create_terrain_num:{get:function(){return Mi._create_terrain_num},set:function(e){Mi._create_terrain_num=e}},reclaim_memory_size:{get:function(){return Mi._reclaim_memory_size},set:function(e){Mi._reclaim_memory_size=e}},resource_life_time:{get:function(){return Mi._resource_life_time},set:function(e){Mi._resource_life_time=e}},max_range:{get:function(){return Mi._max_range},set:function(e){Mi._max_range=e}},min_range:{get:function(){return Mi._min_range},set:function(e){Mi._min_range=e}},drawSpread:{get:function(){return Mi._drawSpread},set:function(e){Mi._drawSpread=e}},drawDistance:{get:function(){return Mi._drawDistance},set:function(e){Mi._drawDistance=e}},auxplaneElevationMax:{get:function(){return Mi._auxplane_elevation_max},set:function(e){Mi._auxplane_elevation_max=e}},minObserverHeight:{get:function(){return Mi._min_observer_height},set:function(e){Mi._min_observer_height=e}},maxObserverHeight:{get:function(){return Mi._max_observer_height},set:function(e){Mi._max_observer_height=e}},undergroundMode:{get:function(){return Mi._underground_mode},set:function(e){Mi._underground_mode=e}},cameraHeight:{get:function(){return Mi._camera_height},set:function(e){Mi._camera_height=e}},auxplaneElevation:{get:function(){return Mi._auxplane_elevation},set:function(e){Mi._auxplane_elevation=e}},auxplaneElevationRelative:{get:function(){return Mi._auxplane_elevation_relative},set:function(e){Mi._auxplane_elevation_relative=e}},drawDemSkirt:{get:function(){return Mi._draw_dem_skirt},set:function(e){Mi._draw_dem_skirt=e}},auxplaneGridSize:{get:function(){return Mi._auxplane_grid_size},set:function(e){Mi._auxplane_grid_size=e}},first_person_height:{get:function(){return Mi._first_person_height},set:function(e){Mi._first_person_height=e}},highlight_continue_time:{get:function(){return Mi._highlight_continue_time},set:function(e){Mi._highlight_continue_time=e}},highlight_interval_time:{get:function(){return Mi._highlight_interval_time},set:function(e){Mi._highlight_interval_time=e}},highlight_color:{get:function(){return Mi._highlight_color},set:function(e){Mi._highlight_color=e}},skyline_valid_distance:{get:function(){return Mi._skyline_valid_distance},set:function(e){Mi._skyline_valid_distance=e}},enable_globe_cursor:{get:function(){return Mi._enable_globe_cursor},set:function(e){Mi._enable_globe_cursor=e}},default_highlight:{get:function(){return Mi._default_highlight},set:function(e){Mi._default_highlight=e}},opaqueFrustumNearOffset:{get:function(){return.9999}},port_list:{get:function(){return Mi._port_list}},modelLodRange:{get:function(){return Mi._modelLodRange},set:function(e){null!=e&&(Mi._modelLodRange.level19=e.level19,Mi._modelLodRange.level20=e.level20,Mi._modelLodRange.level21=e.level21)}},baseUrlString:{get:function(){return Mi._baseUrlString},set:function(e){null!=e&&(Mi._baseUrlString=e)}},server_ip:{get:function(){return Mi._server_ip},set:function(e){null!=e&&(Mi._server_ip=e)}},enable_pack_bim:{get:function(){return Mi._enable_pack_bim},set:function(e){null!=e&&(Mi._enable_pack_bim=e)}},waterAnimationSpeed:{get:function(){return Mi._waterAnimationSpeed},set:function(e){Mi._waterAnimationSpeed=e}},waterAmplitude:{get:function(){return Mi._waterAmplitude},set:function(e){Mi._waterAmplitude=e}}});var xi=Object.freeze({UNISSUED:0,ISSUED:1,ACTIVE:2,RECEIVED:3,CANCELLED:4,FAILED:5}),Ci=Object.freeze({TERRAIN:0,IMAGERY:1,TILES3D:2,OTHER:3});function wi(e){e=C(e,C.EMPTY_OBJECT);var t=C(e.throttleByServer,!1),r=C(e.throttle,!1);this.url=e.url,this.requestFunction=e.requestFunction,this.cancelFunction=e.cancelFunction,this.priorityFunction=e.priorityFunction,this.priority=C(e.priority,0),this.throttle=r,this.throttleByServer=t,this.type=C(e.type,Ci.OTHER),this.serverKey=e.serverKey,this.state=xi.UNISSUED,this.deferred=void 0,this.cancelled=!1,this.geoServer=C(e.geoServer,!1)}function vi(e){this._comparator=e.comparator,this._array=[],this._length=0,this._maximumLength=void 0}function bi(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Pi(){this._listeners=[],this._scopes=[],this._toRemove=[],this._insideRaiseEvent=!1}function Fi(e,t){return t-e}wi.prototype.cancel=function(){this.cancelled=!0},wi.prototype.clone=function(e){return ie(e)?(e.url=this.url,e.requestFunction=this.requestFunction,e.cancelFunction=this.cancelFunction,e.priorityFunction=this.priorityFunction,e.priority=this.priority,e.throttle=this.throttle,e.throttleByServer=this.throttleByServer,e.type=this.type,e.serverKey=this.serverKey,e.state=this.RequestState.UNISSUED,e.deferred=void 0,e.cancelled=!1,e):new wi(this)},Object.defineProperties(vi.prototype,{length:{get:function(){return this._length}},internalArray:{get:function(){return this._array}},maximumLength:{get:function(){return this._maximumLength},set:function(e){var t=this._length;if(e<t){for(var r=this._array,n=e;n<t;++n)r[n]=void 0;this._length=e,r.length=e}this._maximumLength=e}},comparator:{get:function(){return this._comparator}}}),vi.prototype.reserve=function(e){e=C(e,this._length),this._array.length=e},vi.prototype.heapify=function(e){e=C(e,0);for(var t=this._length,r=this._comparator,n=this._array,i=-1,o=!0;o;){var a=2*(e+1),s=a-1,i=s<t&&r(n[s],n[e])<0?s:e;(i=a<t&&r(n[a],n[i])<0?a:i)!==e?(bi(n,i,e),e=i):o=!1}},vi.prototype.resort=function(){for(var e=this._length,t=Math.ceil(e/2);0<=t;--t)this.heapify(t)},vi.prototype.insert=function(e){var t,r=this._array,n=this._comparator,i=this._maximumLength,o=this._length++;for(o<r.length?r[o]=e:r.push(e);0!==o;){var a=Math.floor((o-1)/2);if(!(n(r[o],r[a])<0))break;bi(r,o,a),o=a}return ie(i)&&this._length>i&&(t=r[i],this._length=i),t},vi.prototype.pop=function(e){if(e=C(e,0),0!==this._length){var t=this._array,r=t[e];return bi(t,e,--this._length),this.heapify(e),t[this._length]=void 0,r}},Object.defineProperties(Pi.prototype,{numberOfListeners:{get:function(){return this._listeners.length-this._toRemove.length}}}),Pi.prototype.addEventListener=function(e,t){this._listeners.push(e),this._scopes.push(t);var r=this;return function(){r.removeEventListener(e,t)}},Pi.prototype.removeEventListener=function(e,t){for(var r=this._listeners,n=this._scopes,i=-1,o=0;o<r.length;o++)if(r[o]===e&&n[o]===t){i=o;break}return-1!==i&&(this._insideRaiseEvent?(this._toRemove.push(i),r[i]=void 0,n[i]=void 0):(r.splice(i,1),n.splice(i,1)),!0)},Pi.prototype.raiseEvent=function(){this._insideRaiseEvent=!0;for(var e=this._listeners,t=this._scopes,r=e.length,n=0;n<r;n++)ie(e[n])&&e[n].apply(t[n],arguments);var i=this._toRemove;if(0<(r=i.length)){for(i.sort(Fi),n=0;n<r;n++){var o=i[n];e.splice(o,1),t.splice(o,1)}i.length=0}this._insideRaiseEvent=!1};var Ui={numberOfAttemptedRequests:0,numberOfActiveRequests:0,numberOfCancelledRequests:0,numberOfCancelledActiveRequests:0,numberOfFailedRequests:0,numberOfActiveRequestsEver:0,lastNumberOfActiveRequests:0},Di=20,zi=new vi({comparator:function(e,t){return e.priority-t.priority}});zi.maximumLength=Di,zi.reserve(Di);var Li=[],Bi={},qi="undefined"!=typeof document?new ii(document.location.href):new ii,Gi=new Pi;function ji(){}function Wi(e){ie(e.priorityFunction)&&(e.priority=e.priorityFunction())}function Hi(e){var t=C(ji.requestsByServer[e],ji.maximumRequestsPerServer);return Bi[e]<t}function Vi(e){return e.state===xi.UNISSUED&&(e.state=xi.ISSUED,e.deferred=ur.defer()),e.deferred.promise}function Xi(e){var t,r,n=Vi(e);return e.state=xi.ACTIVE,Li.push(e),++Ui.numberOfActiveRequests,++Ui.numberOfActiveRequestsEver,++Bi[e.serverKey],e.requestFunction().then((r=e,function(e){var t;r.state!==xi.CANCELLED&&(t=r.deferred,--Ui.numberOfActiveRequests,--Bi[r.serverKey],Gi.raiseEvent(),r.state=xi.RECEIVED,r.deferred=void 0,t.resolve(e))})).otherwise((t=e,function(e){t.state!==xi.CANCELLED&&(++Ui.numberOfFailedRequests,--Ui.numberOfActiveRequests,--Bi[t.serverKey],Gi.raiseEvent(e),t.state=xi.FAILED,t.deferred.reject(e))})),n}function Yi(e){var t,r=e.state===xi.ACTIVE;e.state=xi.CANCELLED,++Ui.numberOfCancelledRequests,ie(e.deferred)&&(t=e.deferred,e.deferred=void 0,t.reject()),r&&(--Ui.numberOfActiveRequests,--Bi[e.serverKey],++Ui.numberOfCancelledActiveRequests),ie(e.cancelFunction)&&e.cancelFunction()}function ki(e,t,r){this.statusCode=e,this.response=t,this.responseHeaders=r,"string"==typeof this.responseHeaders&&(this.responseHeaders=function(e){var t={};if(!e)return t;for(var r=e.split("\r\n"),n=0;n<r.length;++n){var i,o=r[n],a=o.indexOf(": ");0<a&&(i=o.substring(0,a),a=o.substring(a+2),t[i]=a)}return t}(this.responseHeaders))}ji.maximumRequests=50,ji.maximumRequestsPerServer=6,ji.requestsByServer={"api.cesium.com:443":18,"assets.cesium.com:443":18},ji.throttleRequests=!0,ji.debugShowStatistics=!1,ji.requestCompletedEvent=Gi,Object.defineProperties(ji,{statistics:{get:function(){return Ui}},priorityHeapLength:{get:function(){return Di},set:function(e){if(e<Di)for(;zi.length>e;)Yi(zi.pop());Di=e,zi.maximumLength=e,zi.reserve(e)}}}),ji.get_active_request_count=function(){return null==Li?0:Li.length},ji.update=function(){for(var e,t=0,r=Li.length,n=0;n<r;++n)(e=Li[n]).cancelled&&Yi(e),e.state===xi.ACTIVE?0<t&&(Li[n-t]=e):++t;Li.length-=t;var i=zi.internalArray,o=zi.length;for(n=0;n<o;++n)Wi(i[n]);zi.resort();for(var a=Math.max(ji.maximumRequests-Li.length,0),s=0;s<a&&0<zi.length;)!(e=zi.pop()).cancelled&&(!e.throttleByServer||Hi(e.serverKey))?(Xi(e),++s):Yi(e);ji.debugShowStatistics&&(0===Ui.numberOfActiveRequests&&0<Ui.lastNumberOfActiveRequests&&(0<Ui.numberOfAttemptedRequests&&(console.log("Number of attempted requests: "+Ui.numberOfAttemptedRequests),Ui.numberOfAttemptedRequests=0),0<Ui.numberOfCancelledRequests&&(console.log("Number of cancelled requests: "+Ui.numberOfCancelledRequests),Ui.numberOfCancelledRequests=0),0<Ui.numberOfCancelledActiveRequests&&(console.log("Number of cancelled active requests: "+Ui.numberOfCancelledActiveRequests),Ui.numberOfCancelledActiveRequests=0),0<Ui.numberOfFailedRequests&&(console.log("Number of failed requests: "+Ui.numberOfFailedRequests),Ui.numberOfFailedRequests=0)),Ui.lastNumberOfActiveRequests=Ui.numberOfActiveRequests)},ji.getServerKey=function(e){var t=new ii(e).resolve(qi);t.normalize();e=t.authority;return/:/.test(e)||(e=e+":"+("https"===t.scheme?"443":"80")),ie(Bi[e])||(Bi[e]=0),e},ji.request=function(e){if(pi(e.url)||di(e.url))return Gi.raiseEvent(),e.state=xi.RECEIVED,e.requestFunction();if(++Ui.numberOfAttemptedRequests,ie(e.serverKey)||(e.serverKey=ji.getServerKey(e.url)),!ji.throttleRequests||!e.throttleByServer||Hi(e.serverKey)){if(!ji.throttleRequests||!e.throttle)return Xi(e);if(!(Li.length>=ji.maximumRequests)){Wi(e);var t=zi.insert(e);if(ie(t)){if(t===e)return;Yi(t)}return Vi(e)}}},ji.clearForSpecs=function(){for(;0<zi.length;)Yi(zi.pop());for(var e=Li.length,t=0;t<e;++t)Yi(Li[t]);Li.length=0,Bi={},Ui.numberOfAttemptedRequests=0,Ui.numberOfActiveRequests=0,Ui.numberOfCancelledRequests=0,Ui.numberOfCancelledActiveRequests=0,Ui.numberOfFailedRequests=0,Ui.numberOfActiveRequestsEver=0,Ui.lastNumberOfActiveRequests=0},ji.numberOfActiveRequestsByServer=function(e){return Bi[e]},ji.requestHeap=zi,ki.prototype.toString=function(){var e="Request has failed.";return ie(this.statusCode)&&(e+=" Status Code: "+this.statusCode),e};var Ki=function(){try{var e=new XMLHttpRequest;return e.open("GET","#",!0),(e.responseType="blob")===e.responseType}catch(e){return!1}}();function Zi(e,t,r,n){var i,o=e.query;if(!ie(o)||0===o.length)return 1;o=-1===o.indexOf("=")?((i={})[o]=void 0,i):function(e){var t={};if(""===e)return t;for(var r=e.replace(/\+/g,"%20").split(/[&;]/),n=0,i=r.length;n<i;++n){var o=r[n].split("="),a=decodeURIComponent(o[0]),s=ie(s=o[1])?decodeURIComponent(s):"",o=t[a];"string"==typeof o?t[a]=[o,s]:Array.isArray(o)?o.push(s):t[a]=s}return t}(o),t._queryParameters=r?eo(o,t._queryParameters,n):o,e.query=void 0}function Ji(e,t){var r=t._queryParameters,t=Object.keys(r);1!==t.length||ie(r[t[0]])?e.query=function(e){var t,r="";for(t in e)if(e.hasOwnProperty(t)){var n=e[t],i=encodeURIComponent(t)+"=";if(Array.isArray(n))for(var o=0,a=n.length;o<a;++o)r+=i+encodeURIComponent(n[o])+"&";else r+=i+encodeURIComponent(n)+"&"}return r=r.slice(0,-1)}(r):e.query=t[0]}function Qi(e,t){return ie(e)?ie(e.clone)?e.clone():ri(e):t}function $i(e){e.state=xi.UNISSUED,e.deferred=void 0}function eo(e,t,r){if(!r)return ni(e,t);var n,i,o,a=ri(e,!0);for(n in t)t.hasOwnProperty(n)&&(i=a[n],o=t[n],ie(i)?(Array.isArray(i)||(i=a[n]=[i]),a[n]=i.concat(o)):a[n]=Array.isArray(o)?o.slice():o);return a}var to,ro=0;function no(e){var t,r;"db"===(e="string"==typeof(e=C(e,C.EMPTY_OBJECT))?{url:e}:e).url.substring(0,2)&&(e.url="http"+e.url.substring(2,e.url.length)),0<e.url.indexOf("sde?")&&e.url.indexOf("_sde")<0&&e.isSde&&(e.url+="_sde"),0<Mi.port_list.length&&/\/(sde|sde_pack|dcs|geoserver|filedownload)\?/.test(e.url)&&(null!=(t=/^([^:\/]+)(:\/\/)([^\/]+)(\/.+)$/i.exec(e.url))&&5==t.length&&(/:/.test(t[3])&&(r=t[3].indexOf(":"),t[3]=t[3].substring(0,r)),t[3]=t[3]+":"+Mi.port_list[ro],ro=(ro+1)%Mi.port_list.length,e.url=t[1]+t[2]+t[3]+t[4])),this._version=e.version,this._url=void 0,this._templateValues=Qi(e.templateValues,{}),this._queryParameters=Qi(e.queryParameters,{}),this.headers=Qi(e.headers,{}),this.request=C(e.request,new wi),this.proxy=e.proxy,this.retryCallback=e.retryCallback,this.retryAttempts=C(e.retryAttempts,3),this._retryCount=0;e=new ii(e.url);Zi(e,this,!0,!0),e.fragment=void 0,this._url=e.toString(),this.preDownload=void 0}function io(r){var n=r.resource,i=r.flipY,o=r.preferImageBitmap,a=n.request;a.url=n.url,a.requestFunction=function(){ie(r.preDownload)&&n.preDownload();var e=!1;n.isDataUri||n.isBlobUri||(e=n.isCrossOriginUrl);var t=ur.defer();return no._Implementations.createImage(a,e,t,i,o),t.promise};var e=ji.request(a);if(ie(e))return e.otherwise(function(t){return a.state!==xi.FAILED?ur.reject(t):n.retryOnError(t).then(function(e){return e?(a.state=xi.UNISSUED,a.deferred=void 0,io({resource:n,flipY:i,preferImageBitmap:o})):ur.reject(t)})})}no.createIfNeeded=function(e,t,r){return e instanceof no?e.getDerivedResource({request:e.request}):"string"!=typeof e?e:new no({url:e,version:t,isSde:!ie(r)||r})},no.supportsImageBitmapOptions=function(){if(ie(to))return to;if("function"!=typeof createImageBitmap)return to=ur.resolve(!1);return to=no.fetchBlob({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWP4////fwAJ+wP9CNHoHgAAAABJRU5ErkJggg=="}).then(function(e){return createImageBitmap(e,{imageOrientation:"flipY",premultiplyAlpha:"none"})}).then(function(e){return!0}).otherwise(function(){return!1})},Object.defineProperties(no,{isBlobSupported:{get:function(){return Ki}}}),Object.defineProperties(no.prototype,{queryParameters:{get:function(){return this._queryParameters}},templateValues:{get:function(){return this._templateValues}},url:{get:function(){var e=this.getUrlComponent(!0,!0);return null!=this._version&&(e+="&version="+this._version),e},set:function(e){e=new ii(e);Zi(e,this,!1),e.fragment=void 0,this._url=e.toString()}},extension:{get:function(){return e=this._url,(t=new ii(e)).normalize(),e=t.path,e=-1===(t=(e=-1!==(t=e.lastIndexOf("/"))?e.substr(t+1):e).lastIndexOf("."))?"":e.substr(t+1);var e,t}},isDataUri:{get:function(){return pi(this._url)}},isBlobUri:{get:function(){return di(this._url)}},isCrossOriginUrl:{get:function(){return function(e){(hi=!ie(hi)?document.createElement("a"):hi).href=window.location.href;var t=hi.host,r=hi.protocol;return hi.href=e,hi.href=hi.href,r!==hi.protocol||t!==hi.host}(this._url)}},hasHeaders:{get:function(){return 0<Object.keys(this.headers).length}}}),no.prototype.toString=function(){return this.getUrlComponent(!0,!0)},no.prototype.getUrlComponent=function(e,t){if(this.isDataUri)return this._url;var r=new ii(this._url);e&&Ji(r,this);var r=r.toString().replace(/%7B/g,"{").replace(/%7D/g,"}"),n=this._templateValues,r=r.replace(/{(.*?)}/g,function(e,t){t=n[t];return ie(t)?encodeURIComponent(t):e});return r=t&&ie(this.proxy)?this.proxy.getURL(r):r},no.prototype.setQueryParameters=function(e,t){this._queryParameters=t?eo(this._queryParameters,e,!1):eo(e,this._queryParameters,!1)},no.prototype.appendQueryParameters=function(e){this._queryParameters=eo(e,this._queryParameters,!0)},no.prototype.setTemplateValues=function(e,t){this._templateValues=t?ni(this._templateValues,e):ni(e,this._templateValues)},no.prototype.getDerivedResource=function(e){var t,r=this.clone();return r._retryCount=0,ie(e.url)&&(Zi(t=new ii(e.url),r,!0,C(e.preserveQueryParameters,!1)),t.fragment=void 0,r._url=t.resolve(new ii(fi(this._url))).toString(),r._url.indexOf("base64")<0&&0<r._url.indexOf("/sde?/")&&r._url.indexOf("_sde")<0&&(r._url+="_sde")),ie(e.queryParameters)&&(r._queryParameters=ni(e.queryParameters,r._queryParameters)),ie(e.templateValues)&&(r._templateValues=ni(e.templateValues,r.templateValues)),ie(e.headers)&&(r.headers=ni(e.headers,r.headers)),ie(e.proxy)&&(r.proxy=e.proxy),ie(e.request)&&(r.request=e.request),ie(e.retryCallback)&&(r.retryCallback=e.retryCallback),ie(e.retryAttempts)&&(r.retryAttempts=e.retryAttempts),r},no.prototype.retryOnError=function(e){var t=this.retryCallback;if("function"!=typeof t||this._retryCount>=this.retryAttempts)return ur(!1);var r=this;return ur(t(this,e)).then(function(e){return++r._retryCount,e})},no.prototype.clone=function(e){return(e=!ie(e)?new no({url:this._url}):e)._url=this._url,e._queryParameters=ri(this._queryParameters),e._templateValues=ri(this._templateValues),e.headers=ri(this.headers),e.proxy=this.proxy,e.retryCallback=this.retryCallback,e.retryAttempts=this.retryAttempts,e._retryCount=0,e.request=this.request.clone(),e},no.prototype.getBaseUri=function(e){return t=this.getUrlComponent(e),r=e,n="",-1!==(e=t.lastIndexOf("/"))&&(n=t.substring(0,e+1)),r&&(ie((t=new ii(t)).query)&&(n+="?"+t.query),ie(t.fragment)&&(n+="#"+t.fragment)),n;var t,r,n},no.prototype.appendForwardSlash=function(){var e;this._url=(0!==(e=this._url).length&&"/"===e[e.length-1]||(e+="/"),e)},no.prototype.fetchArrayBuffer=function(){return this.fetch({responseType:"arraybuffer"})},no.fetchArrayBuffer=function(e){return new no(e).fetchArrayBuffer()},no.prototype.fetchBlob=function(){return this.fetch({responseType:"blob"})},no.fetchBlob=function(e){return new no(e).fetchBlob()},no.prototype.fetchImage=function(e){e=C(e,C.EMPTY_OBJECT);var t=C(e.preferImageBitmap,!1),r=C(e.preferBlob,!1),n=C(e.flipY,!1);if($i(this.request),!Ki||this.isDataUri||this.isBlobUri||!this.hasHeaders&&!r)return io({resource:this,flipY:n,preferImageBitmap:t});var i,o,a,s=this.fetchBlob();return ie(s)?no.supportsImageBitmapOptions().then(function(e){return i=e&&t,s}).then(function(e){if(ie(e)){if(a=e,i)return no.createImageBitmapFromBlob(e,{flipY:n,premultiplyAlpha:!1});e=window.URL.createObjectURL(e);return io({resource:o=new no({url:e}),flipY:n,preferImageBitmap:!1})}}).then(function(e){if(ie(e))return e.blob=a,i||window.URL.revokeObjectURL(o.url),e}).otherwise(function(e){return ie(o)&&window.URL.revokeObjectURL(o.url),e.blob=a,ur.reject(e)}):void 0},no.fetchImage=function(e){return new no(e).fetchImage({flipY:e.flipY,preferBlob:e.preferBlob,preferImageBitmap:e.preferImageBitmap})},no.prototype.fetchText=function(){return this.fetch({responseType:"text"})},no.fetchText=function(e){return new no(e).fetchText()},no.prototype.fetchJson=function(){var e=this.fetch({responseType:"text",headers:{Accept:"application/json,*/*;q=0.01"}});if(ie(e))return e.then(function(e){if(ie(e))return JSON.parse(e)})},no.fetchJson=function(e){return new no(e).fetchJson()},no.prototype.fetchXML=function(){return this.fetch({responseType:"document",overrideMimeType:"text/xml"})},no.fetchXML=function(e){return new no(e).fetchXML()},no.prototype.fetchJsonp=function(e){var t;for(e=C(e,"callback"),$i(this.request);t="loadJsonp"+Math.random().toString().substring(2,8),ie(window[t]););return function r(n,i,o){var e={};e[i]=o;n.setQueryParameters(e);var a=n.request;a.url=n.url;a.requestFunction=function(){ie(n.preDownload)&&n.preDownload();var t=ur.defer();return window[o]=function(e){t.resolve(e);try{delete window[o]}catch(e){window[o]=void 0}},no._Implementations.loadAndExecuteScript(n.url,o,t),t.promise};e=ji.request(a);if(!ie(e))return;return e.otherwise(function(t){return a.state!==xi.FAILED?ur.reject(t):n.retryOnError(t).then(function(e){return e?(a.state=xi.UNISSUED,a.deferred=void 0,r(n,i,o)):ur.reject(t)})})}(this,e,t)},no.fetchJsonp=function(e){return new no(e).fetchJsonp(e.callbackParameterName)},no.prototype._makeRequest=function(s){var u=this;$i(u.request);var c=u.request;c.url=u.url,c.requestFunction=function(){ie(u.preDownload)&&u.preDownload();var e=s.responseType,t=ni(s.headers,u.headers),r=s.overrideMimeType,n=s.method,i=s.data,o=ur.defer(),a=no._Implementations.loadWithXhr(u.url,e,n,i,t,o,r);return ie(a)&&ie(a.abort)&&(c.cancelFunction=function(){a.abort()}),o.promise};var e=ji.request(c);if(ie(e))return e.then(function(e){return c.cancelFunction=void 0,e}).otherwise(function(t){return c.cancelFunction=void 0,c.state!==xi.FAILED?ur.reject(t):u.retryOnError(t).then(function(e){return e?(c.state=xi.UNISSUED,c.deferred=void 0,u.fetch(s)):ur.reject(t)})})};var oo=/^data:(.*?)(;base64)?,(.*)$/;function ao(e,t){t=decodeURIComponent(t);return e?atob(t):t}function so(e,t){for(var r=ao(e,t),t=new ArrayBuffer(r.length),n=new Uint8Array(t),i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return t}function uo(e,t){switch(t){case"text":return e.toString("utf8");case"json":return JSON.parse(e.toString("utf8"));default:return new Uint8Array(e).buffer}}no.prototype.fetch=function(e){return(e=Qi(e,{})).method="GET",this._makeRequest(e)},no.fetch=function(e){return new no(e).fetch({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},no.prototype.delete=function(e){return(e=Qi(e,{})).method="DELETE",this._makeRequest(e)},no.delete=function(e){return new no(e).delete({responseType:e.responseType,overrideMimeType:e.overrideMimeType,data:e.data})},no.prototype.head=function(e){return(e=Qi(e,{})).method="HEAD",this._makeRequest(e)},no.head=function(e){return new no(e).head({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},no.prototype.options=function(e){return(e=Qi(e,{})).method="OPTIONS",this._makeRequest(e)},no.options=function(e){return new no(e).options({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},no.prototype.post=function(e,t){return(t=Qi(t,{})).method="POST",t.data=e,this._makeRequest(t)},no.post=function(e){return new no(e).post(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},no.prototype.put=function(e,t){return(t=Qi(t,{})).method="PUT",t.data=e,this._makeRequest(t)},no.put=function(e){return new no(e).put(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},no.prototype.patch=function(e,t){return(t=Qi(t,{})).method="PATCH",t.data=e,this._makeRequest(t)},no.patch=function(e){return new no(e).patch(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},(no._Implementations={}).createImage=function(o,a,s,u,c){var l=o.url;no.supportsImageBitmapOptions().then(function(e){if(!e||!c)return n=l,e=a,t=s,(r=new Image).onload=function(){t.resolve(r)},r.onerror=function(e){t.reject(e)},e&&(Ti.contains(n)?r.crossOrigin="use-credentials":r.crossOrigin=""),void(r.src=n);var t,r,n=ur.defer(),i=no._Implementations.loadWithXhr(l,"blob","GET",void 0,void 0,n,void 0,void 0,void 0);return ie(i)&&ie(i.abort)&&(o.cancelFunction=function(){i.abort()}),n.promise.then(function(e){return ie(e)?no.createImageBitmapFromBlob(e,{flipY:u,premultiplyAlpha:!1}):void s.reject(new te("Successfully retrieved "+l+" but it contained no content."))}).then(s.resolve)}).otherwise(s.reject)},no.createImageBitmapFromBlob=function(e,t){return createImageBitmap(e,{imageOrientation:t.flipY?"flipY":"none",premultiplyAlpha:t.premultiplyAlpha?"premultiply":"none"})};var co="undefined"==typeof XMLHttpRequest;function lo(e,t,r,n,i){this.xPoleWander=e,this.yPoleWander=t,this.xPoleOffset=r,this.yPoleOffset=n,this.ut1MinusUtc=i}function fo(e){var t,r;e=C(e,C.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=C(e.addNewLeapSeconds,!0),ie(e.data)?mo(this,e.data):ie(e.url)?(t=no.createIfNeeded(e.url),(r=this)._downloadPromise=t.fetchJson().then(function(e){mo(r,e)}).otherwise(function(){r._dataError="An error occurred while retrieving the EOP data from the URL "+t.url+"."})):mo(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function ho(e,t){return ei.compare(e.julianDate,t)}function mo(e,t){if(ie(t.columnNames))if(ie(t.samples)){var r=t.columnNames.indexOf("modifiedJulianDateUtc"),n=t.columnNames.indexOf("xPoleWanderRadians"),i=t.columnNames.indexOf("yPoleWanderRadians"),o=t.columnNames.indexOf("ut1MinusUtcSeconds"),a=t.columnNames.indexOf("xCelestialPoleOffsetRadians"),s=t.columnNames.indexOf("yCelestialPoleOffsetRadians"),u=t.columnNames.indexOf("taiMinusUtcSeconds");if(r<0||n<0||i<0||o<0||a<0||s<0||u<0)e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns";else{var c,l=e._samples=t.samples,f=e._dates=[];e._dateColumn=r,e._xPoleWanderRadiansColumn=n,e._yPoleWanderRadiansColumn=i,e._ut1MinusUtcSecondsColumn=o,e._xCelestialPoleOffsetRadiansColumn=a,e._yCelestialPoleOffsetRadiansColumn=s,e._taiMinusUtcSecondsColumn=u,e._columnCount=t.columnNames.length,e._lastIndex=void 0;for(var h=e._addNewLeapSeconds,m=0,d=l.length;m<d;m+=e._columnCount){var E,p=l[m+r],_=l[m+u],y=new ei(p+Dn.MODIFIED_JULIAN_DATE_DIFFERENCE,_,zn.TAI);f.push(y),h&&(_===c||!ie(c)||(p=vn(E=ei.leapSeconds,y,ho))<0&&(y=new Un(y,_),E.splice(~p,0,y)),c=_)}}}else e._dataError="Error in loaded EOP data: The samples property is required.";else e._dataError="Error in loaded EOP data: The columnNames property is required."}function Eo(e,t,r,n,i){n*=r;i.xPoleWander=t[n+e._xPoleWanderRadiansColumn],i.yPoleWander=t[n+e._yPoleWanderRadiansColumn],i.xPoleOffset=t[n+e._xCelestialPoleOffsetRadiansColumn],i.yPoleOffset=t[n+e._yCelestialPoleOffsetRadiansColumn],i.ut1MinusUtc=t[n+e._ut1MinusUtcSecondsColumn]}function po(e,t,r){return t+e*(r-t)}function _o(e,t,r,n,i,o,a){var s=e._columnCount;if(o>t.length-1)return a.xPoleWander=0,a.yPoleWander=0,a.xPoleOffset=0,a.yPoleOffset=0,a.ut1MinusUtc=0,a;var u=t[i],c=t[o];if(u.equals(c)||n.equals(u))return Eo(e,r,i,s,a),a;if(n.equals(c))return Eo(e,r,o,s,a),a;var l=ei.secondsDifference(n,u)/ei.secondsDifference(c,u),f=i*s,t=o*s,u=r[f+e._ut1MinusUtcSecondsColumn],i=r[t+e._ut1MinusUtcSecondsColumn],o=i-u;return!(.5<o||o<-.5)||(s=r[f+e._taiMinusUtcSecondsColumn])!==(o=r[t+e._taiMinusUtcSecondsColumn])&&(c.equals(n)?u=i:i-=o-s),a.xPoleWander=po(l,r[f+e._xPoleWanderRadiansColumn],r[t+e._xPoleWanderRadiansColumn]),a.yPoleWander=po(l,r[f+e._yPoleWanderRadiansColumn],r[t+e._yPoleWanderRadiansColumn]),a.xPoleOffset=po(l,r[f+e._xCelestialPoleOffsetRadiansColumn],r[t+e._xCelestialPoleOffsetRadiansColumn]),a.yPoleOffset=po(l,r[f+e._yCelestialPoleOffsetRadiansColumn],r[t+e._yCelestialPoleOffsetRadiansColumn]),a.ut1MinusUtc=po(l,u,i),a}function yo(e,t,r){this.x=e,this.y=t,this.s=r}no._Implementations.loadWithXhr=function(e,i,o,t,r,a,n){var s=oo.exec(e);if(null===s){if(co)return u=e,c=i,l=o,f=r,h=a,m=require("url").parse(u),u="https:"===m.protocol?require("https"):require("http"),d=require("zlib"),f={protocol:m.protocol,hostname:m.hostname,port:m.port,path:m.path,query:m.query,method:l,headers:f},void u.request(f).on("response",function(t){var r;t.statusCode<200||300<=t.statusCode?h.reject(new ki(t.statusCode,t,t.headers)):(r=[],t.on("data",function(e){r.push(e)}),t.on("end",function(){var e=Buffer.concat(r);"gzip"===t.headers["content-encoding"]?d.gunzip(e,function(e,t){e?h.reject(new te("Error decompressing response.")):h.resolve(uo(t,c))}):h.resolve(uo(e,c))}))}).on("error",function(e){h.reject(new ki)}).end();var u,c,l,f,h,m,d,E=new XMLHttpRequest;if(Ti.contains(e)&&(E.withCredentials=!0),E.open(o,e,!0),ie(n)&&ie(E.overrideMimeType)&&E.overrideMimeType(n),ie(r))for(var p in r)r.hasOwnProperty(p)&&E.setRequestHeader(p,r[p]);ie(i)&&(E.responseType=i);var _=!1;return"string"==typeof e&&(_=0===e.indexOf("file://")||"undefined"!=typeof window&&"file://"===window.location.origin),E.onload=function(){if(!(E.status<200||300<=E.status)||_&&0===E.status){var e=E.response,t=E.responseType;if("HEAD"===o||"OPTIONS"===o){var r=E.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};return r.forEach(function(e){var t=e.split(": "),e=t.shift();n[e]=t.join(": ")}),void a.resolve(n)}if(204===E.status)a.resolve();else if(!ie(e)||ie(i)&&t!==i)if("json"===i&&"string"==typeof e)try{a.resolve(JSON.parse(e))}catch(e){a.reject(e)}else(""===t||"document"===t)&&ie(E.responseXML)&&E.responseXML.hasChildNodes()?a.resolve(E.responseXML):""!==t&&"text"!==t||!ie(E.responseText)?a.reject(new te("Invalid XMLHttpRequest response type.")):a.resolve(E.responseText);else a.resolve(e)}else a.reject(new ki(E.status,E.response,E.getAllResponseHeaders()))},E.onerror=function(e){a.reject(new ki)},E.send(t),E}a.resolve(function(e,t){t=C(t,"");var r=e[1],n=!!e[2],i=e[3];switch(t){case"":case"text":return ao(n,i);case"arraybuffer":return so(n,i);case"blob":var o=so(n,i);return new Blob([o],{type:r});case"document":return(new DOMParser).parseFromString(ao(n,i),r);case"json":return JSON.parse(ao(n,i))}}(s,i))},no._Implementations.loadAndExecuteScript=function(e,t,r){return function(e){var t=ur.defer(),r=document.createElement("script");r.async=!0,r.src=e;var n=document.getElementsByTagName("head")[0];return r.onload=function(){r.onload=void 0,n.removeChild(r),t.resolve()},r.onerror=function(e){t.reject(e)},n.appendChild(r),t.promise}(e).otherwise(r.reject)},(no._DefaultImplementations={}).createImage=no._Implementations.createImage,no._DefaultImplementations.loadWithXhr=no._Implementations.loadWithXhr,no._DefaultImplementations.loadAndExecuteScript=no._Implementations.loadAndExecuteScript,no.DEFAULT=Object.freeze(new no({url:"undefined"==typeof document?"":document.location.href.split("?")[0]})),fo.NONE=Object.freeze({getPromiseToLoad:function(){return ur.resolve()},compute:function(e,t){return ie(t)?(t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0):t=new lo(0,0,0,0,0),t}}),fo.prototype.getPromiseToLoad=function(){return ur(this._downloadPromise)},fo.prototype.compute=function(e,t){if(ie(this._samples)){if(ie(t)||(t=new lo(0,0,0,0,0)),0===this._samples.length)return t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0,t;var r=this._dates,n=this._lastIndex,i=0,o=0;if(ie(n)){var a=r[n],s=r[n+1],u=ei.lessThanOrEquals(a,e),c=!ie(s),a=c||ei.greaterThanOrEquals(s,e);if(u&&a)return i=n,!c&&s.equals(e)&&++i,_o(this,r,this._samples,e,i,o=i+1,t),t}s=vn(r,e,ei.compare,this._dateColumn);return 0<=s?(s<r.length-1&&r[s+1].equals(e)&&++s,o=i=s):(i=(o=~s)-1)<0&&(i=0),this._lastIndex=i,_o(this,r,this._samples,e,i,o,t),t}};var To,go,Ro,Ao=/((?:.*\/)|^)Cesium\.js(?:\?|\#|$)/;function So(e){return"undefined"==typeof document?e:((To=!ie(To)?document.createElement("a"):To).href=e,To.href=To.href,To.href)}function Oo(){if(ie(go))return go;var e=void 0!==Mi.baseUrlString?Mi.baseUrlString:"object"==typeof define&&ie(define.amd)&&!define.amd.toUrlUndefined&&ie(require.toUrl)?fi("..",Mo("lib_ax/utility/lib_core/resource/buildModuleUrl.js")):function(){for(var e=document.getElementsByTagName("script"),t=0,r=e.length;t<r;++t){var n=e[t].getAttribute("src"),n=Ao.exec(n);if(null!==n)return n[1]}}();return(go=new no({url:So(e)})).appendForwardSlash(),go}function Io(e){return So(require.toUrl("../"+e))}function No(e){return Oo().getDerivedResource({url:e}).url}function Mo(e){return(Ro=!ie(Ro)?"object"==typeof define&&ie(define.amd)&&!define.amd.toUrlUndefined&&ie(require.toUrl)?Io:No:Ro)(e)}function xo(e){e=C(e,C.EMPTY_OBJECT),this._xysFileUrlTemplate=no.createIfNeeded(e.xysFileUrlTemplate),this._interpolationOrder=C(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=C(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new ei(this._sampleZeroJulianEphemerisDate,0,zn.TAI),this._stepSizeDays=C(e.stepSizeDays,1),this._samplesPerXysFile=C(e.samplesPerXysFile,1e3),this._totalSamples=C(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];for(var t=this._interpolationOrder,r=this._denominators=new Array(t+1),n=this._xTable=new Array(t+1),i=Math.pow(this._stepSizeDays,t),o=0;o<=t;++o){r[o]=i,n[o]=o*this._stepSizeDays;for(var a=0;a<=t;++a)a!==o&&(r[o]*=o-a);r[o]=1/r[o]}this._work=new Array(t+1),this._coef=new Array(t+1)}Mo._cesiumScriptRegex=Ao,Mo._buildModuleUrlFromBaseUrl=No,Mo._clearBaseResource=function(){go=void 0},Mo.setBaseUrl=function(e){go=no.DEFAULT.getDerivedResource({url:e})},Mo.getCesiumBaseUrl=Oo;var Co=new ei(0,0,zn.TAI);function wo(e,t,r){var n=Co;return n.dayNumber=t,n.secondsOfDay=r,ei.daysDifference(n,e._sampleZeroDateTT)}function vo(a,s){if(a._chunkDownloadsInProgress[s])return a._chunkDownloadsInProgress[s];var u=ur.defer();a._chunkDownloadsInProgress[s]=u;var e=a._xysFileUrlTemplate;return ur((ie(e)?e.getDerivedResource({templateValues:{0:s}}):new no({url:Mo("Assets/IAU2006_XYS/IAU2006_XYS_"+s+".json")})).fetchJson(),function(e){a._chunkDownloadsInProgress[s]=!1;for(var t=a._samples,r=e.samples,n=s*a._samplesPerXysFile*3,i=0,o=r.length;i<o;++i)t[n+i]=r[i];u.resolve()}),u.promise}xo.prototype.preload=function(e,t,r,n){t=wo(this,e,t),n=wo(this,r,n),t=t/this._stepSizeDays-this._interpolationOrder/2|0,n=n/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;n>=this._totalSamples&&(n=this._totalSamples-1);for(var t=(t=t<0?0:t)/this._samplesPerXysFile|0,i=n/this._samplesPerXysFile|0,o=[],a=t;a<=i;++a)o.push(vo(this,a));return ur.all(o)},xo.prototype.computeXysRadians=function(e,t,r){var n=wo(this,e,t);if(!(n<0)){e=n/this._stepSizeDays|0;if(!(e>=this._totalSamples)){var i=this._interpolationOrder,o=e-(i/2|0),t=(o=o<0?0:o)+i;t>=this._totalSamples&&(o=(t=this._totalSamples-1)-i)<0&&(o=0);var e=!1,a=this._samples;if(ie(a[3*o])||(vo(this,o/this._samplesPerXysFile|0),e=!0),ie(a[3*t])||(vo(this,t/this._samplesPerXysFile|0),e=!0),!e){ie(r)?(r.x=0,r.y=0,r.s=0):r=new yo(0,0,0);for(var s,u=n-o*this._stepSizeDays,c=this._work,l=this._denominators,f=this._coef,h=this._xTable,m=0;m<=i;++m)c[m]=u-h[m];for(m=0;m<=i;++m){for(f[m]=1,s=0;s<=i;++s)s!==m&&(f[m]*=c[s]);f[m]*=l[m];var d=3*(o+m);r.x+=f[m]*a[d++],r.y+=f[m]*a[d++],r.s+=f[m]*a[d]}return r}}}};var bo={},Po={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},Fo={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},Uo={},Do={east:new se,north:new se,up:new se,west:new se,south:new se,down:new se},zo=new se,Lo=new se,Bo=new se;bo.localFrameToFixedFrameGenerator=function(i,o){var e,a=Po[i][o],t=i+o;return ie(Uo[t])?e=Uo[t]:(e=function(e,t,r){var n;return ie(r)||(r=new me),se.equalsEpsilon(e,se.ZERO,oe.EPSILON14)?(se.unpack(Fo[i],0,zo),se.unpack(Fo[o],0,Lo),se.unpack(Fo[a],0,Bo)):oe.equalsEpsilon(e.x,0,oe.EPSILON14)&&oe.equalsEpsilon(e.y,0,oe.EPSILON14)?(n=oe.sign(e.z),se.unpack(Fo[i],0,zo),"east"!==i&&"west"!==i&&se.multiplyByScalar(zo,n,zo),se.unpack(Fo[o],0,Lo),"east"!==o&&"west"!==o&&se.multiplyByScalar(Lo,n,Lo),se.unpack(Fo[a],0,Bo),"east"!==a&&"west"!==a&&se.multiplyByScalar(Bo,n,Bo)):((t=C(t,ce.WGS84)).geodeticSurfaceNormal(e,Do.up),n=Do.up,(t=Do.east).x=-e.y,t.y=e.x,t.z=0,se.normalize(t,Do.east),se.cross(n,t,Do.north),se.multiplyByScalar(Do.up,-1,Do.down),se.multiplyByScalar(Do.east,-1,Do.west),se.multiplyByScalar(Do.north,-1,Do.south),zo=Do[i],Lo=Do[o],Bo=Do[a]),r[0]=zo.x,r[1]=zo.y,r[2]=zo.z,r[3]=0,r[4]=Lo.x,r[5]=Lo.y,r[6]=Lo.z,r[7]=0,r[8]=Bo.x,r[9]=Bo.y,r[10]=Bo.z,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r},Uo[t]=e),e},bo.eastNorthUpToFixedFrame=bo.localFrameToFixedFrameGenerator("east","north"),bo.northEastDownToFixedFrame=bo.localFrameToFixedFrameGenerator("north","east"),bo.northUpEastToFixedFrame=bo.localFrameToFixedFrameGenerator("north","up"),bo.northWestUpToFixedFrame=bo.localFrameToFixedFrameGenerator("north","west");var qo=new Qr,Go=new se(1,1,1),jo=new me;bo.headingPitchRollToFixedFrame=function(e,t,r,n,i){n=C(n,bo.eastNorthUpToFixedFrame);t=Qr.fromHeadingPitchRoll(t,qo),t=me.fromTranslationQuaternionRotationScale(se.ZERO,t,Go,jo);return i=n(e,r,i),me.multiply(i,t,i)};var Wo=new me,Ho=new Y;bo.headingPitchRollQuaternion=function(e,t,r,n,i){n=bo.headingPitchRollToFixedFrame(e,t,r,n,Wo),n=me.getMatrix3(n,Ho);return Qr.fromRotationMatrix(n,i)};var Vo=new se(1,1,1),Xo=new se,Yo=new me,ko=new me,Ko=new Y,Zo=new Qr;bo.fixedFrameToHeadingPitchRoll=function(e,t,r,n){t=C(t,ce.WGS84),r=C(r,bo.eastNorthUpToFixedFrame),ie(n)||(n=new wn);var i=me.getTranslation(e,Xo);if(se.equals(i,se.ZERO))return n.heading=0,n.pitch=0,n.roll=0,n;t=me.inverseTransformation(r(i,t,Yo),Yo),e=me.setScale(e,Vo,ko),e=me.setTranslation(e,se.ZERO,e),t=me.multiply(t,e,t),t=Qr.fromRotationMatrix(me.getMatrix3(t,Ko),Zo),t=Qr.normalize(t,t);return wn.fromQuaternion(t,n)};var Jo=oe.TWO_PI/86400,Qo=new ei;bo.computeTemeToPseudoFixedMatrix=function(e,t){var r=(Qo=ei.addSeconds(e,-ei.computeTaiMinusUtc(e),Qo)).dayNumber,n=Qo.secondsOfDay,e=r-2451545,e=43200<=n?(.5+e)/Dn.DAYS_PER_JULIAN_CENTURY:(e-.5)/Dn.DAYS_PER_JULIAN_CENTURY,r=(24110.54841+e*(8640184.812866+e*(.093104+-62e-7*e)))*Jo%oe.TWO_PI+(72921158553e-15+11772758384668e-32*(r-2451545.5))*((n+.5*Dn.SECONDS_PER_DAY)%Dn.SECONDS_PER_DAY),n=Math.cos(r),r=Math.sin(r);return ie(t)?(t[0]=n,t[1]=-r,t[2]=0,t[3]=r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new Y(n,r,0,-r,n,0,0,0,1)},bo.iau2006XysData=new xo,bo.earthOrientationParameters=fo.NONE;var $o=32.184;bo.preloadIcrfFixed=function(e){var t=e.start.dayNumber,r=e.start.secondsOfDay+$o,n=e.stop.dayNumber,e=e.stop.secondsOfDay+$o,n=bo.iau2006XysData.preload(t,r,n,e),e=bo.earthOrientationParameters.getPromiseToLoad();return ur.all([n,e])},bo.computeIcrfToFixedMatrix=function(e,t){ie(t)||(t=new Y);e=bo.computeFixedToIcrfMatrix(e,t);if(ie(e))return Y.transpose(e,t)};var ea=new yo(0,0,0),ta=new lo(0,0,0,0,0),ra=new Y,na=new Y;bo.computeFixedToIcrfMatrix=function(e,t){ie(t)||(t=new Y);var r=bo.earthOrientationParameters.compute(e,ta);if(ie(r)){var n=e.dayNumber,i=e.secondsOfDay+$o,o=bo.iau2006XysData.computeXysRadians(n,i,ea);if(ie(o)){var a=o.x+r.xPoleOffset,s=o.y+r.yPoleOffset,u=1/(1+Math.sqrt(1-a*a-s*s)),c=ra;c[0]=1-u*a*a,c[3]=-u*a*s,c[6]=a,c[1]=-u*a*s,c[4]=1-u*s*s,c[7]=s,c[2]=-a,c[5]=-s,c[8]=1-u*(a*a+s*s);a=Y.fromRotationZ(-o.s,na),s=Y.multiply(c,a,ra),o=e.dayNumber,c=(e.secondsOfDay-ei.computeTaiMinusUtc(e)+r.ut1MinusUtc)/Dn.SECONDS_PER_DAY,a=(a=.779057273264+c+.00273781191135448*(o-2451545+c))%1*oe.TWO_PI,e=Y.fromRotationZ(a,na),o=Y.multiply(s,e,ra),c=Math.cos(r.xPoleWander),a=Math.cos(r.yPoleWander),s=Math.sin(r.xPoleWander),e=Math.sin(r.yPoleWander),r=n-2451545+i/Dn.SECONDS_PER_DAY,n=-47e-6*(r/=36525)*oe.RADIANS_PER_DEGREE/3600,i=Math.cos(n),r=Math.sin(n),n=na;return n[0]=c*i,n[1]=c*r,n[2]=s,n[3]=-a*r+e*s*i,n[4]=a*i+e*s*r,n[5]=-e*c,n[6]=-e*r-a*s*i,n[7]=e*i-a*s*r,n[8]=a*c,Y.multiply(o,n,t)}}};var ia=new re;bo.pointToWindowCoordinates=function(e,t,r,n){return(n=bo.pointToGLWindowCoordinates(e,t,r,n)).y=2*t[5]-n.y,n},bo.pointToGLWindowCoordinates=function(e,t,r,n){ie(n)||(n=new ae);var i=ia;return me.multiplyByVector(e,re.fromElements(r.x,r.y,r.z,1,i),i),re.multiplyByScalar(i,1/i.w,i),me.multiplyByVector(t,i,i),ae.fromCartesian4(i,n)};var oa=new se,aa=new se,sa=new se;bo.rotationMatrixFromPositionVelocity=function(e,t,r,n){r=C(r,ce.WGS84).geodeticSurfaceNormal(e,oa),e=se.cross(t,r,aa);se.equalsEpsilon(e,se.ZERO,oe.EPSILON6)&&(e=se.clone(se.UNIT_X,e));r=se.cross(e,t,sa);return se.normalize(r,r),se.cross(t,r,e),se.negate(e,e),se.normalize(e,e),(n=!ie(n)?new Y:n)[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=e.x,n[4]=e.y,n[5]=e.z,n[6]=r.x,n[7]=r.y,n[8]=r.z,n};var ua=new me(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1),ca=new x,la=new se,fa=new se,ha=new Y,ma=new me,da=new me;bo.basisTo2D=function(e,t,r){var n=me.getTranslation(t,fa),i=e.ellipsoid,o=i.cartesianToCartographic(n,ca),o=e.project(o,la);se.fromElements(o.z,o.x,o.y,o);i=bo.eastNorthUpToFixedFrame(n,i,ma),i=me.inverseTransformation(i,da),t=me.getMatrix3(t,ha),t=me.multiplyByMatrix3(i,t,r);return me.multiply(ua,t,r),me.setTranslation(r,o,r),r},bo.wgs84To2DModelMatrix=function(e,t,r){var n=e.ellipsoid,i=bo.eastNorthUpToFixedFrame(t,n,ma),i=me.inverseTransformation(i,da),t=n.cartesianToCartographic(t,ca),t=e.project(t,la);se.fromElements(t.z,t.x,t.y,t);t=me.fromTranslation(t,ma);return me.multiply(ua,i,r),me.multiply(t,r,r),r};var Ea=new re;function pa(e,t){e=(t=C(t,ce.WGS84)).scaleToGeodeticSurface(e);var r=bo.eastNorthUpToFixedFrame(e,t);this._ellipsoid=t,this._origin=e,this._xAxis=se.fromCartesian4(me.getColumn(r,0,Ea)),this._yAxis=se.fromCartesian4(me.getColumn(r,1,Ea));r=se.fromCartesian4(me.getColumn(r,2,Ea));this._plane=Tt.fromPointNormal(e,r)}Object.defineProperties(pa.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},origin:{get:function(){return this._origin}},plane:{get:function(){return this._plane}},xAxis:{get:function(){return this._xAxis}},yAxis:{get:function(){return this._yAxis}},zAxis:{get:function(){return this._plane.normal}}});var _a=new dt;pa.fromPoints=function(e,t){return new pa(dt.fromPoints(e,_a).center,t)};var ya=new wt,Ta=new se;pa.prototype.projectPointOntoPlane=function(e,t){var r=ya;r.origin=e,se.normalize(e,r.direction);e=vt.rayPlane(r,this._plane,Ta);if(ie(e)||(se.negate(r.direction,r.direction),e=vt.rayPlane(r,this._plane,Ta)),ie(e)){r=se.subtract(e,this._origin,e),e=se.dot(this._xAxis,r),r=se.dot(this._yAxis,r);return ie(t)?(t.x=e,t.y=r,t):new ae(e,r)}},pa.prototype.projectPointsOntoPlane=function(e,t){ie(t)||(t=[]);for(var r=0,n=e.length,i=0;i<n;i++){var o=this.projectPointOntoPlane(e[i],t[r]);ie(o)&&(t[r]=o,r++)}return t.length=r,t},pa.prototype.projectPointToNearestOnPlane=function(e,t){ie(t)||(t=new ae);var r=ya;r.origin=e,se.clone(this._plane.normal,r.direction);e=vt.rayPlane(r,this._plane,Ta);ie(e)||(se.negate(r.direction,r.direction),e=vt.rayPlane(r,this._plane,Ta));r=se.subtract(e,this._origin,e),e=se.dot(this._xAxis,r),r=se.dot(this._yAxis,r);return t.x=e,t.y=r,t},pa.prototype.projectPointsToNearestOnPlane=function(e,t){ie(t)||(t=[]);var r=e.length;t.length=r;for(var n=0;n<r;n++)t[n]=this.projectPointToNearestOnPlane(e[n],t[n]);return t};var ga=new se;function Ra(e,t){this.center=se.clone(C(e,se.ZERO)),this.halfAxes=Y.clone(C(t,Y.ZERO))}pa.prototype.projectPointOntoEllipsoid=function(e,t){ie(t)||(t=new se);var r=this._ellipsoid,n=this._origin,i=this._xAxis,o=this._yAxis,a=ga;return se.multiplyByScalar(i,e.x,a),t=se.add(n,a,t),se.multiplyByScalar(o,e.y,a),se.add(t,a,t),r.scaleToGeocentricSurface(t,t),t},pa.prototype.projectPointsOntoEllipsoid=function(e,t){var r=e.length;ie(t)?t.length=r:t=new Array(r);for(var n=0;n<r;++n)t[n]=this.projectPointOntoEllipsoid(e[n],t[n]);return t},Ra.packedLength=se.packedLength+Y.packedLength,Ra.pack=function(e,t,r){return r=C(r,0),se.pack(e.center,t,r),Y.pack(e.halfAxes,t,r+se.packedLength),t},Ra.unpack=function(e,t,r){return t=C(t,0),ie(r)||(r=new Ra),se.unpack(e,t,r.center),Y.unpack(e,t+se.packedLength,r.halfAxes),r};var Aa=new se,Sa=new se,Oa=new se,Ia=new se,Na=new se,Ma=new se,xa=new Y,Ca={unitary:new Y,diagonal:new Y};Ra.fromPoints=function(e,t){if(ie(t)||(t=new Ra),!ie(e)||0===e.length)return t.halfAxes=Y.ZERO,t.center=se.ZERO,t;for(var r=e.length,n=se.clone(e[0],Aa),i=1;i<r;i++)se.add(n,e[i],n);var o=1/r;se.multiplyByScalar(n,o,n);var a,s=0,u=0,c=0,l=0,f=0,h=0;for(i=0;i<r;i++)s+=(a=se.subtract(e[i],n,Sa)).x*a.x,u+=a.x*a.y,c+=a.x*a.z,l+=a.y*a.y,f+=a.y*a.z,h+=a.z*a.z;u*=o,c*=o,l*=o,f*=o,h*=o;var m=xa;m[0]=s*=o,m[1]=u,m[2]=c,m[3]=u,m[4]=l,m[5]=f,m[6]=c,m[7]=f,m[8]=h;var m=Y.computeEigenDecomposition(m,Ca),m=Y.clone(m.unitary,t.halfAxes),d=Y.getColumn(m,0,Ia),E=Y.getColumn(m,1,Na),p=Y.getColumn(m,2,Ma),_=-Number.MAX_VALUE,y=-Number.MAX_VALUE,T=-Number.MAX_VALUE,g=Number.MAX_VALUE,R=Number.MAX_VALUE,A=Number.MAX_VALUE;for(i=0;i<r;i++)a=e[i],_=Math.max(se.dot(d,a),_),y=Math.max(se.dot(E,a),y),T=Math.max(se.dot(p,a),T),g=Math.min(se.dot(d,a),g),R=Math.min(se.dot(E,a),R),A=Math.min(se.dot(p,a),A);d=se.multiplyByScalar(d,.5*(g+_),d),E=se.multiplyByScalar(E,.5*(R+y),E),p=se.multiplyByScalar(p,.5*(A+T),p),m=se.add(d,E,t.center);se.add(m,p,m);m=Oa;return m.x=_-g,m.y=y-R,m.z=T-A,se.multiplyByScalar(m,.5,m),Y.multiplyByScale(t.halfAxes,m,t.halfAxes),t};var wa=new se,va=new se;function ba(e,t,r,n,i,o,a,s,u,c,l){var f=(l=!ie(l)?new Ra:l).halfAxes;Y.setColumn(f,0,t,f),Y.setColumn(f,1,r,f),Y.setColumn(f,2,n,f),(r=wa).x=(i+o)/2,r.y=(a+s)/2,r.z=(u+c)/2;n=va;n.x=(o-i)/2,n.y=(s-a)/2,n.z=(c-u)/2;u=l.center,r=Y.multiplyByVector(f,r,r);return se.add(e,r,u),Y.multiplyByScale(f,n,f),l}var Pa=new x,Fa=new se,Ua=new x,Da=new x,za=new x,La=new x,Ba=new x,qa=new se,Ga=new se,ja=new se,Wa=new se,Ha=new se,Va=new ae,Xa=new ae,Ya=new ae,ka=new ae,Ka=new ae,Za=new se,Ja=new se,Qa=new se,$a=new se,es=new ae,ts=new se,rs=new se,ns=new se,is=new Tt(se.UNIT_X,0);Ra.fromRectangle=function(e,t,r,n,i){if(t=C(t,0),r=C(r,0),n=C(n,ce.WGS84),e.width<=oe.PI){var o=xe.center(e,Pa),a=new pa(n.cartographicToCartesian(o,Fa),n),s=a.plane,u=o.longitude,c=e.south<0&&0<e.north?0:o.latitude,l=x.fromRadians(u,e.north,r,Ua),f=x.fromRadians(e.west,e.north,r,Da),h=x.fromRadians(e.west,c,r,za),m=x.fromRadians(e.west,e.south,r,La),d=x.fromRadians(u,e.south,r,Ba),E=n.cartographicToCartesian(l,qa),p=n.cartographicToCartesian(f,Ga),_=n.cartographicToCartesian(h,ja),y=n.cartographicToCartesian(m,Wa),T=n.cartographicToCartesian(d,Ha),o=a.projectPointToNearestOnPlane(E,Va),c=a.projectPointToNearestOnPlane(p,Xa),u=a.projectPointToNearestOnPlane(_,Ya),l=a.projectPointToNearestOnPlane(y,ka),h=a.projectPointToNearestOnPlane(T,Ka),E=-(d=Math.min(c.x,u.x,l.x)),_=Math.max(c.y,o.y),T=Math.min(l.y,h.y);return f.height=m.height=t,p=n.cartographicToCartesian(f,Ga),y=n.cartographicToCartesian(m,Wa),u=Math.min(Tt.getPointDistance(s,p),Tt.getPointDistance(s,y)),c=r,ba(a.origin,a.xAxis,a.yAxis,a.zAxis,d,E,T,_,u,c,i)}o=0<e.south,l=e.north<0,h=o?e.south:l?e.north:0,f=xe.center(e,Pa).longitude,m=se.fromRadians(f,h,r,n,Za);m.z=0;p=Math.abs(m.x)<oe.EPSILON10&&Math.abs(m.y)<oe.EPSILON10?se.UNIT_X:se.normalize(m,Ja),y=se.UNIT_Z,a=se.cross(p,y,Qa);s=Tt.fromPointNormal(m,p,is);f=se.fromRadians(f+oe.PI_OVER_TWO,h,r,n,$a);d=-(E=se.dot(Tt.projectPointOntoPlane(s,f,es),a)),_=se.fromRadians(0,e.north,l?t:r,n,ts).z,T=se.fromRadians(0,e.south,o?t:r,n,rs).z;n=se.fromRadians(e.east,h,r,n,ns);return ba(m,a,y,p,d,E,T,_,u=Tt.getPointDistance(s,n),c=0,i)},Ra.clone=function(e,t){if(ie(e))return ie(t)?(se.clone(e.center,t.center),Y.clone(e.halfAxes,t.halfAxes),t):new Ra(e.center,e.halfAxes)},Ra.intersectPlane=function(e,t){var r=e.center,n=t.normal,i=e.halfAxes,o=n.x,a=n.y,e=n.z,i=Math.abs(o*i[Y.COLUMN0ROW0]+a*i[Y.COLUMN0ROW1]+e*i[Y.COLUMN0ROW2])+Math.abs(o*i[Y.COLUMN1ROW0]+a*i[Y.COLUMN1ROW1]+e*i[Y.COLUMN1ROW2])+Math.abs(o*i[Y.COLUMN2ROW0]+a*i[Y.COLUMN2ROW1]+e*i[Y.COLUMN2ROW2]),t=se.dot(n,r)+t.distance;return t<=-i?V.OUTSIDE:i<=t?V.INSIDE:V.INTERSECTING};var os=new se,as=new se,ss=new se,us=new se;Ra.distanceSquaredTo=function(e,t){var r=se.subtract(t,e.center,wa),n=e.halfAxes,i=Y.getColumn(n,0,os),o=Y.getColumn(n,1,as),a=Y.getColumn(n,2,ss),s=se.magnitude(i),t=se.magnitude(o),e=se.magnitude(a);se.normalize(i,i),se.normalize(o,o),se.normalize(a,a);n=us;n.x=se.dot(r,i),n.y=se.dot(r,o),n.z=se.dot(r,a);var u,a=0;return n.x<-s?a+=(u=n.x+s)*u:n.x>s&&(a+=(u=n.x-s)*u),n.y<-t?a+=(u=n.y+t)*u:n.y>t&&(a+=(u=n.y-t)*u),n.z<-e?a+=(u=n.z+e)*u:n.z>e&&(a+=(u=n.z-e)*u),a};var cs=new se,ls=new se;Ra.computePlaneDistances=function(e,t,r,n){ie(n)||(n=new X);var i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,a=e.center,s=e.halfAxes,u=Y.getColumn(s,0,os),c=Y.getColumn(s,1,as),l=Y.getColumn(s,2,ss),f=se.add(u,c,cs);se.add(f,l,f),se.add(f,a,f);e=se.subtract(f,t,ls),s=se.dot(r,e),i=Math.min(s,i),o=Math.max(s,o);return se.add(a,u,f),se.add(f,c,f),se.subtract(f,l,f),se.subtract(f,t,e),s=se.dot(r,e),i=Math.min(s,i),o=Math.max(s,o),se.add(a,u,f),se.subtract(f,c,f),se.add(f,l,f),se.subtract(f,t,e),s=se.dot(r,e),i=Math.min(s,i),o=Math.max(s,o),se.add(a,u,f),se.subtract(f,c,f),se.subtract(f,l,f),se.subtract(f,t,e),s=se.dot(r,e),i=Math.min(s,i),o=Math.max(s,o),se.subtract(a,u,f),se.add(f,c,f),se.add(f,l,f),se.subtract(f,t,e),s=se.dot(r,e),i=Math.min(s,i),o=Math.max(s,o),se.subtract(a,u,f),se.add(f,c,f),se.subtract(f,l,f),se.subtract(f,t,e),s=se.dot(r,e),i=Math.min(s,i),o=Math.max(s,o),se.subtract(a,u,f),se.subtract(f,c,f),se.add(f,l,f),se.subtract(f,t,e),s=se.dot(r,e),i=Math.min(s,i),o=Math.max(s,o),se.subtract(a,u,f),se.subtract(f,c,f),se.subtract(f,l,f),se.subtract(f,t,e),s=se.dot(r,e),i=Math.min(s,i),o=Math.max(s,o),n.start=i,n.stop=o,n};var fs=new we;Ra.isOccluded=function(e,t){e=we.fromOrientedBoundingBox(e,fs);return!t.isBoundingSphereVisible(e)},Ra.prototype.intersectPlane=function(e){return Ra.intersectPlane(this,e)},Ra.prototype.distanceSquaredTo=function(e){return Ra.distanceSquaredTo(this,e)},Ra.prototype.computePlaneDistances=function(e,t,r){return Ra.computePlaneDistances(this,e,t,r)},Ra.prototype.isOccluded=function(e){return Ra.isOccluded(this,e)},Ra.equals=function(e,t){return e===t||ie(e)&&ie(t)&&se.equals(e.center,t.center)&&Y.equals(e.halfAxes,t.halfAxes)},Ra.prototype.clone=function(e){return Ra.clone(this,e)},Ra.prototype.equals=function(e){return Ra.equals(this,e)};var hs={BYTE:pt.BYTE,UNSIGNED_BYTE:pt.UNSIGNED_BYTE,SHORT:pt.SHORT,UNSIGNED_SHORT:pt.UNSIGNED_SHORT,INT:pt.INT,UNSIGNED_INT:pt.UNSIGNED_INT,FLOAT:pt.FLOAT,DOUBLE:pt.DOUBLE,getSizeInBytes:function(e){switch(e){case hs.BYTE:return Int8Array.BYTES_PER_ELEMENT;case hs.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case hs.SHORT:return Int16Array.BYTES_PER_ELEMENT;case hs.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case hs.INT:return Int32Array.BYTES_PER_ELEMENT;case hs.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case hs.FLOAT:return Float32Array.BYTES_PER_ELEMENT;case hs.DOUBLE:return Float64Array.BYTES_PER_ELEMENT}},fromTypedArray:function(e){return e instanceof Int8Array?hs.BYTE:e instanceof Uint8Array?hs.UNSIGNED_BYTE:e instanceof Int16Array?hs.SHORT:e instanceof Uint16Array?hs.UNSIGNED_SHORT:e instanceof Int32Array?hs.INT:e instanceof Uint32Array?hs.UNSIGNED_INT:e instanceof Float32Array?hs.FLOAT:e instanceof Float64Array?hs.DOUBLE:void 0},validate:function(e){return ie(e)&&(e===hs.BYTE||e===hs.UNSIGNED_BYTE||e===hs.SHORT||e===hs.UNSIGNED_SHORT||e===hs.INT||e===hs.UNSIGNED_INT||e===hs.FLOAT||e===hs.DOUBLE)},createTypedArray:function(e,t){switch(e){case hs.BYTE:return new Int8Array(t);case hs.UNSIGNED_BYTE:return new Uint8Array(t);case hs.SHORT:return new Int16Array(t);case hs.UNSIGNED_SHORT:return new Uint16Array(t);case hs.INT:return new Int32Array(t);case hs.UNSIGNED_INT:return new Uint32Array(t);case hs.FLOAT:return new Float32Array(t);case hs.DOUBLE:return new Float64Array(t)}},createArrayBufferView:function(e,t,r,n){switch(r=C(r,0),n=C(n,(t.byteLength-r)/hs.getSizeInBytes(e)),e){case hs.BYTE:return new Int8Array(t,r,n);case hs.UNSIGNED_BYTE:return new Uint8Array(t,r,n);case hs.SHORT:return new Int16Array(t,r,n);case hs.UNSIGNED_SHORT:return new Uint16Array(t,r,n);case hs.INT:return new Int32Array(t,r,n);case hs.UNSIGNED_INT:return new Uint32Array(t,r,n);case hs.FLOAT:return new Float32Array(t,r,n);case hs.DOUBLE:return new Float64Array(t,r,n)}},fromName:function(e){switch(e){case"BYTE":return hs.BYTE;case"UNSIGNED_BYTE":return hs.UNSIGNED_BYTE;case"SHORT":return hs.SHORT;case"UNSIGNED_SHORT":return hs.UNSIGNED_SHORT;case"INT":return hs.INT;case"UNSIGNED_INT":return hs.UNSIGNED_INT;case"FLOAT":return hs.FLOAT;case"DOUBLE":return hs.DOUBLE}}},ms=Object.freeze(hs),ds=Object.freeze({NONE:0,BITS12:1}),Es=new se,ps=new se,_s=new ae,ys=new me,Ts=new me;function gs(e,t,r,n,i,o){var a,s,u,c,l,f=ds.NONE;ie(e)&&ie(t)&&ie(r)&&ie(n)&&(c=e.minimum,s=e.maximum,l=se.subtract(s,c,ps),u=r-t,Math.max(se.maximumComponent(l),u),f=ds.NONE,a=e.center,s=me.inverseTransformation(n,new me),u=se.negate(c,Es),me.multiply(me.fromTranslation(u,ys),s,s),(u=Es).x=1/l.x,u.y=1/l.y,u.z=1/l.z,me.multiply(me.fromScale(u,ys),s,s),u=me.clone(n),me.setTranslation(u,se.ZERO,u),n=me.clone(n,new me),c=me.fromTranslation(c,ys),l=me.fromScale(l,Ts),l=me.multiply(c,l,ys),me.multiply(n,l,n),me.multiply(u,l,u)),this.quantization=f,this.minimumHeight=t,this.maximumHeight=r,this.center=a,this.toScaledENU=s,this.fromScaledENU=n,this.matrix=u,this.hasVertexNormals=i,this.hasWebMercatorT=C(o,!1)}gs.prototype.encode=function(e,t,r,n,i,o,a){var s,u,c=n.x,l=n.y;return this.quantization===ds.BITS12?((r=me.multiplyByPoint(this.toScaledENU,r,Es)).x=oe.clamp(r.x,0,1),r.y=oe.clamp(r.y,0,1),r.z=oe.clamp(r.z,0,1),s=this.maximumHeight-this.minimumHeight,u=oe.clamp((i-this.minimumHeight)/s,0,1),ae.fromElements(r.x,r.y,_s),n=ue.compressTextureCoordinates(_s),ae.fromElements(r.z,u,_s),s=ue.compressTextureCoordinates(_s),ae.fromElements(c,l,_s),u=ue.compressTextureCoordinates(_s),e[t++]=n,e[t++]=s,e[t++]=u,this.hasWebMercatorT&&(ae.fromElements(a,0,_s),u=ue.compressTextureCoordinates(_s),e[t++]=u)):(se.subtract(r,this.center,Es),e[t++]=Es.x,e[t++]=Es.y,e[t++]=Es.z,e[t++]=i,e[t++]=c,e[t++]=l,this.hasWebMercatorT&&(e[t++]=a)),this.hasVertexNormals&&(e[t++]=ue.octPackFloat(o)),t},gs.prototype.decodePosition=function(e,t,r){if(ie(r)||(r=new se),t*=this.getStride(),this.quantization!==ds.BITS12)return r.x=e[t],r.y=e[t+1],r.z=e[t+2],se.add(r,this.center,r);var n=ue.decompressTextureCoordinates(e[t],_s);r.x=n.x,r.y=n.y;t=ue.decompressTextureCoordinates(e[t+1],_s);return r.z=t.x,me.multiplyByPoint(this.fromScaledENU,r,r)},gs.prototype.decodeTextureCoordinates=function(e,t,r){return ie(r)||(r=new ae),t*=this.getStride(),this.quantization===ds.BITS12?ue.decompressTextureCoordinates(e[t+2],r):ae.fromElements(e[t+4],e[t+5],r)},gs.prototype.decodeHeight=function(e,t){return t*=this.getStride(),this.quantization!==ds.BITS12?e[t+3]:ue.decompressTextureCoordinates(e[t+1],_s).y*(this.maximumHeight-this.minimumHeight)+this.minimumHeight},gs.prototype.decodeWebMercatorT=function(e,t){return t*=this.getStride(),this.quantization===ds.BITS12?ue.decompressTextureCoordinates(e[t+3],_s).x:e[t+6]},gs.prototype.getOctEncodedNormal=function(e,t,r){e=e[t=(t+1)*this.getStride()-1]/256,t=Math.floor(e);return ae.fromElements(t,256*(e-t),r)},gs.prototype.getStride=function(){var e=this.quantization===ds.BITS12?3:6;return this.hasWebMercatorT&&++e,this.hasVertexNormals&&++e,e};var Rs={position3DAndHeight:0,textureCoordAndEncodedNormals:1},As={compressed0:0,compressed1:1};function Ss(){o.throwInstantiationError()}gs.prototype.getAttributes=function(e){var t,r=ms.FLOAT,n=ms.getSizeInBytes(r);if(this.quantization===ds.NONE){var i=2;return this.hasWebMercatorT&&++i,this.hasVertexNormals&&++i,[{index:Rs.position3DAndHeight,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:4,offsetInBytes:0,strideInBytes:t=(4+i)*n},{index:Rs.textureCoordAndEncodedNormals,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:i,offsetInBytes:4*n,strideInBytes:t}]}var o=3,i=0;return(this.hasWebMercatorT||this.hasVertexNormals)&&++o,this.hasWebMercatorT&&this.hasVertexNormals?(++i,[{index:As.compressed0,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:o,offsetInBytes:0,strideInBytes:t=(o+1)*n},{index:As.compressed1,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:1,offsetInBytes:o*n,strideInBytes:t}]):[{index:As.compressed0,vertexBuffer:e,componentDatatype:r,componentsPerAttribute:o}]},gs.prototype.getAttributeLocations=function(){return this.quantization===ds.NONE?Rs:As},gs.clone=function(e,t){return(t=!ie(t)?new gs:t).quantization=e.quantization,t.minimumHeight=e.minimumHeight,t.maximumHeight=e.maximumHeight,t.center=se.clone(e.center),t.toScaledENU=me.clone(e.toScaledENU),t.fromScaledENU=me.clone(e.fromScaledENU),t.matrix=me.clone(e.matrix),t.hasVertexNormals=e.hasVertexNormals,t.hasWebMercatorT=e.hasWebMercatorT,t},Object.defineProperties(Ss.prototype,{errorEvent:{get:o.throwInstantiationError},credit:{get:o.throwInstantiationError},tilingScheme:{get:o.throwInstantiationError},ready:{get:o.throwInstantiationError},readyPromise:{get:o.throwInstantiationError},hasWaterMask:{get:o.throwInstantiationError},hasVertexNormals:{get:o.throwInstantiationError},availability:{get:o.throwInstantiationError}});var Os=[];Ss.getRegularGridIndices=function(e,t){var r=Os[e];ie(r)||(Os[e]=r=[]);var n=r[t];return ie(n)||xs(e,t,n=e*t<oe.SIXTY_FOUR_KILOBYTES?r[t]=new Uint16Array((e-1)*(t-1)*6):r[t]=new Uint32Array((e-1)*(t-1)*6),0),n};var Is=[];Ss.getRegularGridIndicesAndEdgeIndices=function(e,t){var r=Is[e];ie(r)||(Is[e]=r=[]);var n,i,o,a,s=r[t];return ie(s)||(n=Ss.getRegularGridIndices(e,t),i=(a=Ms(e,t)).westIndicesSouthToNorth,o=a.southIndicesEastToWest,e=a.eastIndicesNorthToSouth,a=a.northIndicesWestToEast,s=r[t]={indices:n,westIndicesSouthToNorth:i,southIndicesEastToWest:o,eastIndicesNorthToSouth:e,northIndicesWestToEast:a}),s};var Ns=[];function Ms(e,t){for(var r=new Array(t),n=new Array(e),i=new Array(t),o=new Array(e),a=0;a<e;++a)n[o[a]=a]=e*t-1-a;for(a=0;a<t;++a)i[a]=(a+1)*e-1,r[a]=(t-a-1)*e;return{westIndicesSouthToNorth:r,southIndicesEastToWest:n,eastIndicesNorthToSouth:i,northIndicesWestToEast:o}}function xs(e,t,r,n){for(var i=0,o=0;o<t-1;++o){for(var a=0;a<e-1;++a){var s=i,u=s+e,c=u+1,l=s+1;r[n++]=s,r[n++]=u,r[n++]=l,r[n++]=l,r[n++]=u,r[n++]=c,++i}++i}}function Cs(e,t,r,n){for(var i=e[0],o=e.length,a=1;a<o;++a){var s=e[a];r[n++]=i,r[n++]=s,r[n++]=t,r[n++]=t,r[n++]=s,r[n++]=t+1,i=s,++t}return n}function ws(e){this._ellipsoid=C(e,ce.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}Ss.getRegularGridAndSkirtIndicesAndEdgeIndices=function(e,t){var r=Ns[e];ie(r)||(Ns[e]=r=[]);var n,i,o,a,s,u,c,l,f=r[t];return ie(f)||(o=(n=e*t)+(u=2*e+2*t),l=(i=(e-1)*(t-1)*6)+6*Math.max(0,u-4),a=(c=Ms(e,t)).westIndicesSouthToNorth,s=c.southIndicesEastToWest,u=c.eastIndicesNorthToSouth,c=c.northIndicesWestToEast,xs(e,t,l=yt.createTypedArray(o,l),0),Ss.addSkirtIndices(a,s,u,c,n,l,i),f=r[t]={indices:l,westIndicesSouthToNorth:a,southIndicesEastToWest:s,eastIndicesNorthToSouth:u,northIndicesWestToEast:c,indexCountWithoutSkirts:i}),f},Ss.addSkirtIndices=function(e,t,r,n,i,o,a){a=Cs(e,i,o,a),a=Cs(t,i+=e.length,o,a),a=Cs(r,i+=t.length,o,a),Cs(n,i+=r.length,o,a)},Ss.heightmapTerrainQuality=.25,Ss.getEstimatedLevelZeroGeometricErrorForAHeightmap=function(e,t,r){return 2*e.maximumRadius*Math.PI*Ss.heightmapTerrainQuality/(t*r)},Ss.prototype.requestTileGeometry=o.throwInstantiationError,Ss.prototype.getLevelMaximumGeometricError=o.throwInstantiationError,Ss.prototype.getTileDataAvailable=o.throwInstantiationError,Ss.prototype.loadTileDataAvailability=o.throwInstantiationError,Object.defineProperties(ws.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),ws.mercatorAngleToGeodeticLatitude=function(e){return oe.PI_OVER_TWO-2*Math.atan(Math.exp(-e))},ws.geodeticLatitudeToMercatorAngle=function(e){ws.MaximumLatitude<e?e=ws.MaximumLatitude:e<-ws.MaximumLatitude&&(e=-ws.MaximumLatitude);e=Math.sin(e);return.5*Math.log((1+e)/(1-e))},ws.MaximumLatitude=ws.mercatorAngleToGeodeticLatitude(Math.PI),ws.prototype.project=function(e,t){var r=this._semimajorAxis,n=e.longitude*r,r=ws.geodeticLatitudeToMercatorAngle(e.latitude)*r,e=e.height;return ie(t)?(t.x=n,t.y=r,t.z=e,t):new se(n,r,e)},ws.prototype.unproject=function(e,t){var r=this._oneOverSemimajorAxis,n=e.x*r,r=ws.mercatorAngleToGeodeticLatitude(e.y*r),e=e.z;return ie(t)?(t.longitude=n,t.latitude=r,t.height=e,t):new x(n,r,e)};var vs,bs,Ps=new se,Fs=new se,Us=new se,Ds=new x,zs=new ae,Ls=new se,Bs=new me,qs=new me;function Gs(e,t,r,n,i,o,a,s,u){var c=Number.POSITIVE_INFINITY,l=i.north,f=i.south,h=i.east,m=i.west;h<m&&(h+=oe.TWO_PI);for(var d=e.length,E=0;E<d;++E){var p=e[E],_=r[p],p=n[p];Ds.longitude=oe.lerp(m,h,p.x),Ds.latitude=oe.lerp(f,l,p.y),Ds.height=_-t;_=o.cartographicToCartesian(Ds,Ps);me.multiplyByPoint(a,_,_),se.minimumByComponent(_,s,s),se.maximumByComponent(_,u,u),c=Math.min(c,Ds.height)}return c}function js(e,t,r,n,i,o,a,s,u,c,l,f,h,m,d){var E=ie(a),p=u.north,_=u.south,y=u.east,T=u.west;y<T&&(y+=oe.TWO_PI);for(var g=r.length,R=0;R<g;++R){var A=r[R],S=i[A],O=o[A];Ds.longitude=oe.lerp(T,y,O.x)+m,Ds.latitude=oe.lerp(_,p,O.y)+d,Ds.height=S-c;var I,N,M=s.cartographicToCartesian(Ds,Ps);E&&(zs.x=a[I=2*A],zs.y=a[1+I],1!==l&&(S=ue.octDecode(zs.x,zs.y,Ls),A=bo.eastNorthUpToFixedFrame(Ps,s,qs),I=me.inverseTransformation(A,Bs),me.multiplyByPointAsVector(I,S,S),S.z*=l,se.normalize(S,S),me.multiplyByPointAsVector(A,S,S),se.normalize(S,S),ue.octEncode(S,zs))),n.hasWebMercatorT&&(N=(ws.geodeticLatitudeToMercatorAngle(Ds.latitude)-f)*h),t=n.encode(e,t,M,O,Ds.height,zs,N)}}function Ws(e,t){var r;return(r=!ie(r="function"==typeof e.slice&&"function"!=typeof(r=e.slice()).sort?void 0:r)?Array.prototype.slice.call(e):r).sort(t),r}return vs=function(e,t){var r,n,i=e.quantizedVertices,o=i.length/3,a=e.octEncodedNormals,s=e.westIndices.length+e.eastIndices.length+e.southIndices.length+e.northIndices.length,u=e.includeWebMercatorT,c=xe.clone(e.rectangle),l=c.west,f=c.south,h=c.east,m=c.north,d=ce.clone(e.ellipsoid),E=e.exaggeration,p=e.minimumHeight*E,_=e.maximumHeight*E,y=e.relativeToCenter,T=bo.eastNorthUpToFixedFrame(y,d),g=me.inverseTransformation(T,new me);u&&(r=ws.geodeticLatitudeToMercatorAngle(f),n=1/(ws.geodeticLatitudeToMercatorAngle(m)-r));var R=i.subarray(0,o),A=i.subarray(o,2*o),S=i.subarray(2*o,3*o),O=ie(a),I=new Array(o),N=new Array(o),M=new Array(o),x=u?new Array(o):[],C=Fs;C.x=Number.POSITIVE_INFINITY,C.y=Number.POSITIVE_INFINITY,C.z=Number.POSITIVE_INFINITY;var w=Us;w.x=Number.NEGATIVE_INFINITY,w.y=Number.NEGATIVE_INFINITY,w.z=Number.NEGATIVE_INFINITY;for(var v=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,P=Number.POSITIVE_INFINITY,F=Number.NEGATIVE_INFINITY,U=0;U<o;++U){var D=R[U]/32767,z=A[U]/32767,L=oe.lerp(p,_,S[U]/32767);Ds.longitude=oe.lerp(l,h,D),Ds.latitude=oe.lerp(f,m,z),Ds.height=L;var v=Math.min(Ds.longitude,v),b=Math.max(Ds.longitude,b),P=Math.min(Ds.latitude,P),F=Math.max(Ds.latitude,F),B=d.cartographicToCartesian(Ds);I[U]=new ae(D,z),N[U]=L,M[U]=B,u&&(x[U]=(ws.geodeticLatitudeToMercatorAngle(Ds.latitude)-r)*n),me.multiplyByPoint(g,B,Ps),se.minimumByComponent(Ps,C,C),se.maximumByComponent(Ps,w,w)}var q,G,j,W=Ws(e.westIndices,function(e,t){return I[e].y-I[t].y}),H=Ws(e.eastIndices,function(e,t){return I[t].y-I[e].y}),V=Ws(e.southIndices,function(e,t){return I[t].x-I[e].x}),X=Ws(e.northIndices,function(e,t){return I[e].x-I[t].x});1!==E&&(G=we.fromPoints(M),q=Ra.fromRectangle(c,p,_,d)),(1!==E||p<0)&&(j=new EllipsoidalOccluder(d).computeHorizonCullingPointPossiblyUnderEllipsoid(y,M,p));var Y=Math.min(p,Gs(e.westIndices,e.westSkirtHeight,N,I,c,d,g,C,w));Y=Math.min(Y,Gs(e.southIndices,e.southSkirtHeight,N,I,c,d,g,C,w)),Y=Math.min(Y,Gs(e.eastIndices,e.eastSkirtHeight,N,I,c,d,g,C,w)),Y=Math.min(Y,Gs(e.northIndices,e.northSkirtHeight,N,I,c,d,g,C,w));for(var k,K,Z,J=new gs(new dt(C,w,y),Y,_,T,O,u),Q=J.getStride(),$=new Float32Array(o*Q+s*Q),ee=0,te=0;te<o;++te)O&&(zs.x=a[Z=2*te],zs.y=a[1+Z],1!==E&&(k=ue.octDecode(zs.x,zs.y,Ls),K=bo.eastNorthUpToFixedFrame(M[te],d,qs),Z=me.inverseTransformation(K,Bs),me.multiplyByPointAsVector(Z,k,k),k.z*=E,se.normalize(k,k),me.multiplyByPointAsVector(K,k,k),se.normalize(k,k),ue.octEncode(k,zs))),ee=J.encode($,ee,M[te],I[te],N[te],zs,x[te]);var re=Math.max(0,2*(s-4)),ne=e.indices.length+3*re;return(i=yt.createTypedArray(o+s,ne)).set(e.indices,0),re=Y=1e-4*(b-v),ne=-(s=T=1e-4*(F-P)),js($,T=o*Q,W,J,N,I,a,d,c,e.westSkirtHeight,E,r,n,-Y,0),js($,T+=e.westIndices.length*Q,V,J,N,I,a,d,c,e.southSkirtHeight,E,r,n,0,ne),js($,T+=e.southIndices.length*Q,H,J,N,I,a,d,c,e.eastSkirtHeight,E,r,n,re,0),js($,T+=e.eastIndices.length*Q,X,J,N,I,a,d,c,e.northSkirtHeight,E,r,n,0,s),Ss.addSkirtIndices(W,V,H,X,o,i,e.indices.length),t.push($.buffer,i.buffer),{vertices:$.buffer,indices:i.buffer,westIndicesSouthToNorth:W,southIndicesEastToWest:V,eastIndicesNorthToSouth:H,northIndicesWestToEast:X,vertexStride:Q,center:y,minimumHeight:p,maximumHeight:_,boundingSphere:G,orientedBoundingBox:q,occludeePointInScaledSpace:j,encoding:J,indexCountWithoutSkirts:e.indices.length}},function(e){var i=e.data,o=[],a={id:i.id,result:void 0,error:void 0};return ur(function(e,t,r){try{return e(t,r)}catch(e){return ur.reject(e)}}(vs,i.parameters,o)).then(function(e){a.result=e}).otherwise(function(e){e instanceof Error?a.error={name:e.name,message:e.message,stack:e.stack}:a.error=e}).always(function(){ie(bs)||(bs=C(self.webkitPostMessage,self.postMessage)),i.canTransferArrayBuffer||(o.length=0);try{bs(a,o)}catch(e){a.result=void 0,a.error="postMessage failed with error: "+(r=(t=e).name,n=t.message,n=ie(r)&&ie(n)?r+": "+n:t.toString(),ie(t=t.stack)&&(n+="\n"+t),n)+"\n    with responseMessage: "+JSON.stringify(a),bs(a)}var t,r,n})}});
